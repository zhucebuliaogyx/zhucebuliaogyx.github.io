<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<script id="versionArea" type="text/javascript">
//<![CDATA[
var version = {title: "TiddlyWiki", major: 2, minor: 8, revision: 1, date: new Date("June 23, 2013"), extensions: {}};

//]]>
</script>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="copyright" content="
TiddlyWiki created by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

Copyright (c) Jeremy Ruston 2004-2007
Copyright (c) UnaMesa Association 2007-2012

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the UnaMesa Association nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.

" />
<!--PRE-HEAD-START-->
<!--{{{-->
<link href="/bags/zhucebuliaogyx_public/tiddlers.atom" rel="alternate"
	type="application/atom+xml" title="zhucebuliaogyx's public feed" />
<link rel="canonical" href="http://zhucebuliaogyx.tiddlyspace.com/" />
<!--}}}-->

<!--PRE-HEAD-END-->
<title>
zhucebuliao G Y X
<html>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<embed src="http://music.163.com/style/swf/widget.swf?sid=431855661&type=2&auto=1&width=320&height=66" width="340" height="86"  loop="true" autostart="true"allowNetworking="all"></embed>
</html> - GOT7的迷妹


</title>
<style id="styleArea" type="text/css">
#saveTest {display:none;}
#messageArea {display:none;}
#copyright {display:none;}
#storeArea {display:none;}
#storeArea div {padding:0.5em; margin:1em 0em 0em 0em; border-color:#fff #666 #444 #ddd; border-style:solid; border-width:2px; overflow:auto;}
#shadowArea {display:none;}
#javascriptWarning {width:100%; text-align:center; font-weight:bold; background-color:#dd1100; color:#fff; padding:1em 0em;}

</style>
<!--POST-HEAD-START-->

<!--POST-HEAD-END-->
</head>
<body onload="main();" onunload="if(window.unload) unload();">
<!--PRE-BODY-START-->

<!--PRE-BODY-END-->
<div id="copyright">
Welcome to TiddlyWiki created by Jeremy Ruston; Copyright &copy; 2004-2007 Jeremy Ruston, Copyright &copy; 2007-2011 UnaMesa Association
</div>
<noscript>

<div id="javascriptWarning">
This page requires JavaScript to function properly.<br /><br />
If you do not use JavaScript you may still <a href="/tiddlers">browse
the content of this wiki</a>.
</div>

</noscript>
<div id="saveTest"></div>
<div id="backstageCloak"></div>
<div id="backstageButton"></div>
<div id="backstageArea"><div id="backstageToolbar"></div></div>
<div id="backstage">
	<div id="backstagePanel"></div>
</div>
<div id="contentWrapper"></div>
<div id="contentStash"></div>
<div id="shadowArea">
<div title="ColorPalette">
<pre>Background: #fff
Foreground: #000
PrimaryPale: #8cf
PrimaryLight: #18f
PrimaryMid: #04b
PrimaryDark: #014
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #f88
</pre>
</div>
<div title="EditTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' macro='toolbar [[ToolbarCommands::EditToolbar]]'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit title'&gt;&lt;/div&gt;
&lt;div macro='annotations'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit text'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit tags'&gt;&lt;/div&gt;&lt;div class='editorFooter'&gt;&lt;span macro='message views.editor.tagPrompt'&gt;&lt;/span&gt;&lt;span macro='tagChooser excludeLists'&gt;&lt;/span&gt;&lt;/div&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="GettingStarted">
<pre>To get started with this blank [[TiddlyWiki]], you'll need to modify the following tiddlers:
* [[SiteTitle]] &amp; [[SiteSubtitle]]: The title and subtitle of the site, as shown above (after saving, they will also appear in the browser title bar)
* [[MainMenu]]: The menu (usually on the left)
* [[DefaultTiddlers]]: Contains the names of the tiddlers that you want to appear when the TiddlyWiki is opened
You'll also need to enter your username for signing your edits: &lt;&lt;option txtUserName&gt;&gt;
</pre>
</div>
<div title="ImportTiddlers">
<pre>&lt;&lt;importTiddlers&gt;&gt;
</pre>
</div>
<div title="MarkupPreHead">
<pre>&lt;!--{{{--&gt;
&lt;link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml' /&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="OptionsPanel">
<pre>These [[InterfaceOptions]] for customising [[TiddlyWiki]] are saved in your browser

Your username for signing your edits. Write it as a [[WikiWord]] (eg [[JoeBloggs]])

&lt;&lt;option txtUserName&gt;&gt;
&lt;&lt;option chkSaveBackups&gt;&gt; [[SaveBackups]]
&lt;&lt;option chkAutoSave&gt;&gt; [[AutoSave]]
&lt;&lt;option chkRegExpSearch&gt;&gt; [[RegExpSearch]]
&lt;&lt;option chkCaseSensitiveSearch&gt;&gt; [[CaseSensitiveSearch]]
&lt;&lt;option chkAnimate&gt;&gt; [[EnableAnimations]]

----
Also see [[AdvancedOptions]]
</pre>
</div>
<div title="PageTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='header' role='banner' macro='gradient vert [[ColorPalette::PrimaryLight]] [[ColorPalette::PrimaryMid]]'&gt;
&lt;div class='headerShadow'&gt;
&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class='headerForeground'&gt;
&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id='mainMenu' role='navigation' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;
&lt;div id='sidebar'&gt;
&lt;div id='sidebarOptions' role='navigation' refresh='content' tiddler='SideBarOptions'&gt;&lt;/div&gt;
&lt;div id='sidebarTabs' role='complementary' refresh='content' force='true' tiddler='SideBarTabs'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id='displayArea' role='main'&gt;
&lt;div id='messageArea'&gt;&lt;/div&gt;
&lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="StyleSheetColors">
<pre>/*{{{*/
body {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}

a {color:[[ColorPalette::PrimaryMid]];}
a:hover {background-color:[[ColorPalette::PrimaryMid]]; color:[[ColorPalette::Background]];}
a img {border:0;}

h1,h2,h3,h4,h5,h6 {color:[[ColorPalette::SecondaryDark]]; background:transparent;}
h1 {border-bottom:2px solid [[ColorPalette::TertiaryLight]];}
h2,h3 {border-bottom:1px solid [[ColorPalette::TertiaryLight]];}

.button {color:[[ColorPalette::PrimaryDark]]; border:1px solid [[ColorPalette::Background]];}
.button:hover {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::SecondaryLight]]; border-color:[[ColorPalette::SecondaryMid]];}
.button:active {color:[[ColorPalette::Background]]; background:[[ColorPalette::SecondaryMid]]; border:1px solid [[ColorPalette::SecondaryDark]];}

.header {background:[[ColorPalette::PrimaryMid]];}
.headerShadow {color:[[ColorPalette::Foreground]];}
.headerShadow a {font-weight:normal; color:[[ColorPalette::Foreground]];}
.headerForeground {color:[[ColorPalette::Background]];}
.headerForeground a {font-weight:normal; color:[[ColorPalette::PrimaryPale]];}

.tabSelected {color:[[ColorPalette::PrimaryDark]];
	background:[[ColorPalette::TertiaryPale]];
	border-left:1px solid [[ColorPalette::TertiaryLight]];
	border-top:1px solid [[ColorPalette::TertiaryLight]];
	border-right:1px solid [[ColorPalette::TertiaryLight]];
}
.tabUnselected {color:[[ColorPalette::Background]]; background:[[ColorPalette::TertiaryMid]];}
.tabContents {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::TertiaryPale]]; border:1px solid [[ColorPalette::TertiaryLight]];}
.tabContents .button {border:0;}

#sidebar {}
#sidebarOptions input {border:1px solid [[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel {background:[[ColorPalette::PrimaryPale]];}
#sidebarOptions .sliderPanel a {border:none;color:[[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel a:hover {color:[[ColorPalette::Background]]; background:[[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel a:active {color:[[ColorPalette::PrimaryMid]]; background:[[ColorPalette::Background]];}

.wizard {background:[[ColorPalette::PrimaryPale]]; border:1px solid [[ColorPalette::PrimaryMid]];}
.wizard h1 {color:[[ColorPalette::PrimaryDark]]; border:none;}
.wizard h2 {color:[[ColorPalette::Foreground]]; border:none;}
.wizardStep {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];
	border:1px solid [[ColorPalette::PrimaryMid]];}
.wizardStep.wizardStepDone {background:[[ColorPalette::TertiaryLight]];}
.wizardFooter {background:[[ColorPalette::PrimaryPale]];}
.wizardFooter .status {background:[[ColorPalette::PrimaryDark]]; color:[[ColorPalette::Background]];}
.wizard .button {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::SecondaryLight]]; border: 1px solid;
	border-color:[[ColorPalette::SecondaryPale]] [[ColorPalette::SecondaryDark]] [[ColorPalette::SecondaryDark]] [[ColorPalette::SecondaryPale]];}
.wizard .button:hover {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::Background]];}
.wizard .button:active {color:[[ColorPalette::Background]]; background:[[ColorPalette::Foreground]]; border: 1px solid;
	border-color:[[ColorPalette::PrimaryDark]] [[ColorPalette::PrimaryPale]] [[ColorPalette::PrimaryPale]] [[ColorPalette::PrimaryDark]];}

.wizard .notChanged {background:transparent;}
.wizard .changedLocally {background:#80ff80;}
.wizard .changedServer {background:#8080ff;}
.wizard .changedBoth {background:#ff8080;}
.wizard .notFound {background:#ffff80;}
.wizard .putToServer {background:#ff80ff;}
.wizard .gotFromServer {background:#80ffff;}

#messageArea {border:1px solid [[ColorPalette::SecondaryMid]]; background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]];}
#messageArea .button {color:[[ColorPalette::PrimaryMid]]; background:[[ColorPalette::SecondaryPale]]; border:none;}

.popupTiddler {background:[[ColorPalette::TertiaryPale]]; border:2px solid [[ColorPalette::TertiaryMid]];}

.popup {background:[[ColorPalette::TertiaryPale]]; color:[[ColorPalette::TertiaryDark]]; border-left:1px solid [[ColorPalette::TertiaryMid]]; border-top:1px solid [[ColorPalette::TertiaryMid]]; border-right:2px solid [[ColorPalette::TertiaryDark]]; border-bottom:2px solid [[ColorPalette::TertiaryDark]];}
.popup hr {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::PrimaryDark]]; border-bottom:1px;}
.popup li.disabled {color:[[ColorPalette::TertiaryMid]];}
.popup li a, .popup li a:visited {color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:active {background:[[ColorPalette::SecondaryPale]]; color:[[ColorPalette::Foreground]]; border: none;}
.popupHighlight {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}
.listBreak div {border-bottom:1px solid [[ColorPalette::TertiaryDark]];}

.tiddler .defaultCommand {font-weight:bold;}

.shadow .title {color:[[ColorPalette::TertiaryDark]];}

.title {color:[[ColorPalette::SecondaryDark]];}
.subtitle {color:[[ColorPalette::TertiaryDark]];}

.toolbar {color:[[ColorPalette::PrimaryMid]];}
.toolbar a {color:[[ColorPalette::TertiaryLight]];}
.selected .toolbar a {color:[[ColorPalette::TertiaryMid]];}
.selected .toolbar a:hover {color:[[ColorPalette::Foreground]];}

.tagging, .tagged {border:1px solid [[ColorPalette::TertiaryPale]]; background-color:[[ColorPalette::TertiaryPale]];}
.selected .tagging, .selected .tagged {background-color:[[ColorPalette::TertiaryLight]]; border:1px solid [[ColorPalette::TertiaryMid]];}
.tagging .listTitle, .tagged .listTitle {color:[[ColorPalette::PrimaryDark]];}
.tagging .button, .tagged .button {border:none;}

.footer {color:[[ColorPalette::TertiaryLight]];}
.selected .footer {color:[[ColorPalette::TertiaryMid]];}

.error, .errorButton {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::Error]];}
.warning {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::SecondaryPale]];}
.lowlight {background:[[ColorPalette::TertiaryLight]];}

.zoomer {background:none; color:[[ColorPalette::TertiaryMid]]; border:3px solid [[ColorPalette::TertiaryMid]];}

.imageLink, #displayArea .imageLink {background:transparent;}

.annotation {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border:2px solid [[ColorPalette::SecondaryMid]];}

.viewer .listTitle {list-style-type:none; margin-left:-2em;}
.viewer .button {border:1px solid [[ColorPalette::SecondaryMid]];}
.viewer blockquote {border-left:3px solid [[ColorPalette::TertiaryDark]];}

.viewer table, table.twtable {border:2px solid [[ColorPalette::TertiaryDark]];}
.viewer th, .viewer thead td, .twtable th, .twtable thead td {background:[[ColorPalette::SecondaryMid]]; border:1px solid [[ColorPalette::TertiaryDark]]; color:[[ColorPalette::Background]];}
.viewer td, .viewer tr, .twtable td, .twtable tr {border:1px solid [[ColorPalette::TertiaryDark]];}

.viewer pre {border:1px solid [[ColorPalette::SecondaryLight]]; background:[[ColorPalette::SecondaryPale]];}
.viewer code {color:[[ColorPalette::SecondaryDark]];}
.viewer hr {border:0; border-top:dashed 1px [[ColorPalette::TertiaryDark]]; color:[[ColorPalette::TertiaryDark]];}

.highlight, .marked {background:[[ColorPalette::SecondaryLight]];}

.editor input {border:1px solid [[ColorPalette::PrimaryMid]];}
.editor textarea {border:1px solid [[ColorPalette::PrimaryMid]]; width:100%;}
.editorFooter {color:[[ColorPalette::TertiaryMid]];}
.readOnly {background:[[ColorPalette::TertiaryPale]];}

#backstageArea {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::TertiaryMid]];}
#backstageArea a {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstageArea a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; }
#backstageArea a.backstageSelTab {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}
#backstageButton a {background:none; color:[[ColorPalette::Background]]; border:none;}
#backstageButton a:hover {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstagePanel {background:[[ColorPalette::Background]]; border-color: [[ColorPalette::Background]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]];}
.backstagePanelFooter .button {border:none; color:[[ColorPalette::Background]];}
.backstagePanelFooter .button:hover {color:[[ColorPalette::Foreground]];}
#backstageCloak {background:[[ColorPalette::Foreground]]; opacity:0.6; filter:alpha(opacity=60);}
/*}}}*/
</pre>
</div>
<div title="StyleSheetLayout">
<pre>/*{{{*/
* html .tiddler {height:1%;}

body {font-size:.75em; font-family:arial,helvetica; margin:0; padding:0;}

h1,h2,h3,h4,h5,h6 {font-weight:bold; text-decoration:none;}
h1,h2,h3 {padding-bottom:1px; margin-top:1.2em;margin-bottom:0.3em;}
h4,h5,h6 {margin-top:1em;}
h1 {font-size:1.35em;}
h2 {font-size:1.25em;}
h3 {font-size:1.1em;}
h4 {font-size:1em;}
h5 {font-size:.9em;}

hr {height:1px;}

a {text-decoration:none;}

dt {font-weight:bold;}

ol {list-style-type:decimal;}
ol ol {list-style-type:lower-alpha;}
ol ol ol {list-style-type:lower-roman;}
ol ol ol ol {list-style-type:decimal;}
ol ol ol ol ol {list-style-type:lower-alpha;}
ol ol ol ol ol ol {list-style-type:lower-roman;}
ol ol ol ol ol ol ol {list-style-type:decimal;}

.txtOptionInput {width:11em;}

#contentWrapper .chkOptionInput {border:0;}

.externalLink {text-decoration:underline;}

.indent {margin-left:3em;}
.outdent {margin-left:3em; text-indent:-3em;}
code.escaped {white-space:nowrap;}

.tiddlyLinkExisting {font-weight:bold;}
.tiddlyLinkNonExisting {font-style:italic;}

/* the 'a' is required for IE, otherwise it renders the whole tiddler in bold */
a.tiddlyLinkNonExisting.shadow {font-weight:bold;}

#mainMenu .tiddlyLinkExisting,
	#mainMenu .tiddlyLinkNonExisting,
	#sidebarTabs .tiddlyLinkNonExisting {font-weight:normal; font-style:normal;}
#sidebarTabs .tiddlyLinkExisting {font-weight:bold; font-style:normal;}

.header {position:relative;}
.header a:hover {background:transparent;}
.headerShadow {position:relative; padding:4.5em 0 1em 1em; left:-1px; top:-1px;}
.headerForeground {position:absolute; padding:4.5em 0 1em 1em; left:0; top:0;}

.siteTitle {font-size:3em;}
.siteSubtitle {font-size:1.2em;}

#mainMenu {position:absolute; left:0; width:10em; text-align:right; line-height:1.6em; padding:1.5em 0.5em 0.5em 0.5em; font-size:1.1em;}

#sidebar {position:absolute; right:3px; width:16em; font-size:.9em;}
#sidebarOptions {padding-top:0.3em;}
#sidebarOptions a {margin:0 0.2em; padding:0.2em 0.3em; display:block;}
#sidebarOptions input {margin:0.4em 0.5em;}
#sidebarOptions .sliderPanel {margin-left:1em; padding:0.5em; font-size:.85em;}
#sidebarOptions .sliderPanel a {font-weight:bold; display:inline; padding:0;}
#sidebarOptions .sliderPanel input {margin:0 0 0.3em 0;}
#sidebarTabs .tabContents {width:15em; overflow:hidden;}

.wizard {padding:0.1em 1em 0 2em;}
.wizard h1 {font-size:2em; font-weight:bold; background:none; padding:0; margin:0.4em 0 0.2em;}
.wizard h2 {font-size:1.2em; font-weight:bold; background:none; padding:0; margin:0.4em 0 0.2em;}
.wizardStep {padding:1em 1em 1em 1em;}
.wizard .button {margin:0.5em 0 0; font-size:1.2em;}
.wizardFooter {padding:0.8em 0.4em 0.8em 0;}
.wizardFooter .status {padding:0 0.4em; margin-left:1em;}
.wizard .button {padding:0.1em 0.2em;}

#messageArea {position:fixed; top:2em; right:0; margin:0.5em; padding:0.5em; z-index:2000; _position:absolute;}
.messageToolbar {display:block; text-align:right; padding:0.2em;}
#messageArea a {text-decoration:underline;}

.tiddlerPopupButton {padding:0.2em;}
.popupTiddler {position: absolute; z-index:300; padding:1em; margin:0;}

.popup {position:absolute; z-index:300; font-size:.9em; padding:0; list-style:none; margin:0;}
.popup .popupMessage {padding:0.4em;}
.popup hr {display:block; height:1px; width:auto; padding:0; margin:0.2em 0;}
.popup li.disabled {padding:0.4em;}
.popup li a {display:block; padding:0.4em; font-weight:normal; cursor:pointer;}
.listBreak {font-size:1px; line-height:1px;}
.listBreak div {margin:2px 0;}

.tabset {padding:1em 0 0 0.5em;}
.tab {margin:0 0 0 0.25em; padding:2px;}
.tabContents {padding:0.5em;}
.tabContents ul, .tabContents ol {margin:0; padding:0;}
.txtMainTab .tabContents li {list-style:none;}
.tabContents li.listLink { margin-left:.75em;}

#contentWrapper {display:block;}
#splashScreen {display:none;}

#displayArea {margin:1em 17em 0 14em;}

.toolbar {text-align:right; font-size:.9em;}

.tiddler {padding:1em 1em 0;}

.missing .viewer,.missing .title {font-style:italic;}

.title {font-size:1.6em; font-weight:bold;}

.missing .subtitle {display:none;}
.subtitle {font-size:1.1em;}

.tiddler .button {padding:0.2em 0.4em;}

.tagging {margin:0.5em 0.5em 0.5em 0; float:left; display:none;}
.isTag .tagging {display:block;}
.tagged {margin:0.5em; float:right;}
.tagging, .tagged {font-size:0.9em; padding:0.25em;}
.tagging ul, .tagged ul {list-style:none; margin:0.25em; padding:0;}
.tagClear {clear:both;}

.footer {font-size:.9em;}
.footer li {display:inline;}

.annotation {padding:0.5em; margin:0.5em;}

* html .viewer pre {width:99%; padding:0 0 1em 0;}
.viewer {line-height:1.4em; padding-top:0.5em;}
.viewer .button {margin:0 0.25em; padding:0 0.25em;}
.viewer blockquote {line-height:1.5em; padding-left:0.8em;margin-left:2.5em;}
.viewer ul, .viewer ol {margin-left:0.5em; padding-left:1.5em;}

.viewer table, table.twtable {border-collapse:collapse; margin:0.8em 1.0em;}
.viewer th, .viewer td, .viewer tr,.viewer caption,.twtable th, .twtable td, .twtable tr,.twtable caption {padding:3px;}
table.listView {font-size:0.85em; margin:0.8em 1.0em;}
table.listView th, table.listView td, table.listView tr {padding:0 3px 0 3px;}

.viewer pre {padding:0.5em; margin-left:0.5em; font-size:1.2em; line-height:1.4em; overflow:auto;}
.viewer code {font-size:1.2em; line-height:1.4em;}

.editor {font-size:1.1em;}
.editor input, .editor textarea {display:block; width:100%; font:inherit;}
.editorFooter {padding:0.25em 0; font-size:.9em;}
.editorFooter .button {padding-top:0; padding-bottom:0;}

.fieldsetFix {border:0; padding:0; margin:1px 0px;}

.zoomer {font-size:1.1em; position:absolute; overflow:hidden;}
.zoomer div {padding:1em;}

* html #backstage {width:99%;}
* html #backstageArea {width:99%;}
#backstageArea {display:none; position:relative; overflow: hidden; z-index:150; padding:0.3em 0.5em;}
#backstageToolbar {position:relative;}
#backstageArea a {font-weight:bold; margin-left:0.5em; padding:0.3em 0.5em;}
#backstageButton {display:none; position:absolute; z-index:175; top:0; right:0;}
#backstageButton a {padding:0.1em 0.4em; margin:0.1em;}
#backstage {position:relative; width:100%; z-index:50;}
#backstagePanel {display:none; z-index:100; position:absolute; width:90%; margin-left:3em; padding:1em;}
.backstagePanelFooter {padding-top:0.2em; float:right;}
.backstagePanelFooter a {padding:0.2em 0.4em;}
#backstageCloak {display:none; z-index:20; position:absolute; width:100%; height:100px;}

.whenBackstage {display:none;}
.backstageVisible .whenBackstage {display:block;}
/*}}}*/
</pre>
</div>
<div title="StyleSheetLocale">
<pre>/***
StyleSheet for use when a translation requires any css style changes.
This StyleSheet can be used directly by languages such as Chinese, Japanese and Korean which need larger font sizes.
***/
/*{{{*/
body {font-size:0.8em;}
#sidebarOptions {font-size:1.05em;}
#sidebarOptions a {font-style:normal;}
#sidebarOptions .sliderPanel {font-size:0.95em;}
.subtitle {font-size:0.8em;}
.viewer table.listView {font-size:0.95em;}
/*}}}*/
</pre>
</div>
<div title="StyleSheetPrint">
<pre>/*{{{*/
@media print {
#mainMenu, #sidebar, #messageArea, .toolbar, #backstageButton, #backstageArea {display: none !important;}
#displayArea {margin: 1em 1em 0em;}
noscript {display:none;} /* Fixes a feature in Firefox 1.5.0.2 where print preview displays the noscript content */
}
/*}}}*/
</pre>
</div>
<div title="ViewTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' role='navigation' macro='toolbar [[ToolbarCommands::ViewToolbar]]'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='subtitle'&gt;&lt;span macro='view modifier link'&gt;&lt;/span&gt;, &lt;span macro='view modified date'&gt;&lt;/span&gt; (&lt;span macro='message views.wikified.createdPrompt'&gt;&lt;/span&gt; &lt;span macro='view created date'&gt;&lt;/span&gt;)&lt;/div&gt;
&lt;div class='tagging' macro='tagging'&gt;&lt;/div&gt;
&lt;div class='tagged' macro='tags'&gt;&lt;/div&gt;
&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;!--}}}--&gt;
</pre>
</div>

</div>
<!--POST-SHADOWAREA-->
<div id="storeArea"><div title="RefreshTiddlerCommand" server.title="RefreshTiddlerCommand" server.page.revision="1521867" server.etag="&quot;system-plugins_public/RefreshTiddlerCommand/1521867:c898883ca2dfa2eb18f07049f0c8656f3b1b90e9&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch systemConfig" _hash="02e0b362ad77cbb6e902b176a082430649e798ac">
<pre>/***
|''Name''|RefreshTiddlerCommand|
|''Version''|0.3.0|
***/
//{{{
(function($) {

var cmd = config.commands.refreshTiddler = {
	text: "refresh",
	locale: {
		refreshing: "Refreshing tiddler..."
	},
	tooltip: "refresh this tiddler to be the one on the server",
	handler: function(ev, src, title) {
		var tiddler = store.getTiddler(title);
		if(!tiddler) {
			tiddler = new Tiddler(title);
			merge(tiddler.fields, config.defaultCustomFields);
		}
		$(story.getTiddler(title)).find(".viewer").
			empty().text(cmd.locale.refreshing);
		var dirtyStatus = store.isDirty();
		story.loadMissingTiddler(title, {
			"server.workspace": tiddler.fields["server.recipe"]  ? "recipes/" + tiddler.fields["server.recipe"] :
				tiddler.fields["server.workspace"] || "bags/"+tiddler.fields["server.bag"],
			"server.host": tiddler.fields["server.host"],
			"server.type": tiddler.fields["server.type"]
		}, function() {
			store.setDirty(dirtyStatus);
		});
	}
};

})(jQuery);
//}}}</pre>
</div>
<div title="cancelTiddler" server.title="cancelTiddler" server.page.revision="1521931" server.etag="&quot;system-images_public/cancelTiddler/1521931:26596fb13c834b07ee2b35ef0a17003f73fddabf&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-images_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-images_public" server.permissions="read" server.content-type="image/svg+xml" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch" _hash="7ec49872e728041385751b4252f6baab334f44ce">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="72 648 70 70" 
width="30" height="30"&gt;
&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;
	&lt;g&gt;
		&lt;path d="M 77.59005 669.34003 C 71.532745 681.90424 73.714462 697.4441 84.135193 707.86475 
		C 97.315445 721.0451 118.684715 721.0451 131.8649 707.86475 
		C 145.04515 694.68457 145.04515 673.31537 131.8649 660.13513 
		C 121.4441 649.7141 105.90419 647.53253 93.339905 653.5899 L 102.047455 662.2976 
		C 109.58637 660.2373 117.987976 662.16803 123.90997 668.08997 
		C 132.69673 676.8767 132.69673 691.12317 123.90997 699.90985 
		C 115.12313 708.6966 100.87699 708.6966 92.09012 699.90985 
		C 86.168266 693.98804 84.23744 685.58643 86.297653 678.04755 Z M 72 648 L 72 668.25 L 78.75 661.49957 
		L 99.00019 681.7502 L 105.750175 675.00006 L 85.50013 654.75012 L 92.249985 648 Z" fill="black"
		class="glyph"/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="spaceIcon" server.title="spaceIcon" server.page.revision="1521883" server.etag="&quot;system-info_public/spaceIcon/1521883:33e197caa199d95e78af69d8b921d73462d3674e&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-info_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-info_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch" _hash="ef5f983ca36b19ed82d51224aee1c85d8fecb0a5">
<pre>A [[SiteIcon|SiteIcon tiddler]]@glossary helps provide some identity to your space.  Ideally it'd be a square and a minimum of 48*48 pixels size.  You can upload your site icon using the uploader below.

&lt;&lt;binaryUploadPublic title:SiteIcon&gt;&gt;</pre>
</div>
<div title="第一次作业" server.title="第一次作业" server.page.revision="2566517" server.etag="&quot;zhucebuliaogyx_public/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%9C%E4%B8%9A/2566517:71fb205202bbd0c044becf04d0a46930d525db78&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20160927125418" created="20160927125037" tags="14信管作业" _hash="d5724c090293271b40c988aaf03d67835490a70b">
<pre>
&lt;html&gt;
&lt;h1&gt;&lt;title&gt; 翻译&lt;/title&gt;&lt;/h1&gt;
&lt;body&gt;

&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp信息可信度同时也与信息质量有关。可信度是在信息质量与使用过程中影响科技的中介变量，由于标准程序和编辑控制的缺失，在网络环境中已经很难互相建立信任。随着因特网渗透在我们生活中的点点滴滴，数字信息的安全性变得尤为重要，因为它在我们做决定的过程中和个人知识的储备中起决定性的作用，依赖不可信的消息有可能造成危害。Kelton曾说，认知范围内可信赖的消息或者是信息来源是由它的准确度、客观性、正确性和稳定性决定的。它包含了先前被描述过的信息质量的相似之处。有关稳定性或可预测性的方面常被认作与数字消息有关联，因为数字消息的内容、形式易受影响而改变。&lt;br/&gt;&lt;br/&gt;
&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp信息超负荷显示出一种观点，即对某种有限资源的浪费是有害的，根据B&amp;R表明：“该条款也可作为个人消息使用效率被相关事务潜在用处和可用信息妨碍的情形的代表。” 因为我们缺乏有效分辨真伪的能力导致我们得到了太多真真假假的信息。主张信息浪费显著地导致信息超负荷的问题是合理的。关注只不过是认知的资源，而处理过多或无用的信息是徒劳的。&lt;br/&gt;&lt;br/&gt;
&lt;/body&gt;

&lt;/html&gt;

</pre>
</div>
<div title="privateIcon" server.title="privateIcon" server.page.revision="1521894" server.etag="&quot;tiddlyspace/privateIcon/1521894:d2270754ed499d3cf2cc8b8eda235c5479876b07&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="image/png" modified="20131111192334" created="20131111192334" tags="excludeLists excludeSearch" _hash="94eabb8c954332020ab12d027656ddc3adb98c63">
<pre>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</pre>
</div>
<div title="HARD CARRY练习室版本" server.title="HARD CARRY练习室版本" server.page.revision="2577746" server.etag="&quot;zhucebuliaogyx_public/HARD%20CARRY%E7%BB%83%E4%B9%A0%E5%AE%A4%E7%89%88%E6%9C%AC/2577746:10a6379c19d82fb9eb27ef95b49d45ed17ee1f39&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161027152138" created="20161027151309" tags="got7 [[hard carry]]" _hash="b24389eae63dad42d7afc5f19935aa98de12f507">
<pre>&lt;html&gt;
&lt;body&gt;

&lt;embed height="500" width="600" quality="high" allowfullscreen="true" type="application/x-shockwave-flash" src="http://static.hdslb.com/miniloader.swf" flashvars="aid=6491632&amp;page=1" pluginspage="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash"&gt;

&lt;/embed&gt;

&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="TiddlyFileImporter" server.title="TiddlyFileImporter" server.page.revision="1521907" server.etag="&quot;tiddlyspace/TiddlyFileImporter/1521907:377c811965bf0ced6b24cb182ba1b1de7359eb95&quot;" modifier="None" creator="None" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/javascript" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch systemConfig" _hash="948bb64604a46205267e446af0f638c4e8fc3c8e">
<pre>/***
|''Name''|TiddlyFileImporter|
|''Version''|0.3.8|
|''Author''|Ben Gillies|
|''Type''|plugin|
|''Description''|Upload a TiddlyWiki file to TiddlyWeb, and import the tiddlers.|
!Usage
Upload a TiddlyWiki file to TiddlyWeb, and import the tiddlers.
!Requires
tiddlyweb
tiddlywebplugins.reflector
!Code
***/
//{{{
(function($){
if(!version.extensions.TiddlyFileImporter)
{ //# ensure that the plugin is only installed once
	version.extensions.TiddlyFileImporter = { installed: true };
}

config.macros.fileImport = {
	reflectorURI: '/reflector?csrf_token=%0',
	incorrectTypeError: 'Incorrect File Type. You must upload a TiddlyWiki',
	uploadLabel: 'Upload',
	uploadLabelPrompt: 'Import tiddlers from this TiddlyWiki',
	step1FileText: 'File:',
	step1PostText: 'In the next screen you will select the tiddlers to import.',
	step1Title: 'Step 1: Pick a TiddlyWiki to import',
	step1TypeChooser: 'Import From:',
	step3Html: ['&lt;input type="hidden" name="markList" /&gt;',
		'&lt;input type="hidden" checked="true" name="chkSync" /&gt;',
		'&lt;input type="hidden" name="chkSave" /&gt;',
		'&lt;input type="hidden" name="txtSaveTiddler" /&gt;'].join(),

	handler: function(place, macroName, params, wikifier, paramString) {
		var wizard = new Wizard();
		wizard.createWizard(place, 'Import a TiddlyWiki');
		this.restart(wizard);
	},

	restart: function(wizard) {
		var me = config.macros.fileImport;
		wizard.addStep(me.step1Title, ['&lt;input type="hidden" ',
			'name="markList" /&gt;'].join(""));
		var markList = wizard.getElement('markList');
		var uploadWrapper = document.createElement('div');
		markList.parentNode.insertBefore(uploadWrapper, markList);
		uploadWrapper.setAttribute('refresh', 'macro');
		uploadWrapper.getAttribute('macroName', 'fileImport');
		var iframeName = 'reflectorImporter' + Math.random().toString();
		me.createForm(uploadWrapper, wizard, iframeName);
		$(uploadWrapper).append('&lt;p&gt;' + me.step1PostText + '&lt;/p&gt;');
		wizard.setValue('serverType', 'tiddlyweb');
		wizard.setValue('adaptor', new config.adaptors.file());
		wizard.setValue('host', config.defaultCustomFields['server.host']);
		wizard.setValue('context', {});
		var iframe = $(['&lt;iframe name="' + iframeName + '" ',
			'style="display: none" /&gt;'].join("")).appendTo(uploadWrapper);
		var onSubmit = function(ev) {
			var uploadType = $('select[name=uploadtype]', wizard.formElem).val();
			if (uploadType == "file") {
				// set an onload ready to hijack the form
				me.setOnLoad(uploadWrapper, wizard, iframe[0]);
				wizard.importType = 'file';
				wizard.formElem.submit();
			} else {
				var csrf_token = config.extensions.tiddlyspace.getCSRFToken();
				$.ajax({
					url: "%0/reflector?csrf_token=%1".format(
						config.defaultCustomFields["server.host"], csrf_token),
					type: "POST",
					dataType: "text",
					data: {
						uri: $("input", ".importFrom", wizard.formElem).val()
					},
					success: function(data, txtStatus, xhr) {
						wizard.POSTResponse = data;
						me.importTiddlers(uploadWrapper, wizard);
					},
					error: function(xhr, txtStatus, error) {
						displayMessage(["There was an error fetching the ",
							'url: ', txtStatus].join(""));
						me.restart(wizard);
					}
				});
				return false;
			}
		};
		wizard.setButtons([{
			caption: me.uploadLabel,
			tooltip: me.uploadLabelPrompt,
			onClick: onSubmit
		}]);
		$(wizard.formElem).submit(function(ev) {
			onSubmit(ev);
			ev.preventDefault();
		});
	},

	createForm: function(place, wizard, iframeName) {
		var form = wizard.formElem;
		var me = config.macros.fileImport;
		form.action = me.reflectorURI.format(
			config.extensions.tiddlyspace.getCSRFToken());
		form.enctype = 'multipart/form-data';
		form.encoding = 'multipart/form-data';
		form.method = 'POST';
		form.target = iframeName;
		onSelectChange = function(e) {
			var changeTo = $(this).val();
			if (changeTo == "file") {
				$(".importFrom").html('%0 &lt;input type="file" name="file" /&gt;'.
					format(me.step1FileText));
			} else {
				$(".importFrom").html('URL: &lt;input type="text" name="uri" /&gt;'
					+ ' Do you want &lt;a target="_blank" href="http://faq.tiddlyspace.com/How%20do%20I%20include%2Fexclude%20spaces%3F"&gt;inclusion&lt;/a&gt; instead?');
			}
		};
		$(place).append('&lt;span&gt;%0&lt;/span&gt;'.format(me.step1TypeChooser)).
			append($(['&lt;select name="uploadtype"&gt;&lt;option value="file" selected="selected"&gt;file',
				'&lt;option value="uri"&gt;url&lt;/select&gt;'].join("")).change(onSelectChange)).
			append('&lt;div class="importFrom"&gt;%0&lt;input type="file" name="file" /&gt;&lt;/div&gt;'.
					format(me.step1FileText));
	},

	setOnLoad: function(place, wizard, iframe) {
		var me = config.macros.fileImport;
		var loadHandler = function() {
			me.importTiddlers.apply(this, [place, wizard, iframe]);
		};
		iframe.onload = loadHandler;
		completeReadyStateChanges = 0;
		iframe.onreadystatechange = function() {
			if (++(completeReadyStateChanges) == 5) {
				loadHandler();
			}
		};
	},

	importTiddlers: function(place, wizard, iframe) {
		var tmpStore = new TiddlyWiki();
		var POSTedWiki = "";
		if (wizard.importType == "file") {
			try {
				POSTedWiki= iframe.contentWindow
					.document.documentElement.innerHTML;
			} catch(e) {
				displayMessage(config.macros.fileImport.incorrectTypeError);
				config.macros.fileImport.restart(wizard);
				return;
			}
			// now we are done, so remove the iframe
			$(iframe).remove();
		} else {
			POSTedWiki = wizard.POSTResponse;
		}

		tmpStore.importTiddlyWiki(POSTedWiki);
		var newTiddlers = tmpStore.getTiddlers();
		var workspace = config.defaultCustomFields['server.workspace'];
		var context = {
			status: true,
			statusText: 'OK',
			httpStatus: 200,
			adaptor: wizard.getValue('adaptor'),
			tiddlers: newTiddlers
		};
		context.adaptor.store = tmpStore;
		wizard.setValue('context', context);
		wizard.setValue('workspace', workspace);
		wizard.setValue('inFileImport', true);
		config.macros.importTiddlers.onGetTiddlerList(context, wizard);
	}
};

var _onGetTiddler = config.macros.importTiddlers.onGetTiddler;
config.macros.importTiddlers.onGetTiddler = function(context, wizard) {
	if (wizard.getValue('inFileImport')) {
		var me = config.macros.importTiddlers;
		if(!context.status)
			displayMessage("Error in importTiddlers.onGetTiddler: " + context.statusText);
		var tiddler = context.tiddler;
		var fields = tiddler.fields;
		merge(fields, config.defaultCustomFields);
		fields["server.workspace"] = wizard.getValue('workspace');
		delete fields['server.permissions'];
		delete fields['server.bag'];
		fields['server.page.revision'] = 'false';
		delete fields['server.recipe'];
		fields.changecount = 1;
		store.suspendNotifications();
		store.saveTiddler(tiddler.title, tiddler.title, tiddler.text,
			tiddler.modifier, tiddler.modified, tiddler.tags, tiddler.fields,
			false, tiddler.created);
		store.resumeNotifications();
		var remainingImports = wizard.getValue("remainingImports")-1;
		wizard.setValue("remainingImports",remainingImports);
		if(remainingImports === 0) {
			if(context.isSynchronous) {
				store.notifyAll();
				refreshDisplay();
			}
			wizard.setButtons([
					{caption: me.doneLabel, tooltip: me.donePrompt, onClick: me.onClose}
				],me.statusDoneImport);
			autoSaveChanges();
		}
	} else {
		_onGetTiddler.apply(this, arguments);
	}
};

var _onCancel = config.macros.importTiddlers.onCancel;
config.macros.importTiddlers.onCancel = function(e)
{
	var wizard = new Wizard(this);
	if (!wizard.getValue('inFileImport')) {
		return _onCancel.apply(this, arguments);
	}
	var place = wizard.clear();
	config.macros.fileImport.restart(wizard);
	return false;
};

var _step3Html = config.macros.importTiddlers.step3Html;
var _onGetTiddlerList = config.macros.importTiddlers.onGetTiddlerList;
config.macros.importTiddlers.onGetTiddlerList = function(context, wizard) {
	var fileImport = config.macros.fileImport;
	var importTiddlers = config.macros.importTiddlers;
	if (wizard.getValue('inFileImport')) {
		importTiddlers.step3Html = fileImport.step3Html;
	} else {
		importTiddlers.step3Html = _step3Html;
	}
	_onGetTiddlerList.apply(this, arguments);
};
})(jQuery);
//}}}</pre>
</div>
<div title="_reply" server.title="_reply" server.page.revision="1521889" server.etag="&quot;tiddlyspace/_reply/1521889:276288d96f761140e5fe4e7e4d1a561438e5e65b&quot;" modifier="bengillies" creator="bengillies" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/html" modified="20131111192332" created="20131111192332" tags="excludeLists excludeMissing excludeSearch" _hash="01c7fff74dd8fd746394153d7c586fee665e4ce6">
<pre>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
	&lt;meta charset="UTF-8"&gt;
	&lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"&gt;
	&lt;title&gt;Reply&lt;/title&gt;
	&lt;link rel="stylesheet" href="//tiddlyspace.com/bags/benspa_public/tiddlers/bootvelcro.css"&gt;
	&lt;style&gt;
		html,
		body {
			overflow: hidden;
			background-color: transparent;
		}

		#container {
			/* prevent a fouc if no images present */
			display: none;
		}

		.modal-header {
			border-bottom: none;
			padding: 5px 0 0;
			position: absolute;
			width: 100%;
			background-color: #e0e0e0;
			-webkit-border-radius: 6px 6px 0 0;
			-moz-border-radius: 6px 6px 0 0;
			border-radius: 6px 6px 0 0;
			cursor: move;
		}

		.form-actions {
			position: absolute;
			bottom: 0;
			box-sizing: border-box;
			-moz-box-sizing: border-box;
			width: 100%;
			margin: 0;
			border-radius: 0 0 6px 6px;
			background-color: #e0e0e0;
			border-top: 1px solid gray;
		}

		.form-actions input.btn {
			width: auto;
			float: right;
			margin: 0 0.2em;
		}

		.closeBtn {
			background-color: #DCE7F1 !important;
		}

		.primary {
			background-color: #09F !important;
		}

		h1 {
			margin-bottom: 9px;
			margin-top: 9px;
		}

		body {
			width: 100%;
			height: 100%;
			position: absolute;
		}

		.modal {
			margin: 10px;
			top: 0;
			left: 0;
			bottom: 0;
			width: 510px;
			position: absolute;
			box-shadow: #444 0px 0px 10px 2px;
			border-radius: 6px;
			background-color: white;
			border: 1px solid gray;
			background-color: #F0F4F8;
		}

		label em {
			cursor: pointer;
		}

		.modal-body {
			overflow: auto;
			position: absolute;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;
			margin: 65px 20px 67px;
			background-color: transparent;
		}

		.nav-tabs {
			padding-left: 1%;
			margin: 0;
			width: 99%;
			border-color: gray;
		}

		.nav-tabs &gt; li {
			cursor: pointer;
		}

		.nav-tabs &gt; li &gt; a {
			line-height: 2.4em;
			font-weight: bold;
			font-size: 100%;
		}

		.nav-tabs &gt; li.active &gt; a{
			background-color: #F0F4F8;
			border-color: gray;
			border-bottom-color: #F0F4F8;
		}

		.active {
			display: block;
		}

		input,
		textarea,
		select,
		.uneditable-input {
			color: #606060;
		}

		.imagePicker {
			-moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
			-webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
			box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
			border: 1px solid #CCC;
			height: 110px;
			overflow: auto;
			-webkit-border-radius: 3px;
			-moz-border-radius: 3px;
			border-radius: 3px;
			margin-left: 0;
		}

		.imagePicker img {
			margin: 5px;
			border: 2px solid transparent;
		}

		.imagePicker .current {
			border: 2px dotted #555;
		}

		label {
			font-weight: bold;
		}

		.form-actions label {
			float: left;
			margin-top: 0.75em;
		}

		fieldset input,
		fieldset textarea {
			width: 90%;
			border-color: gray;
		}

		@media all and (max-width: 550px) {
			.modal {
				width: 95%;
			}
		}

		#help {
			position: absolute;
			border: 0;
			right: 4px;
			top: 5px;
			text-indent: -9999px;
			color: transparent;
			height: 16px;
			width: 16px;
			background: none;
			background-image: url(/bags/common/tiddlers/help.png);
			background-repeat: no-repeat;
			background-color: white;
			z-index: 2;
			border-radius: 10px;
		}

		#help-info {
			padding: 0;
			border: 1px solid gray;
			width: 60%;
			height: 50px;
			color: #404040;
			background-color: white;
			position: absolute;
			top: 5px;
			right: 5px;
			z-index: 1;
			cursor: auto;
			border-radius: 5px;

		}

		#help-info p {
			padding: 10px 25px;
			margin-bottom: 0;
		}
	&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;div id="container"&gt;
		&lt;form action="#" class="modal"&gt;
			&lt;div class="modal-header"&gt;
				&lt;button id="help"&gt;help&lt;/button&gt;
				&lt;div id="help-info" style="display:none;"&gt;&lt;p&gt;
				Found something interesting? Write about it in your own space. &lt;a href="//docs.tiddlyspace.com/Reply to this Tiddler" target="_blank"&gt;Find out more&lt;/a&gt;
				&lt;/p&gt;&lt;/div&gt;
				&lt;ul class="nav nav-tabs" data-tabs="tabs"&gt;
					&lt;li class="active" data-tab-name="post"&gt;&lt;a href="#postForm"&gt;Reply&lt;/a&gt;&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/div&gt;


			&lt;fieldset id="postForm" class="modal-body"&gt;
				&lt;label&gt;Title
					&lt;input type="text" name="title"&gt;
				&lt;/label&gt;
				&lt;input type="hidden" name="url"&gt;
				&lt;label&gt;Post
					&lt;textarea name="text" rows="8"&gt;&lt;/textarea&gt;
				&lt;/label&gt;
				&lt;label&gt;Tags
					&lt;input type="text" name="tags" value=""&gt;
				&lt;/label&gt;
			&lt;/fieldset&gt;


			&lt;div class="form-actions"&gt;
				&lt;label class="checkbox"&gt;
					&lt;input type="checkbox" name="private" val="private"&gt;
					keep private
				&lt;/label&gt;
				&lt;input type="submit" class="btn primary btn-large" value="Done"&gt;
				&lt;input type="button" class="btn btn-large closeBtn" value="Cancel"&gt;
			&lt;/div&gt;
		&lt;/form&gt;
	&lt;/div&gt;

	&lt;script type="text/javascript"
            src="/bags/common/tiddlers/jquery.js"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/tiddlyspace/tiddlers/chrjs"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/_reply.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="_account" server.title="_account" server.page.revision="1521899" server.etag="&quot;tiddlyspace/_account/1521899:40f75018b07fcb09b2a7f21c854945163de52190&quot;" modifier="None" creator="None" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/html" modified="20131111192332" created="20131111192332" tags="excludeLists excludeMissing excludeSearch" _hash="96201fdb51bfa585c117321c84d64d2fb9a3df71">
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;meta http-equiv="Content-Type" content="text/html;charset=utf-8"&gt;
	&lt;title&gt;Account&lt;/title&gt;
	&lt;link href="/bags/common/tiddlers/profile.css" type='text/css' rel='stylesheet' &gt;
	&lt;link href="/bags/common/tiddlers/admin.css" type='text/css' rel='stylesheet' &gt;
	&lt;link href="/bags/common/tiddlers/jquery-ui.custom.css" type='text/css' rel='stylesheet' &gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div id="container"&gt;
	&lt;div class="main section"&gt;
		&lt;a class="app" href="/"&gt;home&lt;/a&gt;
		&lt;div class="left"&gt;
		&lt;div id="siteiconArea"&gt;
		&lt;h2&gt;User Icon&lt;/h2&gt;
		&lt;div&gt;
			&lt;img id="siteicon" class="siteicon"&gt;
			&lt;form id="upload" method="POST" enctype="multipart/form-data"&gt;
				&lt;input type="hidden" name="title" value="SiteIcon" /&gt;
				&lt;input type="hidden" name="tags" value="excludeLists"&gt;
				&lt;input type="hidden" name="csrf_token" class="csrf" /&gt;
				&lt;input type="file" name="file" accept="image/*" /&gt;
				&lt;input type="submit" value="upload" /&gt;
			&lt;/form&gt;
			&lt;div id="dropzone"&gt;Drop file here
				&lt;img class="notloading" src="/bags/common/tiddlers/ajax-loader.gif" alt="submitting SiteIcon" /&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;/div&gt;
		&lt;h2&gt;Find Space&lt;/h2&gt;
		&lt;form class="spaceSearch"&gt;
			&lt;input class="inputBox" type="text" placeholder="find space" /&gt;
			&lt;a href="http://docs.tiddlyspace.com/What%20is%20a%20Space%3F" class="help"
				title="What is a space?"&gt;What is a space?&lt;/a&gt;
			&lt;button&gt;view all&lt;/button&gt;
		&lt;/form&gt;
		&lt;div class='list-container'&gt;
			You are a member of the following spaces:
			&lt;ul class='ts-space-search'&gt;
			&lt;/ul&gt;
		&lt;/div&gt;
		&lt;h2&gt;Create New Space&lt;/h2&gt;
		&lt;form class="ts-spaces"&gt;
			&lt;input class="inputBox" type="text" name="spacename" placeholder="space name"&gt;&lt;span class="hostSuffix"&gt;.tiddlyspace.com&lt;/span&gt;
			&lt;input type="submit" value="Create Space" /&gt;
		&lt;/form&gt;
		&lt;/div&gt;
		&lt;div class="right"&gt;
		&lt;h2&gt;Change Password&lt;/h2&gt;
		&lt;form class="ts-password"&gt;
			&lt;input class="inputBox" placeholder="existing password" type="password" name="password"&gt;
			&lt;input class="inputBox" placeholder="new password" type="password" name="new_password"&gt;
			&lt;input class="inputBox" placeholder="new password"	type="password" name="new_password_confirm"&gt;
			&lt;input type="submit" value="Change password"&gt;
		&lt;/form&gt;
		&lt;h2&gt;OpenID&lt;/h2&gt;
		&lt;h3&gt;Why OpenID?&lt;/h3&gt;
		&lt;a href="http://openid.net/"&gt;&lt;img src="/bags/common/tiddlers/openid.png" alt="openid" &gt;&lt;/a&gt;&lt;br /&gt;
		Use just one username and password across hundreds of OpenID-enabled sites.&lt;br /&gt;
		It's an open standard.&lt;br /&gt;
		&lt;a href="http://openid.net/what/"&gt;learn more&lt;/a&gt;
		&lt;ul class="ts-identities"&gt;&lt;/ul&gt;
		&lt;form class="ts-openid" target="_top"&gt;
			&lt;div&gt;
				Add an openid:
			&lt;/div&gt;
			&lt;input class="inputBox" type="text" name="openid" placeholder="your openid" /&gt;
			&lt;input type="submit" value="Register" /&gt;
			&lt;a href="http://openid.net/get-an-openid/" class="help"
			title="What is an open id?"&gt;What is an open id?&lt;/a&gt;
		&lt;/form&gt;
		&lt;/div&gt;
		&lt;div class="clear"&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;script src="/bags/common/tiddlers/backstage.js"&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/jquery.js'&gt;&lt;/script&gt;
&lt;script src='/bags/tiddlyspace/tiddlers/chrjs'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.space'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.users'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.identities'&gt;&lt;/script&gt;
&lt;script src="/bags/common/tiddlers/jquery-ui.custom.js"&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/jquery-form.js'&gt;&lt;/script&gt;
&lt;script src="/bags/common/tiddlers/siteiconupload.js"&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/ts.js'&gt;&lt;/script&gt;
&lt;script src="/status.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
/*
 * jQuery UI Autocomplete HTML Extension
 *
 * Copyright 2010, Scott González (http://scottgonzalez.com)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * http://github.com/scottgonzalez/jquery-ui-extensions
 */
(function( $ ) {

var proto = $.ui.autocomplete.prototype,
	initSource = proto._initSource;

function filter( array, term ) {
	var matcher = new RegExp( $.ui.autocomplete.escapeRegex(term), "i" );
	return $.grep( array, function(value) {
		return matcher.test( $( "&lt;div&gt;" ).html( value.label || value.value || value ).text() );
	});
}

$.extend( proto, {
	_initSource: function() {
		if ( this.options.html &amp;&amp; $.isArray(this.options.source) ) {
			this.source = function( request, response ) {
				response( filter( this.options.source, request.term ) );
			};
		} else {
			initSource.call( this );
		}
	},

	_renderItem: function( ul, item) {
		return $( "&lt;li&gt;&lt;/li&gt;" )
			.data( "item.autocomplete", item )
			.append( $( "&lt;a&gt;&lt;/a&gt;" )[ this.options.html ? "html" : "text" ]( item.label ) )
			.appendTo( ul );
	}
});

})( jQuery );

/***
_accounts application specific javascript
***/
var link;
ts.init(function(ts) {
	if(ts.user.anon) { // redirect to homepage when user not logged in
		window.location = ts.getHost();
	} else if(ts.user.name === ts.currentSpace){
		initSiteIconUpload(ts.user.name);
	} else {
		link = $("&lt;a /&gt;").attr("href", ts.getHost(ts.user.name) + "/_account").text("Change User Icon");
		$("#siteiconArea div").empty().append(link);
	}
	$(".hostSuffix").text("." + ts.getHost("").split("//")[1]);
	ts.getSpaces(function(spaces) {
		$("&lt;div class='info' /&gt;").text("You have " + spaces.length + " spaces.").insertBefore($(".spaceSearch")[0]);
		$("form.spaceSearch input").autocomplete({
			html: true,
			source: function(req, response) {
				ts.getSpaces(function(spaces) {
					var selected = [];
					for(var i = 0; i &lt; spaces.length; i++) {
						var space = spaces[i];
						if(space.name.indexOf(req.term) &gt; -1) {
							var host = ts.getHost(space.name) ;
							var img = host + "/SiteIcon";
							selected.push({
								value: space.name,
								label: '&lt;a href="' + host + '" target="_parent" class="autocompleteLink"&gt;&lt;img src="' + img + '" style="height:24px;width:auto;max-height:24px;max-width:24px;"/&gt;' + space.name + '&lt;/a&gt;'
							});
						}
					}
					response(selected);
				});
			},
			select: function(event, ui) {
				window.top.location = ts.getHost(ui.item.value);
			}
		});

		var $ul = $('.ts-space-search');
		$.each(spaces, function(i, space) {
			$ul.append($('&lt;li/&gt;').html($('&lt;a/&gt;').attr('href', space.uri)
				.text(space.name)));
		});

		$('form.spaceSearch button').click(function(ev) {
			$('.list-container').slideToggle('fast');
			ev.preventDefault();
			return false;
		});
	});
});

if(window != window.top) {
	$("html").addClass("iframeMode");
	$("a").live("click",function(ev) {
		$(ev.target).attr("target", "_parent");
	});
}
&lt;/script&gt;
&lt;!--[if lt IE 8]&gt;
&lt;script type="text/javascript" src="/bags/common/tiddlers/json2.js"&gt;&lt;/script&gt;
&lt;![endif]--&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="SpaceSettings" server.title="SpaceSettings" server.page.revision="1521882" server.etag="&quot;system-info_public/SpaceSettings/1521882:5c2751f8ed7de47d77d5649ef91150b6bcd2860d&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-info_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-info_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeMissing excludeSearch" _hash="59d90cba2585970233eb03744888f06cec46918d">
<pre>!Upload an icon
&lt;&lt;tiddler spaceIcon&gt;&gt;
!Describe your space
If you haven't already done so, you should provide a brief decscription of yourself and what you're using this space for. To do this, just edit the [[SiteInfo]] tiddler (keeping the title the same of course).

!Change the title
&lt;&lt;tiddler spaceTitle&gt;&gt;
!Change the theme
&lt;&lt;tiddler colorScheme&gt;&gt;
!Change the menu
If you'd like to change the menu items along the top, you can edit the [[MainMenu]] tiddler.

!Change the default tiddlers
&lt;&lt;tiddler setDefaultTiddlers&gt;&gt;
!More Advanced customisations
If you know HTML and CSS, you can edit some or all of the following tiddlers to customise your space further:
* PageTemplate
* EditTemplate
* ViewTemplate
* StyleSheet</pre>
</div>
<div title="TiddlySpaceConfig" server.title="TiddlySpaceConfig" server.page.revision="1521905" server.etag="&quot;tiddlyspace/TiddlySpaceConfig/1521905:1e3d4151128a2e37cc5ba24f2670f0b005df5cd0&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/javascript" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch systemConfig" _hash="e74aa09eb3a15ff6e90b7de81e4d23168f8a51db">
<pre>/***
|''Name''|TiddlySpaceConfig|
|''Version''|0.7.7|
|''Description''|TiddlySpace configuration|
|''Status''|stable|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceConfig.js|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlyWebConfig ServerSideSavingPlugin TiddlyFileImporter|
!Code
***/
//{{{
(function($) {

var tweb = config.extensions.tiddlyweb;

var recipe = config.defaultCustomFields["server.workspace"].split("recipes/")[1];
var currentSpace; // assigned later

var disabledTabs = [];

var coreBags = ["system", "tiddlyspace"];
var systemSpaces = ["plugins", "info", "images", "theme"];
systemSpaces = $.map(systemSpaces, function(item, i) {
	return "system-%0_public".format(item);
});

// hijack search macro to add custom attributes for mobile devices
var _search = config.macros.search.handler;
config.macros.search.handler = function(place, macroName, params) {
	_search.apply(this, arguments);
	$(".searchField:input", place).
		attr({ autocapitalize: "off", autocorrect: "off" });
};

// arg is either a container name or a tiddler object
// if fuzzy is truthy, space may be inferred from workspace (for new tiddlers)
// returns space object or false
var determineSpace = function(arg, fuzzy) {
	if(typeof arg == "string") { // container name
		var space = split(arg, "_", "r");
		return ["public", "private"].contains(space.type) ? space : false;
	} else if(arg) { // tiddler
		var container = determineContainer(arg, fuzzy);
		return container ? determineSpace(container.name, fuzzy) : false;
	} else {
		return false;
	}
};

// if fuzzy is truthy, container may be inferred from workspace for new tiddlers
// returns container object or false
var determineContainer = function(tiddler, fuzzy) { // TODO: expose?
	var bag = tiddler.fields["server.bag"];
	var recipe = tiddler.fields["server.recipe"]; // XXX: unused/irrelevant/redundant!?
	if(bag) {
		return { type: "bag", name: bag };
	} else if(recipe) {
		return { type: "recipe", name: recipe };
	} else if(fuzzy) { // new tiddler
		var workspace = tiddler.fields["server.workspace"];
		if(workspace) {
			var container = split(workspace, "/", "l");
			return ["bags", "recipes"].contains(container.type) ? container : false;
		} else {
			return false;
		}
	} else {
		return false;
	}
};

// hijack removeTiddlerCallback to restore tiddler from recipe cascade -- TODO: move into TiddlyWebWiki?
var sssp = config.extensions.ServerSideSavingPlugin;
var _removeTiddlerCallback = sssp.removeTiddlerCallback;
sssp.removeTiddlerCallback = function(context, userParams) {
	var title = context.tiddler.title;
	var recipe = context.tiddler.fields["server.recipe"];
	_removeTiddlerCallback.apply(this, arguments);
	if(recipe) {
		context.workspace = "recipes/" + recipe;
		var callback = function(context, userParams) {
			if(context.status) {
				var dirty = store.isDirty();
				store.saveTiddler(context.tiddler).clearChangeCount();
				store.setDirty(dirty);
			} else {
				store.notify(title, true);
			}
		};
		context.adaptor.getTiddler(title, context, null, callback);
	}
};

// splits a string once using delimiter
// mode "l" splits at the first, "r" at the last occurrence
// returns an object with members type and name
var split = function(str, sep, mode) {
	mode = mode == "r" ? "pop" : "shift"; // TODO: use +/-1 instead of "l"/"r"?
	var arr = str.split(sep);
	var type = arr.length &gt; 1 ? arr[mode]() : null;
	return { type: type, name: arr.join(sep) };
};

var plugin = config.extensions.tiddlyspace = {
	currentSpace: determineSpace(recipe),
	coreBags: coreBags.concat(systemSpaces),

	determineSpace: determineSpace,
	isValidSpaceName: function(name) {
		return name.match(/^[a-z][0-9a-z\-]*[0-9a-z]$/) ? true : false;
	},
	getCurrentBag: function(type) {
		return "%0_%1".format(currentSpace, type);
	},
	getCurrentWorkspace: function(type) {
		return "bags/" + this.getCurrentBag(type);
	},
	// returns the URL for a space's avatar (SiteIcon) based on a server_host
	// object and an optional space name
	// optional nocors argument prevents cross-domain URLs from being generated
	getAvatar: function(host, space, nocors) {
		if(space &amp;&amp; typeof space != "string") { // backwards compatibility -- XXX: deprecated
			space = space.name;
		}
		var subdomain = nocors ? currentSpace : space;
		host = host ? this.getHost(host, subdomain) : "";
		var bag = space ? "%0_public".format(space) : "tiddlyspace";
		return "%0/bags/%1/tiddlers/SiteIcon".format(host, bag);
	},
	// returns the URL based on a server_host object (scheme, host, port) and an
	// optional subdomain
	getHost: function(host, subdomain) {
		if(host === undefined) { // offline
			tweb.status.server_host = {}; // prevents exceptions further down the stack -- XXX: hacky workaround, breaks encapsulation
			return null;
		}
		subdomain = subdomain ? subdomain + "." : "";
		var url = "%0://%1%2".format(host.scheme, subdomain, host.host);
		var port = host.port;
		if(port &amp;&amp; !["80", "443"].contains(port)) {
			url += ":" + port;
		}
		return url;
	},
	disableTab: function(tabTiddler) {
		if(typeof(tabTiddler) == "string") {
			disabledTabs.push(tabTiddler);
		} else {
			for(var i = 0; i &lt; tabTiddler.length; i++) {
				plugin.disableTab(tabTiddler[i]);
			}
		}
	},
    checkSyncStatus: function(tiddler) {
		if(tiddler) {
			var title = typeof(tiddler) === "string" ? tiddler : tiddler.title;
			var el = story.getTiddler(title) || false;
			if(el) {
				refreshElements(el);
			}
		}
	},
	isDisabledTab: function(tabTitle) {
		var match = new RegExp("(?:\\[\\[([^\\]]+)\\]\\])", "mg").exec(tabTitle);
		var tabIdentifier = match ? match[1] : tabTitle;
		return disabledTabs.contains(tabIdentifier);
	},
	getCSRFToken: window.getCSRFToken || null // this may not have been processed yet
};

currentSpace = plugin.currentSpace.name;

tweb.serverPrefix = tweb.host.split("/")[3] || ""; // XXX: assumes root handler
tweb.getStatus(function(status) {
	var url = plugin.getHost(status.server_host);
	tweb.status.server_host.url = url;
	config.messages.tsVersion = status.version;
});

if(window.location.protocol == "file:") {
	// enable AutoSave by default
	config.options.chkAutoSave = config.options.chkAutoSave === undefined ?
		true : config.options.chkAutoSave;
} else {
	// set global read-only mode based on membership heuristics
	var indicator = store.getTiddler("SiteTitle") || tiddler;
	readOnly = !(recipe.split("_").pop() == "private" ||
		tweb.hasPermission("write", indicator));
	// replace TiddlyWiki's ImportTiddlers due to cross-domain restrictions
	if(config.macros.fileImport) {
		$.extend(config.macros.importTiddlers, config.macros.fileImport);
	}
}

// hijack saveChanges to ensure SystemSettings is private by default
var _saveChanges = saveChanges;
saveChanges = function(onlyIfDirty, tiddlers) {
	if(tiddlers &amp;&amp; tiddlers.length == 1 &amp;&amp;
			tiddlers[0] &amp;&amp; tiddlers[0].title == "SystemSettings") {
		var fields = tiddlers[0].fields;
		delete fields["server.recipe"];
		fields["server.bag"] = plugin.getCurrentBag("private");
		fields["server.workspace"] = plugin.getCurrentWorkspace("private");
	}
	return _saveChanges.apply(this, arguments);
};

// ensure backstage is always initialized
// required to circumvent TiddlyWiki's read-only based handling
config.macros.backstageInit = {
	init: function() {
		showBackstage = true;
	}
};

// disable evaluated macro parameters for security reasons
config.evaluateMacroParameters = "none";
var _parseParams = String.prototype.parseParams;
String.prototype.parseParams = function(defaultName, defaultValue, allowEval,
		noNames, cascadeDefaults) {
	if(config.evaluateMacroParameters == "none") {
		arguments[2] = false;
	}
	return _parseParams.apply(this, arguments);
};

var _tabsMacro = config.macros.tabs.handler;
config.macros.tabs.handler = function(place, macroName, params) {
	var newParams = [params[0]]; // keep cookie name
	for(var i = 1; i &lt; params.length; i += 3) {
		var tabTitle = params[i + 2];
		if(!plugin.isDisabledTab(tabTitle)){
			newParams = newParams.concat(params[i], params[i + 1], tabTitle);
		}
	}
	_tabsMacro.apply(this, [place, macroName, newParams]);
};

// disable ControlView for XHRs by default
$.ajaxSetup({
	beforeSend: function(xhr) {
		xhr.setRequestHeader("X-ControlView", "false");
	}
});
// TiddlyWeb adaptor currently still uses httpReq, which needs extra magic -- XXX: obsolete this!
var _httpReq = httpReq;
httpReq = function(type, url, callback, params, headers, data, contentType,
		username, password, allowCache) {
	headers = headers || {};
	headers["X-ControlView"] = "false";
	_httpReq.apply(this, arguments);
};

// register style sheet for backstage separately (important)
store.addNotification("StyleSheetBackstage", refreshStyles);

// option for default privacy setting
config.optionsDesc.chkPrivateMode = "Set your default privacy mode to private";
config.optionsSource.chkPrivateMode = "setting";
config.options.chkPrivateMode = config.options.chkPrivateMode || false;
saveSystemSetting("chkPrivateMode", true);
config.defaultCustomFields["server.workspace"] = plugin.
	getCurrentWorkspace(config.options.chkPrivateMode ? "private" : "public");

config.paramifiers.follow = {
	onstart: function(v) {
		if(!readOnly) {
			var bag = "%0_public".format(currentSpace);
			story.displayTiddler(null, v, DEFAULT_EDIT_TEMPLATE, null, null,
				"server.bag:%0 server.workspace:bags/%0".format(bag));
			story.setTiddlerTag(v, "follow", 1);
			story.focusTiddler(v, "text");
		}
	}
};

var fImport = config.macros.fileImport;
if(fImport) {
	fImport.uploadTo = "Upload to: ";
	var _createForm = config.macros.fileImport.createForm;
	config.macros.fileImport.createForm = function(place, wizard, iframeName) {
		var container = $("&lt;div /&gt;").text(fImport.uploadTo).appendTo(place);
		var select = $('&lt;select name="mode" /&gt;').appendTo(container)[0];
		$('&lt;option value="private" selected&gt;private&lt;/a&gt;').appendTo(select);
		$('&lt;option value="public"&gt;public&lt;/a&gt;').appendTo(select);
		wizard.setValue("importmode", select);
		_createForm.apply(this, [place, wizard, iframeName]);
	};

	var _onGet = config.macros.importTiddlers.onGetTiddler;
	config.macros.importTiddlers.onGetTiddler = function(context, wizard) {
		var type = $(wizard.getValue("importmode")).val();
		var ws =  plugin.getCurrentWorkspace(type);
		wizard.setValue("workspace", ws);
		_onGet.apply(this, [context, wizard]);
	};
}

config.extensions.ServerSideSavingPlugin.reportSuccess = function(msg, tiddler) {
	plugin.checkSyncStatus(tiddler);
	msg = config.extensions.ServerSideSavingPlugin.locale[msg];
	var link = "/" + encodeURIComponent(tiddler.title);
	displayMessage(msg.format([tiddler.title]), link);
};


})(jQuery);
//}}}</pre>
</div>
<div title="TiddlyWebAdaptor" server.title="TiddlyWebAdaptor" server.page.revision="1521858" server.etag="&quot;system/TiddlyWebAdaptor/1521858:73f3f7111a9370be664374182d7ff31e8acc01f6&quot;" modifier="FND" creator="FND" server.workspace="bags/system" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system" server.permissions="read" server.content-type="text/javascript" modified="200811260000" created="200811260000" tags="excludeLists excludeSearch systemConfig" _hash="487ec1465c11e0798c029b3ed15a2f71ae51ce92">
<pre>/***
|''Name''|TiddlyWebAdaptor|
|''Description''|adaptor for interacting with TiddlyWeb|
|''Author:''|FND|
|''Contributors''|Chris Dent, Martin Budden|
|''Version''|1.4.10|
|''Status''|stable|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/adaptors/TiddlyWebAdaptor.js|
|''CodeRepository''|http://svn.tiddlywiki.org/Trunk/association/|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.5|
|''Keywords''|serverSide TiddlyWeb|
!Notes
This plugin includes [[jQuery JSON|http://code.google.com/p/jquery-json/]].
!To Do
* createWorkspace
* document custom/optional context attributes (e.g. filters, query, revision) and tiddler fields (e.g. server.title, origin)
!Code
***/
//{{{
(function($) {

var adaptor = config.adaptors.tiddlyweb = function() {};

adaptor.prototype = new AdaptorBase();
adaptor.serverType = "tiddlyweb";
adaptor.serverLabel = "TiddlyWeb";
adaptor.mimeType = "application/json";

adaptor.parsingErrorMessage = "Error parsing result from server";
adaptor.noBagErrorMessage = "no bag specified for tiddler";
adaptor.locationIDErrorMessage = "no bag or recipe specified for tiddler"; // TODO: rename

// retrieve current status (requires TiddlyWeb status plugin)
adaptor.prototype.getStatus = function(context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = "%0/status";
	var uri = uriTemplate.format([context.host]);
	var req = httpReq("GET", uri, adaptor.getStatusCallback, context,
		null, null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getStatusCallback = function(status, context, responseText, uri, xhr) {
	context.status = responseText ? status : false;
	try {
		context.statusText = xhr.statusText;
	} catch(exc) { // offline (Firefox)
		context.status = false;
		context.statusText = null;
	}
	context.httpStatus = xhr.status;
	if(context.status) {
		context.serverStatus = $.evalJSON(responseText); // XXX: error handling!?
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// retrieve a list of workspaces
adaptor.prototype.getWorkspaceList = function(context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.workspaces = [];
	var uriTemplate = "%0/recipes"; // XXX: bags?
	var uri = uriTemplate.format([context.host]);
	var req = httpReq("GET", uri, adaptor.getWorkspaceListCallback,
		context, { accept: adaptor.mimeType }, null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getWorkspaceListCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		try {
			var workspaces = $.evalJSON(responseText);
		} catch(ex) {
			context.status = false; // XXX: correct?
			context.statusText = exceptionText(ex, adaptor.parsingErrorMessage);
			if(context.callback) {
				context.callback(context, context.userParams);
			}
			return;
		}
		context.workspaces = workspaces.map(function(itm) { return { title: itm }; });
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// retrieve a list of tiddlers
adaptor.prototype.getTiddlerList = function(context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = "%0/%1/%2/tiddlers%3";
	var params = context.filters ? "?" + context.filters : "";
	if(context.format) {
		params = context.format + params;
	}
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([context.host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name), params]);
	var req = httpReq("GET", uri, adaptor.getTiddlerListCallback,
		context, merge({ accept: adaptor.mimeType }, context.headers), null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getTiddlerListCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		context.tiddlers = [];
		try {
			var tiddlers = $.evalJSON(responseText); //# NB: not actual tiddler instances
		} catch(ex) {
			context.status = false; // XXX: correct?
			context.statusText = exceptionText(ex, adaptor.parsingErrorMessage);
			if(context.callback) {
				context.callback(context, context.userParams);
			}
			return;
		}
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = adaptor.toTiddler(tiddlers[i], context.host);
			context.tiddlers.push(tiddler);
		}
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// perform global search
adaptor.prototype.getSearchResults = function(context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = "%0/search?q=%1%2";
	var filterString = context.filters ? ";" + context.filters : "";
	var uri = uriTemplate.format([context.host, context.query, filterString]); // XXX: parameters need escaping?
	var req = httpReq("GET", uri, adaptor.getSearchResultsCallback,
		context, { accept: adaptor.mimeType }, null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getSearchResultsCallback = function(status, context, responseText, uri, xhr) {
	adaptor.getTiddlerListCallback(status, context, responseText, uri, xhr); // XXX: use apply?
};

// retrieve a particular tiddler's revisions
adaptor.prototype.getTiddlerRevisionList = function(title, limit, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = "%0/%1/%2/tiddlers/%3/revisions";
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([context.host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name), adaptor.normalizeTitle(title)]);
	var req = httpReq("GET", uri, adaptor.getTiddlerRevisionListCallback,
		context, merge({ accept: adaptor.mimeType }, context.headers), null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getTiddlerRevisionListCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		context.revisions = [];
		try {
			var tiddlers = $.evalJSON(responseText); //# NB: not actual tiddler instances
		} catch(ex) {
			context.status = false; // XXX: correct?
			context.statusText = exceptionText(ex, adaptor.parsingErrorMessage);
			if(context.callback) {
				context.callback(context, context.userParams);
			}
			return;
		}
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = adaptor.toTiddler(tiddlers[i], context.host);
			context.revisions.push(tiddler);
		}
		var sortField = "server.page.revision";
		context.revisions.sort(function(a, b) {
			return a.fields[sortField] &lt; b.fields[sortField] ? 1 :
				(a.fields[sortField] == b.fields[sortField] ? 0 : -1);
		});
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// retrieve an individual tiddler revision -- XXX: breaks with standard arguments list -- XXX: convenience function; simply use getTiddler?
adaptor.prototype.getTiddlerRevision = function(title, revision, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.revision = revision;
	return this.getTiddler(title, context, userParams, callback);
};

// retrieve an individual tiddler
//# context is an object with members host and workspace
//# callback is passed the new context and userParams
adaptor.prototype.getTiddler = function(title, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = title;
	if(context.revision) {
		var uriTemplate = "%0/%1/%2/tiddlers/%3/revisions/%4";
	} else {
		uriTemplate = "%0/%1/%2/tiddlers/%3";
	}
	if(!context.tiddler) {
		context.tiddler = new Tiddler(title);
	}
	context.tiddler.fields["server.type"] = adaptor.serverType;
	context.tiddler.fields["server.host"] = AdaptorBase.minHostName(context.host);
	context.tiddler.fields["server.workspace"] = context.workspace;
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([context.host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name), adaptor.normalizeTitle(title),
		context.revision]);
	var req = httpReq("GET", uri, adaptor.getTiddlerCallback, context,
		merge({ accept: adaptor.mimeType }, context.headers), null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getTiddlerCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		try {
			var tid = $.evalJSON(responseText);
		} catch(ex) {
			context.status = false;
			context.statusText = exceptionText(ex, adaptor.parsingErrorMessage);
			if(context.callback) {
				context.callback(context, context.userParams);
			}
			return;
		}
		var tiddler = adaptor.toTiddler(tid, context.host);
		tiddler.title = context.tiddler.title;
		tiddler.fields["server.etag"] = xhr.getResponseHeader("Etag");
		// normally we'd assign context.tiddler = tiddler here - but we can't do
		// that because of IE, which triggers getTiddler in putTiddlerCallback,
		// and since ServerSideSavingPlugin foolishly relies on persistent
		// object references, we need to merge the data into the existing object
		$.extend(context.tiddler, tiddler);
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// retrieve tiddler chronicle (all revisions)
adaptor.prototype.getTiddlerChronicle = function(title, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = title;
	var uriTemplate = "%0/%1/%2/tiddlers/%3/revisions?fat=1";
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([context.host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name), adaptor.normalizeTitle(title)]);
	var req = httpReq("GET", uri, adaptor.getTiddlerChronicleCallback,
		context, { accept: adaptor.mimeType }, null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getTiddlerChronicleCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		context.responseText = responseText;
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// store an individual tiddler
adaptor.prototype.putTiddler = function(tiddler, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = tiddler.title;
	context.tiddler = tiddler;
	context.host = context.host || this.fullHostName(tiddler.fields["server.host"]);
	var uriTemplate = "%0/%1/%2/tiddlers/%3";
	try {
		context.workspace = context.workspace || tiddler.fields["server.workspace"];
		var workspace = adaptor.resolveWorkspace(context.workspace);
	} catch(ex) {
		return adaptor.locationIDErrorMessage;
	}
	var uri = uriTemplate.format([context.host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name),
		adaptor.normalizeTitle(tiddler.title)]);
	var etag = adaptor.generateETag(workspace, tiddler);
	var headers = etag ? { "If-Match": etag } : null;
	var payload = {
		type: tiddler.fields["server.content-type"] || null,
		text: tiddler.text,
		tags: tiddler.tags,
		fields: $.extend({}, tiddler.fields)
	};
	delete payload.fields.changecount;
	$.each(payload.fields, function(key, value) {
		if(key.indexOf("server.") == 0) {
			delete payload.fields[key];
		}
	});
	payload = $.toJSON(payload);
	var req = httpReq("PUT", uri, adaptor.putTiddlerCallback,
		context, headers, payload, adaptor.mimeType, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.putTiddlerCallback = function(status, context, responseText, uri, xhr) {
	context.status = [204, 1223].contains(xhr.status);
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(context.status) {
		var loc = xhr.getResponseHeader("Location");
		var etag = xhr.getResponseHeader("Etag");
		if(loc &amp;&amp; etag) {
			var bag = loc.split("/bags/").pop().split("/")[0];
			context.tiddler.fields["server.bag"] = bag;
			context.tiddler.fields["server.workspace"] = "bags/" + bag;
			var rev = etag.split("/").pop().split(/;|:/)[0];
			context.tiddler.fields["server.page.revision"] = rev;
			context.tiddler.fields["server.etag"] = etag;
			if(context.callback) {
				context.callback(context, context.userParams);
			}
		} else { // IE
			context.adaptor.getTiddler(context.tiddler.title, context,
				context.userParams, context.callback);
		}
	} else if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// store a tiddler chronicle
adaptor.prototype.putTiddlerChronicle = function(revisions, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = revisions[0].title;
	var headers = null;
	var uriTemplate = "%0/%1/%2/tiddlers/%3/revisions";
	var host = context.host || this.fullHostName(tiddler.fields["server.host"]);
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name),
		adaptor.normalizeTitle(context.title)]);
	if(workspace.type == "bag") { // generate ETag
		var etag = [adaptor.normalizeTitle(workspace.name),
			adaptor.normalizeTitle(context.title), 0].join("/"); //# zero-revision prevents overwriting existing contents
		headers = { "If-Match": '"' + etag + '"' };
	}
	var payload = $.toJSON(revisions);
	var req = httpReq("POST", uri, adaptor.putTiddlerChronicleCallback,
		context, headers, payload, adaptor.mimeType, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.putTiddlerChronicleCallback = function(status, context, responseText, uri, xhr) {
	context.status = [204, 1223].contains(xhr.status);
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// store a collection of tiddlers (import TiddlyWiki HTML store)
adaptor.prototype.putTiddlerStore = function(store, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = "%0/%1/%2/tiddlers";
	var host = context.host;
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name)]);
	var req = httpReq("POST", uri, adaptor.putTiddlerStoreCallback,
		context, null, store, "text/x-tiddlywiki", null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.putTiddlerStoreCallback = function(status, context, responseText, uri, xhr) {
	context.status = [204, 1223].contains(xhr.status);
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// rename an individual tiddler or move it to a different workspace -- TODO: make {from|to}.title optional
//# from and to are objects with members title and workspace (bag; optional),
//# representing source and target tiddler, respectively
adaptor.prototype.moveTiddler = function(from, to, context, userParams, callback) { // XXX: rename parameters (old/new)?
	var self = this;
	var newTiddler = store.getTiddler(from.title) || store.getTiddler(to.title); //# local rename might already have occurred
	var oldTiddler = $.extend(true, {}, newTiddler); //# required for eventual deletion
	oldTiddler.title = from.title; //# required for original tiddler's ETag
	var _getTiddlerChronicle = function(title, context, userParams, callback) {
		return self.getTiddlerChronicle(title, context, userParams, callback);
	};
	var _putTiddlerChronicle = function(context, userParams) {
		if(!context.status) {
			return callback(context, userParams);
		}
		var revisions = $.evalJSON(context.responseText); // XXX: error handling?
		// change current title while retaining previous location
		for(var i = 0; i &lt; revisions.length; i++) {
			delete revisions[i].revision;
			if(!revisions[i].fields.origin) { // NB: origin = "&lt;workspace&gt;/&lt;title&gt;"
				revisions[i].fields.origin = ["bags", revisions[i].bag, revisions[i].title].join("/");
			}
			revisions[i].title = to.title;
		}
		// add new revision
		var rev = $.extend({}, revisions[0]);
		$.each(newTiddler, function(i, item) {
			if(!$.isFunction(item)) {
				rev[i] = item;
			}
		});
		rev.title = to.title;
		rev.created = rev.created.convertToYYYYMMDDHHMM();
		rev.modified = new Date().convertToYYYYMMDDHHMM();
		delete rev.fields.changecount;
		revisions.unshift(rev);
		if(to.workspace) {
			context.workspace = to.workspace;
		} else if(context.workspace.substring(0, 4) != "bags") { // NB: target workspace must be a bag
			context.workspace = "bags/" + rev.bag;
		}
		var subCallback = function(context, userParams) {
			if(!context.status) {
				return callback(context, userParams);
			}
			context.adaptor.getTiddler(newTiddler.title, context, userParams, _deleteTiddler);
		};
		return self.putTiddlerChronicle(revisions, context, context.userParams, subCallback);
	};
	var _deleteTiddler = function(context, userParams) {
		if(!context.status) {
			return callback(context, userParams);
		}
		$.extend(true, newTiddler, context.tiddler);
		context.callback = null;
		return self.deleteTiddler(oldTiddler, context, context.userParams, callback);
	};
	callback = callback || function() {};
	context = this.setContext(context, userParams);
	context.host = context.host || oldTiddler.fields["server.host"];
	context.workspace = from.workspace || oldTiddler.fields["server.workspace"];
	return _getTiddlerChronicle(from.title, context, userParams, _putTiddlerChronicle);
};

// delete an individual tiddler
adaptor.prototype.deleteTiddler = function(tiddler, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = tiddler.title; // XXX: not required!?
	var uriTemplate = "%0/bags/%1/tiddlers/%2";
	var host = context.host || this.fullHostName(tiddler.fields["server.host"]);
	var bag = tiddler.fields["server.bag"];
	if(!bag) {
		return adaptor.noBagErrorMessage;
	}
	var uri = uriTemplate.format([host, adaptor.normalizeTitle(bag),
		adaptor.normalizeTitle(tiddler.title)]);
	var etag = adaptor.generateETag({ type: "bag", name: bag }, tiddler);
	var headers = etag ? { "If-Match": etag } : null;
	var req = httpReq("DELETE", uri, adaptor.deleteTiddlerCallback, context, headers,
		null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.deleteTiddlerCallback = function(status, context, responseText, uri, xhr) {
	context.status = [204, 1223].contains(xhr.status);
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// compare two revisions of a tiddler (requires TiddlyWeb differ plugin)
//# if context.rev1 is not specified, the latest revision will be used for comparison
//# if context.rev2 is not specified, the local revision will be sent for comparison
//# context.format is a string as determined by the TiddlyWeb differ plugin
adaptor.prototype.getTiddlerDiff = function(title, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = title;

	var tiddler = store.getTiddler(title);
	try {
		var workspace = adaptor.resolveWorkspace(tiddler.fields["server.workspace"]);
	} catch(ex) {
		return adaptor.locationIDErrorMessage;
	}
	var tiddlerRef = [workspace.type + "s", workspace.name, tiddler.title].join("/");

	var rev1 = context.rev1 ? [tiddlerRef, context.rev1].join("/") : tiddlerRef;
	var rev2 = context.rev2 ? [tiddlerRef, context.rev2].join("/") : null;

	var uriTemplate = "%0/diff?rev1=%1";
	if(rev2) {
		uriTemplate += "&amp;rev2=%2";
	}
	if(context.format) {
		uriTemplate += "&amp;format=%3";
	}
	var host = context.host || this.fullHostName(tiddler.fields["server.host"]);
	var uri = uriTemplate.format([host, adaptor.normalizeTitle(rev1),
		adaptor.normalizeTitle(rev2), context.format]);

	if(rev2) {
		var req = httpReq("GET", uri, adaptor.getTiddlerDiffCallback, context, null,
			null, null, null, null, true);
	} else {
		var payload = {
			title: tiddler.title,
			text: tiddler.text,
			modifier: tiddler.modifier,
			tags: tiddler.tags,
			fields: $.extend({}, tiddler.fields)
		}; // XXX: missing attributes!?
		payload = $.toJSON(payload);
		req = httpReq("POST", uri, adaptor.getTiddlerDiffCallback, context,
			null, payload, adaptor.mimeType, null, null, true);
	}
	return typeof req == "string" ? req : true;
};

adaptor.getTiddlerDiffCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	context.uri = uri;
	if(status) {
		context.diff = responseText;
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// generate tiddler information
adaptor.prototype.generateTiddlerInfo = function(tiddler) {
	var info = {};
	var uriTemplate = "%0/%1/%2/tiddlers/%3";
	var host = this.host || tiddler.fields["server.host"]; // XXX: this.host obsolete?
	host = this.fullHostName(host);
	var workspace = adaptor.resolveWorkspace(tiddler.fields["server.workspace"]);
	info.uri = uriTemplate.format([host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name),
		adaptor.normalizeTitle(tiddler.title)]);
	return info;
};

// create Tiddler instance from TiddlyWeb tiddler JSON
adaptor.toTiddler = function(json, host) {
	var created = Date.convertFromYYYYMMDDHHMM(json.created);
	var modified = Date.convertFromYYYYMMDDHHMM(json.modified);
	var fields = json.fields;
	fields["server.type"] = adaptor.serverType;
	fields["server.host"] = AdaptorBase.minHostName(host);
	fields["server.bag"] = json.bag;
	fields["server.title"] = json.title;
	if(json.recipe) {
		fields["server.recipe"] = json.recipe;
	}
	if(json.type &amp;&amp; json.type != "None") {
		fields["server.content-type"] = json.type;
	}
	fields["server.permissions"] = json.permissions.join(", ");
	fields["server.page.revision"] = json.revision;
	fields["server.workspace"] = "bags/" + json.bag;
	var tiddler = new Tiddler(json.title);
	tiddler.assign(tiddler.title, json.text, json.modifier, modified, json.tags,
		created, json.fields, json.creator);
	return tiddler;
};

adaptor.resolveWorkspace = function(workspace) {
	var components = workspace.split("/");
	return {
		type: components[0] == "bags" ? "bag" : "recipe",
		name: components[1] || components[0]
	};
};

adaptor.generateETag = function(workspace, tiddler) {
	var revision = tiddler.fields["server.page.revision"];
	var etag = revision == "false" ? null : tiddler.fields["server.etag"];
	if(!etag &amp;&amp; workspace.type == "bag") {
		if(typeof revision == "undefined") {
			revision = "0";
		} else if(revision == "false") {
			return null;
		}
		etag = [adaptor.normalizeTitle(workspace.name),
			adaptor.normalizeTitle(tiddler.title), revision].join("/");
		etag = '"' + etag + '"';
	}
	return etag;
};

adaptor.normalizeTitle = function(title) {
	return encodeURIComponent(title);
};

})(jQuery);


/*
 * jQuery JSON Plugin
 * version: 1.3
 * source: http://code.google.com/p/jquery-json/
 * license: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function($){function toIntegersAtLease(n)
{return n&lt;10?'0'+n:n;}
Date.prototype.toJSON=function(date)
{return this.getUTCFullYear()+'-'+
toIntegersAtLease(this.getUTCMonth())+'-'+
toIntegersAtLease(this.getUTCDate());};var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};$.quoteString=function(string)
{if(escapeable.test(string))
{return'"'+string.replace(escapeable,function(a)
{var c=meta[a];if(typeof c==='string'){return c;}
c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'"';}
return'"'+string+'"';};$.toJSON=function(o,compact)
{var type=typeof(o);if(type=="undefined")
return"undefined";else if(type=="number"||type=="boolean")
return o+"";else if(o===null)
return"null";if(type=="string")
{return $.quoteString(o);}
if(type=="object"&amp;&amp;typeof o.toJSON=="function")
return o.toJSON(compact);if(type!="function"&amp;&amp;typeof(o.length)=="number")
{var ret=[];for(var i=0;i&lt;o.length;i++){ret.push($.toJSON(o[i],compact));}
if(compact)
return"["+ret.join(",")+"]";else
return"["+ret.join(", ")+"]";}
if(type=="function"){throw new TypeError("Unable to convert object of type 'function' to json.");}
var ret=[];for(var k in o){var name;type=typeof(k);if(type=="number")
name='"'+k+'"';else if(type=="string")
name=$.quoteString(k);else
continue;var val=$.toJSON(o[k],compact);if(typeof(val)!="string"){continue;}
if(compact)
ret.push(name+":"+val);else
ret.push(name+": "+val);}
return"{"+ret.join(", ")+"}";};$.compactJSON=function(o)
{return $.toJSON(o,true);};$.evalJSON=function(src)
{return eval("("+src+")");};$.secureEvalJSON=function(src)
{var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,'@');filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']');filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,'');if(/^[\],:{}\s]*$/.test(filtered))
return eval("("+src+")");else
throw new SyntaxError("Error parsing JSON, source is not valid.");};})(jQuery);
//}}}</pre>
</div>
<div title="SiteIcon" server.title="SiteIcon" server.page.revision="2576772" server.etag="&quot;zhucebuliaogyx_public/SiteIcon/2576772:ce8021dc65b0e019fc3f7ea3f05ae96de44e1624&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="image/jpeg" modified="20161025155038" created="20160927132143" tags="excludeLists" _hash="b80c513f7db45b7fb287b3a95d913469b813e4b1">
<pre>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</pre>
</div>
<div title="StyleSheetTiddler" server.title="StyleSheetTiddler" server.page.revision="1521917" server.etag="&quot;system-theme_public/StyleSheetTiddler/1521917:938f511159036547c236ebc4167fd678d437da96&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-theme_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-theme_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch" _hash="1a28a9b1acf2996cdfbb522f52f0e56353d9f883">
<pre>/*{{{*/
.tiddler .originButton div {
	display: inline-block;
}

.tiddler .spaceSiteIcon .siteIcon {
	_display: inline; /* IE doesn't like inline-block */
}

.tiddler .originButton {
	display: block;
}

.selected .tagging,
.selected .tagging:hover {
	border: none;
	background: none;
}

.tagging {
	float: none;
	background: none;
	border: none;
}

.tagging li.listTitle {
	margin-left: 0px;
}
.tagging li {
	margin: 0 8px;
}

.tagging .tiddlyLink {
	-webkit-border-radius: 3px;
	-moz-border-radius: 3px;
	-o-border-radius: 3px;
	border-radius: 3px;
	padding: 1px 2px;
	line-height: 1.2em;
}

/* for following */
#popup .siteIcon {
	float: left;
	height: 25px;
}

.content {
	width: 100%; /* IE */
	font-size: 0.9em;
}

.editorHeading {
	height: 48px;
}

.heading {
	left: 0;
	margin-bottom: 40px;
	position: relative;
	top: 32px;
}

.followButton a {
	display: block;
	margin-top: -20px;
}

.tiddler .followPlaceHolder {
	display: block;
	position: absolute;
	top: 16px;
	right: 64px;
	_right: 138px; // add width of modifierIcon
}

.tiddler .followButton {
	position: relative;
	height: 24px;
	text-align: left;
	color: #fff;
	background: [[ColorPalette::PrimaryMid]];
	padding: 10px 0px 0px 10px;
	width: 38px;
	margin: -16px -8px 24px 0;
}

/* creates the larger triangle */
.followButton:before {
	content: "\00a0";
	display: block; /* reduce the damage in FF3.0 */
	position: relative;
	bottom: -20px;
	right: 0;
	width: 0;
	height: 0;
	border-width: 0 0 20px 20px;
	border-style: solid;
	border-color: transparent [[ColorPalette::PrimaryMid]];
}

.toolbar svg {
	height: 16px;
	width: 16px;
}

.toolbar svg .glyph {
	fill: #ccc;
}

.toolbar a:hover .glyph {
	fill: black;
}

.toolbar a:active .glyph {
	fill: [[ColorPalette::Background]];
}

.originButton,
.followPlaceHolder,
.tiddler .subtitle {
	cursor: pointer;
}

.editSpaceSiteIcon .originButton {
	cursor: auto;
}

.tiddler .subtitle:hover {
	font-weight: bold;
	background: none;
}

.originButton img,
.originButton svg {
	margin-left: 0px;
}

.modifierIcon {
	position: absolute;
	width: 74px;
	top: 0px;
	right: 0px;
	_right: 74px; /* in IE6 positioning works incorrectly so use -width instead */
	text-align: right;
}

.modifierIcon img,
.modifierIcon svg {
	margin-right: 8px;
}

.tiddler .viewer {
	padding-bottom: 16px;
	margin: 0 0 0 56px;
	line-height: 1.4em;
}

.viewer pre {
	margin-left: 0;
}

.siteIcon .label {
	color: [[ColorPalette::TertiaryDark]];
}

.tiddler .spaceSiteIcon {
	float: left;
	margin-right: 0;
	margin-top: 0;
	position: relative;
	display: block;
}

.tiddler .titleBar {
	display: block;
	margin-right: 136px;
	margin-left: 56px;
}

.followButton a {
	color: [[ColorPalette::Background]];
}

.tiddler {
	position: relative;
	padding: 0;
	margin-bottom: 3em;
	border-top: 3px solid [[ColorPalette::PrimaryMid]];
	background: #fff;
}

.tiddler .editor {
	padding: 0px 8px;
}

.tiddler .heading .title {
	position: relative;
	display: block;
	word-wrap: break-word;
	font-size: 32px;
	line-height: 32px;
}
.tiddler .heading .editor.title {
	font-size: 1.7em;
	line-height: normal;
}

.tiddler .headingClear {
	clear: both;
}

.tiddler .subtitle {
	font-style: italic;
	font-size: 0.9em;
	color: #a6a59e;
	margin-top: 0;
}

.toolbar {
	position: absolute;
	padding: 0;
	top: 8px;
	right: -8px;
}

.toolbar .moreCommand.highlight {
	background: none;
}

.tiddler .toolbar .button {
	border: none;
	display: inline;
	padding: 0px;
	margin-right: 16px;
}

.tiddler .toolbar a:hover {
	background: none;
}

.tiddler .tagged .listTitle {
	display: none;
}

.revButton {
	float: right;
}

/*! EditTemplate specific*/
.tiddler .privacySettings {
	text-align: center;
}
.tiddler .privacySettings .originButton {
	display: inline;
}

.editSpaceSiteIcon, .privacyEdit {
	float: left;
}

.editSpaceSiteIcon svg,
.editSpaceSiteIcon img,
.editSpaceSiteIcon .roundelLabel {
	float: left;
}

.tagTitle {
	position: absolute;
	text-align: center;
	width: 48px;
	top: 0px;
	left: -56px;
}

.editSpaceSiteIcon .originButton img,
.editSpaceSiteIcon .originButton svg {
	height: 16px;
	margin-left: 24px;
	margin-right: 32px;
	width: 16px;
}

.tagAnnotation {
	margin-top: 8px;
	padding-bottom: 8px;
}
.annotationsBox {
	margin-top: 8px;
}

.editorFooter {
	position: relative;
	padding: 0;
	margin-top: 16px;
	margin-left: 64px;
}

.tiddler .editorFooter .editor {
	padding-left: 0px;
}

.heading .editor input {
	width: 100%;
	font-size: 1.5em;
}

.spaceSiteIcon .externalImage .image a:hover,
.modifierIcon .externalImage .image a:hover {
	background: none;
}

div.toolbar {
	visibility:hidden;
	right:-16px;
}

.selected div.toolbar {
	visibility: visible;
}

.followButton a:hover {
	background: [[ColorPalette::PrimaryMid]];
	text-decoration: underline;
}

a.image:hover {
	background: transparent;
}

@media all and (max-device-width: 480px) {
	div.toolbar {
		visibility:visible;
	}
}
@media only screen and (device-width: 768px) {
	div.toolbar {
		visibility:visible;
	}
}
@media all and (max-width: 960px) {
	.tiddler .titleBar {
		margin-left: 36px;
		margin-right: 80px;
	}

	.tiddler .heading {
		margin-bottom: 48px;
	}

	.tiddler .heading .title {
		font-size: 32px;
		line-height: 32px;
	}

	.tiddler .modifierIcon img,
	.tiddler .modifierIcon svg,
	.tiddler .spaceSiteIcon .originButton img,
	.originButton svg {
		width: 32px;
		height: 32px;
		margin-left: 0px;
		margin-right: 0px;
	}

	.tiddler .followPlaceHolder {
		right: 48px;
	}

	.tiddler .followButton {
		width: 24px;
	}

	.tiddler .viewer {
		margin: 0px 0px 0px 36px;
		padding-top: 0;
	}

	br {
		line-height: 0.5em;
	}
}
/*}}}*/</pre>
</div>
<div title="FollowTiddlersBlackList" server.title="FollowTiddlersBlackList" server.page.revision="1521900" server.etag="&quot;tiddlyspace/FollowTiddlersBlackList/1521900:6727ad623bee8434e4dd0fea9cfabc3622273df3&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="" modified="20131111192334" created="20131111192334" tags="excludeLists excludeMissing excludeSearch" _hash="6fc8ab230a904a71d63a42d97dccd8e135c1ed1c">
<pre>ColorPalette
StyleSheet
SiteSubtitle
GettingStarted
SiteTitle
MainMenu
SiteIcon
DefaultTiddlers
ViewTemplate
PageTemplate
SideBarOptions
EditTemplate
SiteInfo
SideBarTabs
ToolbarCommands</pre>
</div>
<div title="文献索引格式" server.title="文献索引格式" server.page.revision="2586892" server.etag="&quot;zhucebuliaogyx_public/%E6%96%87%E7%8C%AE%E7%B4%A2%E5%BC%95%E6%A0%BC%E5%BC%8F/2586892:48e51b621fda7c8011c603fd1d658c564cbad07a&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161123115026" created="20161123115026" tags="文献综述" _hash="bf4fa6826d5e1deb56579da215dd79b55afaaace">
<pre>参考文献是综述的重要组成部分。一般参考文献的多少可体现作者阅读文献的广度和深度。对综述类论文参考文献的数量不同杂志有不同的要求，一般以30条以内为宜，以3-5年内的最新文献为主。

学术论文参考文献的著录格式

1.专著: [序号]作者.书名[M].版本(第1版不著录).出版地:出版者,出版年.起止页码.

2.期刊: [序号]作者.题名[J].刊名,年,卷(期):起止页码.

3.会议论文集(或汇编): [序号]作者.题名[A].编者.论文集名[C].出版地:出版者,出版年.起止页码.

4.学位论文: [序号]作者. 题名[D]. 学位授予地址:学位授予单位，年份.

5.专利: [序号]专利申请者. 专利题名[P].专利国别(或地区):专利号, 出版日期.

6.科技报告: [序号]著者. 报告题名[R].编号，出版地:出版者，出版年.起止页码.

7.标准: [序号] 标准编号，标准名称[S].颁布日期.

8.报纸文章 : [序号] 作者. 题名[N]. 报纸名，年-月-日(版次).

9.电子文献: [序号] 主要责任者.电子文献题名[电子文献及载体类型标识].电子文献的出处或可获得地址，发表或更新日期/引用日期(任选).

10.各种未定义类型的文献: [序号]主要责任者.文献题名[Z]. 出版地:出版者，出版年.</pre>
</div>
<div title="spaceTitle" server.title="spaceTitle" server.page.revision="1521874" server.etag="&quot;system-info_public/spaceTitle/1521874:7619ca1ce2fccc8bbb8c094561abf7e855dd8e12&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-info_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-info_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch" _hash="fc6cbafbbf1009da659a70f1f400ca4db8ebc84d">
<pre>The title and subtitle of your space are visible to visitors and are also displayed in your browser's tabs. Click on the SiteTitle and SiteSubtitle tiddler links below to make changes.
* [[SiteTitle]]
* [[SiteSubtitle]]</pre>
</div>
<div title="你迷失在地图上每一道短暂的光阴" server.title="你迷失在地图上每一道短暂的光阴" server.page.revision="2567113" server.etag="&quot;zhucebuliaogyx_public/%E4%BD%A0%E8%BF%B7%E5%A4%B1%E5%9C%A8%E5%9C%B0%E5%9B%BE%E4%B8%8A%E6%AF%8F%E4%B8%80%E9%81%93%E7%9F%AD%E6%9A%82%E7%9A%84%E5%85%89%E9%98%B4/2567113:cd2eaabb8f4adf6e2828b36d07d0f2027fc40361&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20160927154119" created="20160927152004" tags="云南机场" _hash="4c191428fead44b954d5a062dc6d44f03c4469b2">
<pre>
&lt;html&gt;
&lt;body&gt;
&lt;div align="center"&gt;
&lt;embed src="http://ww3.sinaimg.cn/mw690/005Kd0gKjw1f5c88o5ktdj30qi0wx43s.jpg"&gt;&lt;/embed&gt;
&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="let's start from here1" server.title="let's start from here1" server.page.revision="2566807" server.etag="&quot;zhucebuliaogyx_public/let's%20start%20from%20here1/2566807:887740278503ff16184e002ca717bb840ba467f8&quot;" modifier="zhucebuliaogyx" creator="osmosoft" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20160927135103" created="20131111192330" tags="excludeLists excludeMissing excludeSearch" _hash="02480db7316496c11fadd6b7fa913d6923c0b8fa">
<pre>[[你看过了许多美景]]            [[你看过了许多美女]]

&lt;html&gt;
&lt;embed src="http://music.baidu.com/song/s/40069d07920857e67d01" type="application/x-shockwave-flash" width="257" height="33" wmode="transparent"&gt;&lt;/embed&gt;
&lt;body&gt;
&lt;div align="center"&gt;
&lt;embed src="http://ww3.sinaimg.cn/mw690/887790fagw1f7tgnr2m7lj20c30gotdi.jpg" &gt;&lt;/embed&gt;
&lt;/div&gt;
&lt;div align="center"&gt;
&lt;embed src="http://ww3.sinaimg.cn/mw690/887790fagw1f7tgnt4mzcj20c20go76f.jpg" &gt;&lt;/embed&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="第五次作业" server.title="第五次作业" server.page.revision="2587364" server.etag="&quot;zhucebuliaogyx_public/%E7%AC%AC%E4%BA%94%E6%AC%A1%E4%BD%9C%E4%B8%9A/2587364:01d0dfd1fdcae0e358b3f09d8ac33686a6cf3ca2&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161125073301" created="20161124022520" tags="14信管作业" _hash="1a9b7ed9f06256372f354bf646d98484a3dc1ad8">
<pre>ischools介绍

1、卡内基梅隆大学：信息系统与管理学院[[Carnegie Mellon University: School of Information Systems and Management, Heinz College|http://www.heinz.cmu.edu/index.aspx]]

学校的介绍：
	19个诺贝尔奖得主,12图灵奖获得者,98年艾美奖获得者,六个奥斯卡奖获奖者和37托尼奖获得者曾在卡内基梅隆大学就读。2013年《美国新闻与世界报道》杂志将卡内基梅隆大学的信息系统与管理学院排进全美前十的学院。
	学院成立超过四十年，教学主要目标是院长威廉•库珀的视觉教育“男人和女人聪明的行动”，基于这一原则，学院坚持四个原则：

实际解决问题。学院的所有全日制硕士课程要求学生完成一个顶点项目,为真正的客户解决实际问题。 除了测试学术技能,这些项目还提供领导和沟通的实际经验。

创新。大学生和教师创造公共、私人和非营利部门使用的机制——奖学金和基础研究， 同时他们还致力于技术开发和分析等等。

多样性。学院社区的人口和地理成分多样，同时拥有范围广泛的学科课程。 

有同情心的领导人。大学拥有强大的服务于公共利益的承诺。他们的创新项目往往致力于提供疾病暴发的早期预警；提高公共交通的效率；和重建城市社区绿色工作等。

人员：[[ 教师|http://www.heinz.cmu.edu/faculty-and-research/index.aspx]] 、 [[学生|http://www.heinz.cmu.edu/current-students/index.aspx]]

研究方向：
· AMT实验室
致力于资源的创新，开发出有效、高效的集成技术。

· 行为决策研究中心
建立在心理学、经济学、神经科学和公共政策决策上来回答应用和理论问题。

·社会创新研究所
提供多学科的学生、教师和研究人员多种应用的学习机会，做出对应的设计。并建设经济可持续发展的企业,推动社会公益项目发展。

· 项目的研究和推广社会性别平等
寻求和传播进行研究性别平等和发展相关的问题，与其他组织合作，帮助女性在社会获得话语权。 与合作伙伴合作,专注于帮助年轻女性,希望克服可能阻碍进步的女性成为成年人,进入劳动力的社会化行为。


2、卓克索大学：计算机与信息学院 [[Drexel University: College of Computing and Informatics|http://drexel.edu/cci/]]

学校介绍：   
        德雷塞尔大学是一个全面的全球研究大学在全国排名在前100名。 约有26000名学生,德雷克斯是美国15个最大的私立大学之一。学院成立于2013年作为响应计算和信息学的越来越重要的角色在所有的经济领域。 
        计算机与信息学院(CCI)作为中央枢纽德雷克塞尔大学计算机科学和信息科学活动。 CCI教育和研究活动提供全面的覆盖率计算和信息学和协作关系在一系列学科应对信息时代的机遇和挑战。CCI的研究专长在于广泛的领域包括计算机科学、计算机安全、人类集中计算、信息和数据科学;图书馆和信息科学。
 
人员：[[教师|http://drexel.edu/cci/contact/Faculty/]] [[学生|http://drexel.edu/cci/admissions/undergraduate/]]

研究方向：

•	计算机科学领域：算法和理论:  
•	人工智能:  
•	生物医学计算
•	计算机图形学:  
•	计算机科学教育:  
•	计算机安全与隐私: 
•	计算机视觉:  
•	数据库系统:  
•	游戏设计与开发: 
•	高性能计算: 
•	人机交互
•	机器学习:  
•	网络:  
•	编程语言和验证:  
•	软件工程: 
•	符号计算:  

图书馆和信息科学的研究
•	文献计量学:  
•	数字内容管理: 
•	评估服务和系统:
•	人类的信息行为:  
•	信息伦理:  
•	信息素养:  
•	信息检索:  
•	信息可视化:  
•	知识表示: 
•	图书馆与信息科学教育:  
•	图书馆服务:  
•	组织管理:  
•	研究方法:
•	社会计算与信息:  





</pre>
</div>
<div title="DefaultTiddlers" server.title="DefaultTiddlers" server.page.revision="2555239" server.etag="&quot;zhucebuliaogyx_public/DefaultTiddlers/2555239:e2d35b258c2628bbe571bb7478270097bfe1d711&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20160907140006" created="20160907122403" tags="excludeLists" _hash="9469a0b9118a57912681783685584f53bce35b70">
<pre>[[GettingStarted]]</pre>
</div>
<div title="RevisionTemplate" server.title="RevisionTemplate" server.page.revision="1521915" server.etag="&quot;system-theme_public/RevisionTemplate/1521915:a228273134500d10189695dfd06e8878495ab90d&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-theme_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-theme_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeMissing excludeSearch" _hash="b182c10523c4d9fe3f622b1529b70d43f5150701">
<pre>&lt;!--{{{--&gt;
&lt;div macro='slideRevision'&gt;&lt;/div&gt;
&lt;div class='heading'&gt;
	&lt;span class="titleBar"&gt;
		&lt;div class='title' macro='view title text'&gt;&lt;/div&gt;
	&lt;/span&gt;
	&lt;span class='modifierIcon'
		macro='view modifier SiteIcon label:no height:48 width:48 preserveAspectRatio:yes'&gt;
	&lt;/span&gt;
	&lt;div class='toolbar'
		macro='toolbar [[ToolbarCommands::RevisionToolbar]] icons:yes height:48 width:48 more:popup'&gt;
	&lt;/div&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='content'&gt;
	&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='tagInfo'&gt;
	&lt;div class='tidTags' macro='tags'&gt;&lt;/div&gt;
	&lt;div class='tagging' macro='tagging'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="GettingStarted" server.title="GettingStarted" server.page.revision="2571777" server.etag="&quot;zhucebuliaogyx_public/GettingStarted/2571777:6693c262feddc9a5b08d4bff634452f86abd4358&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161012061009" created="20160927135113" tags="excludeMissing excludeSearch" _hash="b2a87acf49e7a673cd69c3059966207913b9ec65">
<pre>&lt;html&gt;
&lt;body&gt;
&lt;table&gt;&lt;tr &gt;
&lt;td&gt;&lt;img src="http://ww3.sinaimg.cn/mw690/887790fagw1f7tgnr2m7lj20c30gotdi.jpg"  height=80% border=0&gt;&lt;/td&gt;
&lt;td&gt;&lt;img src="http://ww3.sinaimg.cn/mw690/887790fagw1f7tgnt4mzcj20c20go76f.jpg"  height=80%  border=0&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="TiddlySpacePublishingCommands" server.title="TiddlySpacePublishingCommands" server.page.revision="1521868" server.etag="&quot;system-plugins_public/TiddlySpacePublishingCommands/1521868:d10c6a198164cc0aa80bb52dcab9086665191aad&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch systemConfig" _hash="d38da0ee80a7dc114a17466600f9430fa2a962bb">
<pre>/***
|''Name''|TiddlySpacePublishingCommands|
|''Version''|0.8.5|
|''Status''|@@beta@@|
|''Description''|toolbar commands for drafting and publishing|
|''Author''|Jon Robson|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpacePublishingCommands.js|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig TiddlySpaceFilters|
!Usage
Provides changeToPrivate, changeToPublic and saveDraft commands
Provides TiddlySpacePublisher macro.
{{{&lt;&lt;TiddlySpacePublisher type:private&gt;&gt;}}} make lots of private tiddlers public.
{{{&lt;&lt;TiddlySpacePublisher type:public&gt;&gt;}}} make lots of public tiddlers public.
!TODO
* add public argument?
!Code
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;
var originMacro = config.macros.tiddlerOrigin;

tiddlyspace.getTiddlerStatusType = function(tiddler) {
	var isShadow = store.isShadowTiddler(tiddler.title);
	var exists = store.tiddlerExists(tiddler.title);
	if(isShadow &amp;&amp; !exists) {
		return "shadow";
	} else if(!exists) {
		return "missing";
	} else {
		var types = ["private", "public"];
		var type = "external";
		for(var i = 0; i &lt; types.length; i++) {
			var t = types[i];
			type = config.filterHelpers.is[t](tiddler) ? t : type;
		}
		if(config.filterHelpers.is.unsynced(tiddler)) {
			type = type == "private" ? "unsyncedPrivate" : "unsyncedPublic";
		}
		return type;
	}
};

var cmd = config.commands.publishTiddler = {
	text: "make public",
	tooltip: "Change this private tiddler into a public tiddler",
	errorMsg: "Error publishing %0: %1",

	isEnabled: function(tiddler) {
		return !readOnly &amp;&amp; config.filterHelpers.is["private"](tiddler);
	},
	handler: function(ev, src, title) {
		var tiddler = store.getTiddler(title);
		if(tiddler) {
			var newBag = cmd.toggleBag(tiddler.fields["server.bag"]);
			this.moveTiddler(tiddler, {
				title: tiddler.fields["publish.name"] || tiddler.title,
				fields: { "server.bag": newBag }
			});
		}
	},
	toggleBag: function(bag, to) {
		var newBag;
		if(typeof bag != typeof "") {
			var tiddler = bag;
			bag = tiddler.fields["server.bag"];
		}
		if(bag.indexOf("_private") &gt; -1) { // should make use of endsWith
			to = to ? to : "public";
			newBag = bag.replace("_private", "_" + to);
		} else {
			to = to ? to : "private";
			newBag = bag.replace("_public", "_" + to);
		}
		return newBag;
	},
	copyTiddler: function(title, newTitle, newBag, callback) {
		var original = store.getTiddler(title);
		newTitle = newTitle ? newTitle : title;
		var adaptor = original.getAdaptor();
		var publish = function(original, callback) {
			var tiddler = $.extend(new Tiddler(newTitle), original);
			tiddler.fields = $.extend({}, original.fields, {
				"server.bag": newBag,
				"server.workspace": "bags/%0".format(newBag),
				"server.page.revision": "false"
			});
			delete tiddler.fields["server.title"];
			tiddler.title = newTitle;
			adaptor.putTiddler(tiddler, null, null, callback);
		};
		publish(original, callback);
	},
	moveTiddler: function(tiddler, newTiddler, callback) {
			var info = {
			copyContext: {},
			deleteContext: {}
		};
		var _dirty = store.isDirty();
		var adaptor = tiddler.getAdaptor();
		var newTitle = newTiddler.title;
		var oldTitle = tiddler.title;
		delete tiddler.fields["server.workspace"];
		var oldBag = tiddler.fields["server.bag"];
		var newBag = newTiddler.fields["server.bag"];
		var newWorkspace = "bags/%0".format(newBag);
		cmd.copyTiddler(oldTitle, newTitle, newBag, function(ctx) {
				info.copyContext = ctx;
				var context = {
					tiddler: tiddler,
					workspace: newWorkspace
				};
				store.addTiddler(ctx.tiddler);
				tiddler.title = oldTitle; // for cases where a rename occurs
				if(ctx.status) { // only do if a success
					if(oldBag != newBag) {
						adaptor.deleteTiddler(tiddler, context, {}, function(ctx) {
							info.deleteContext = ctx;
							var el;
							if(tiddler) {
								tiddler.fields["server.workspace"] = newWorkspace;
								tiddler.fields["server.bag"] = newBag;
							}
							el = el ? el : story.refreshTiddler(oldTitle, null, true);
							if(oldTitle != newTitle) {
								store.deleteTiddler(oldTitle);
								store.notify(oldTitle, true);
							}
							if(el) {
								story.displayTiddler(el, newTitle);
							}
							if(oldTitle != newTitle) {
								story.closeTiddler(oldTitle);
							}
							if(callback) {
								callback(info);
							}
							store.setDirty(_dirty);
						});
					} else {
						if(callback) {
							callback(info);
						}
					}
					refreshDisplay();
				}
		});
	}
};

var changeToPrivate = config.commands.changeToPrivate = {
	text: "make private",
	tooltip: "turn this public tiddler into a private tiddler",
	isEnabled: function(tiddler) {
		return !readOnly &amp;&amp; config.filterHelpers.is["public"](tiddler);
	},
	handler: function(event, src, title) {
		var tiddler = store.getTiddler(title);
		var newBag = cmd.toggleBag(tiddler, "private");
		var newTiddler = { title: title, fields: { "server.bag": newBag }};
		cmd.moveTiddler(tiddler, newTiddler);
	}
};
config.commands.changeToPublic = cmd;

/* Save as draft command */
var saveDraftCmd = config.commands.saveDraft = {
	text: "save draft",
	tooltip: "Save as a private draft",
	isEnabled: function(tiddler) {
		return changeToPrivate.isEnabled(tiddler);
	},
	getDraftTitle: function(title) {
		var draftTitle;
		var draftNum = "";
		while(!draftTitle) {
			var suggestedTitle = "%0 [draft%1]".format(title, draftNum);
			if(store.getTiddler(suggestedTitle)) {
				draftNum = !draftNum ? 2 : draftNum + 1;
			} else {
				draftTitle = suggestedTitle;
			}
		}
		return draftTitle;
	},
	createDraftTiddler: function(title, gatheredFields) {
		var tiddler = store.getTiddler(title);
		var draftTitle = saveDraftCmd.getDraftTitle(title);
		var draftTiddler = new Tiddler(draftTitle);
		if(tiddler) {
			$.extend(true, draftTiddler, tiddler);
		} else {
			$.extend(draftTiddler.fields, config.defaultCustomFields);
		}
		for(var fieldName in gatheredFields) {
			if(TiddlyWiki.isStandardField(fieldName)) {
				draftTiddler[fieldName] = gatheredFields[fieldName];
			} else {
				draftTiddler.fields[fieldName] = gatheredFields[fieldName];
			}
		}
		var privateBag = tiddlyspace.getCurrentBag("private");
		var privateWorkspace = tiddlyspace.getCurrentWorkspace("private");
		draftTiddler.title = draftTitle;
		draftTiddler.fields["publish.name"] = title;
		draftTiddler.fields["server.workspace"] = privateWorkspace;
		draftTiddler.fields["server.bag"] = privateBag;
		draftTiddler.fields["server.title"] = draftTitle;
		draftTiddler.fields["server.page.revision"] = "false";
		delete draftTiddler.fields["server.etag"];
		return draftTiddler;
	},
	handler: function(ev, src, title) {
		var tiddler = store.getTiddler(title); // original tiddler
		var tidEl = story.getTiddler(title);
		var uiFields = {};
		story.gatherSaveFields(tidEl, uiFields);
		var tid = saveDraftCmd.createDraftTiddler(title, uiFields);
		tid = store.saveTiddler(tid.title, tid.title, tid.text, tid.modifier,
			new Date(), tid.tags, tid.fields);
		autoSaveChanges(null, [tid]);
		story.closeTiddler(title);
		story.displayTiddler(src, title);
		story.displayTiddler(src, tid.title);
	}
};

var macro = config.macros.TiddlySpacePublisher = {
	locale: {
		title: "Batch Publisher",
		changeStatusLabel: "Make %0",
		noTiddlersText: "No tiddlers to publish",
		changeStatusPrompt: "Make all the selected tiddlers %0.",
		description: "Change tiddlers from %0 to %1 in this space"
	},

	listViewTemplate: {
		columns: [
			{ name: "Selected", field: "Selected", rowName: "title", type: "Selector" },
			{ name: "Tiddler", field: "tiddler", title: "Tiddler", type: "Tiddler" },
			{ name: "Status", field: "status", title: "Status", type: "WikiText" }
		],
		rowClasses: []
	},

	changeStatus: function(tiddlers, status, callback) { // this is what is called when you click the publish button
		var publicBag;
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = tiddlers[i];
			var newTiddler = {
				title: tiddler.title,
				fields: { "server.bag": cmd.toggleBag(tiddler, status) }
			};
			cmd.moveTiddler(tiddler, newTiddler, callback);
		}
	},
	getMode: function(paramString) {
		var params = paramString.parseParams("anon")[0];
		var status = params.type ?
			(["public", "private"].contains(params.type[0]) ? params.type[0] : "private") :
			"private";
		var newStatus = status == "public" ? "private" : "public";
		return [status, newStatus];
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var wizard = new Wizard();
		var locale = macro.locale;
		var status = macro.getMode(paramString);
		wizard.createWizard(place, locale.title);
		wizard.addStep(macro.locale.description.format(status[0], status[1]),
			'&lt;input type="hidden" name="markList" /&gt;');
		var markList = wizard.getElement("markList");
		var listWrapper = $("&lt;div /&gt;").addClass("batchPublisher").
			attr("refresh", "macro").attr("macroName", macroName).
			attr("params", paramString)[0];
		markList.parentNode.insertBefore(listWrapper, markList);
		$.data(listWrapper, "wizard", wizard);
		macro.refresh(listWrapper);
	},
	getCheckedTiddlers: function(listWrapper, titlesOnly) {
		var tiddlers = [];
		$(".chkOptionInput[rowName]:checked", listWrapper).each(function(i, el) {
			var title = $(el).attr("rowName");
			if(titlesOnly) {
				tiddlers.push(title);
			} else {
				tiddlers.push(store.getTiddler(title));
			}
		});
		return tiddlers;
	},
	refresh: function(listWrapper) {
		var checked = macro.getCheckedTiddlers(listWrapper, true);
		var paramString = $(listWrapper).empty().attr("params");
		var wizard = $.data(listWrapper, "wizard");
		var locale = macro.locale;
		var params = paramString.parseParams("anon")[0];
		var publishCandidates = [];
		var status = macro.getMode(paramString);
		var pubType = status[0];
		var newPubType = status[1];
		var tiddlers = params.filter ? store.filterTiddlers(params.filter[0]) :
			store.filterTiddlers("[is[%0]]".format(pubType));
		var enabled = [];
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = tiddlers[i];
			var title = tiddler.title;
			if(!tiddler.tags.contains("excludePublisher") &amp;&amp; title !== "SystemSettings") {
				publishCandidates.push({ title: title, tiddler: tiddler, status: pubType});
			}
			if(checked.contains(title)) {
				enabled.push("[rowname=%0]".format(title));
			}
		}

		if(publishCandidates.length === 0) {
			createTiddlyElement(listWrapper, "em", null, null, locale.noTiddlersText);
		} else {
			var listView = ListView.create(listWrapper, publishCandidates, macro.listViewTemplate);
			wizard.setValue("listView", listView);
			var btnHandler = function(ev) {
				var tiddlers = macro.getCheckedTiddlers(listWrapper);
				var callback = function(status) {
					$(".batchPublisher").each(function(i, el) {
						macro.refresh(el);
					});
				};
				macro.changeStatus(tiddlers, newPubType, callback);
			};
			wizard.setButtons([{
				caption: locale.changeStatusLabel.format(newPubType),
				tooltip: locale.changeStatusPrompt.format(newPubType),
				onClick: btnHandler
			}]);
			$(enabled.join(",")).attr("checked", true); // retain what was checked before
		}
	}
};

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceTabs" server.title="TiddlySpaceTabs" server.page.revision="1521916" server.etag="&quot;system-theme_public/TiddlySpaceTabs/1521916:3b0638950cd86d019a849b54bb28dad1068b25f3&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-theme_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-theme_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch" _hash="7bc357188d6afd65d6724a670b0052c0488766a4">
<pre>!Spaces
&lt;&lt;groupBy server.bag&gt;&gt;

!Private
&lt;&lt;list filter [is[private]]&gt;&gt;

!Public
&lt;&lt;list filter [is[public]]&gt;&gt;

!Drafts
&lt;&lt;list filter [is[draft]]&gt;&gt;</pre>
</div>
<div title="TiddlySpaceBackstage" server.title="TiddlySpaceBackstage" server.page.revision="1521910" server.etag="&quot;tiddlyspace/TiddlySpaceBackstage/1521910:0163b6b401c32eacd4d02f06a98b35f1622ecfad&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/javascript" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch systemConfig" _hash="390091c823ffd5ec5008f2a8174c3caccfa6302b">
<pre>/***
|''Name''|TiddlySpaceBackstage|
|''Version''|0.8.0|
|''Description''|Provides a TiddlySpace version of the backstage and a homeLink macro|
|''Status''|@@beta@@|
|''Contributors''|Jon Lister, Jon Robson, Colm Britton|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceBackstage.js|
|''Requires''|TiddlySpaceConfig ImageMacroPlugin TiddlySpaceViewTypes|
!StyleSheet
.tiddler .error.annotation .button{
	display: inline-block;
}

#backstageArea {
	z-index: 49;
	color: white;
	background-color: black;
	background: -webkit-gradient(linear,left bottom,left top,color-stop(0, #222),color-stop(0.5, #333),color-stop(1, #555));
	background: -moz-linear-gradient(center bottom,#222 0%, #333 50%, #555 100%);
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#ff555555, endColorstr=#ff222222);
	-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#ff555555, endColorstr=#ff222222)";
	height: 25px;
	padding: 0;
}

#backstageButton {
	overflow: hidden;
}

#backstageButton #backstageShow,
#backstageButton #backstageHide {
	margin: 0px;
	padding: 0px;
}

#backstageButton #backstageShow:hover,
#backstageButton #backstageHide:hover {
	background: none;
	color: none;
}

#backstageButton img,
#backstageButton svg {
	width: 24px;
	height: 24px;
}

#messageArea {
	top: 50px;
}

#backstageToolbar {
	position: relative;
}

#backstageArea a {
	padding: 0px;
	margin-left: 0px;
	color: white;
	background: none;
}

#backstageArea a:hover {
	background-color: white;
}

#backstage ol,
#backstage ul {
	padding: auto;
}

#backstageButton a {
	margin: 0;
}

.backstagePanelBody ul {
	padding: 5px;
	margin: 5px;
}

#backstage #backstagePanel {
	margin-left: 5%;
	padding: 0em;
	margin-right: 5%;
}

#backstageToolbar a {
	position: relative;
}

#backstageArea a.backstageSelTab,
#backstageToolbar .backstageTask {
	line-height: 25px;
	color: #767676;
}

.backstageTask .externalImage,
.backstageTask .image {
	display: inline;
}

#backstageToolbar a span {
	z-index: 2;
}

a.backstageTask {
	display: inline;
        margin-left: 1em !important;
}

.backstagePanelBody .button {
	display: inline-block;
	margin-right: 10px;
}

.backstagePanelBody {
	margin: 0 0 0 0.6em;
	padding: 0.4em 0.5em 1px 0.5em;
}

#backstage table {
	margin: auto;
}

#backstage .wizard table {
	border: 0px;
	margin: 0;
}

#backstage div  li.listLink {
	border: 0px;
	width: 78%;
	font-size: 0.7em;
}

#backstage div li.listTitle {
	font-weight: bold;
	text-decoration: underline;
	font-size: 1em;
	background: #ccc;
	width: 100%;
}

#backstage fieldset {
	border: solid 1px [[ColorPalette::Background]];
}

#backstage .viewer table,#backstage table.twtable {
	border: 0px;
}

#backstageToolbar img {
	padding: 0;
}

#backstage .wizard,
#backstage .wizardFooter {
	background: none;
}

.viewer td, .viewer tr, .twtable td, .twtable tr {
	border: 1px solid #eee;
}

#backstage .inlineList ul li {
	background-color: [[ColorPalette::Background]];
	border: solid 1px [[ColorPalette::TertiaryMid]];
	display: block;
	float: left;
	list-style: none;
	margin-right: 1em;
	padding: 0.5em;
}

.backstageClear, .inlineList form {
	clear: both;
	display: block;
	margin-top: 3em;
}

.tiddlyspaceMenu {
	text-align: center;
}

span.chunkyButton {
	display: inline-block;
	padding: 0;
	margin: 0;
	border: solid 2px #000;
	background-color: #04b;
}

span.chunkyButton a.button, span.chunkyButton a:active.button {
	white-space: nowrap;
	font-weight: bold;
	font-size: 1.8em;
	color: #fff;
	text-align: center;
	padding: 0.5em 0.5em;
	margin: 0;
	border-style: none;
	display: block;
}

span.chunkyButton:hover {
	background-color: #014;
}

span.chunkyButton a.button:hover {
	border-style: none;
	background: none;
	color: #fff;
}

#backstage .unpluggedSpaceTab .wizard,
.unpluggedSpaceTab .wizard {
	background: white;
	border: 2px solid #CCC;
	padding: 5px;
}

.syncKey .keyItem {
	border: 1px solid black;
	display: inline-block;
	margin: 0.2em;
	padding: 0.1em 0.1em 0.1em 0.1em;
}

.keyHeading {
	font-size: 2em;
	font-weight: bold;
	margin: 0.4em 0em -0.2em;
}

.unpluggedSpaceTab .putToServer,
.unpluggedSpaceTab .notChanged {
	display: none;
}

.tiddlyspaceMenu ul {
	margin: 0;
	padding: 0;
}

.tiddlyspaceMenu ul li {
	list-style: none;
}

.unsyncedChanges .unsyncedList {
	display: block;
}

.unsyncedList {
	display: none;
}
!Code
***/
//{{{
(function ($) {
    var name = "StyleSheet" + tiddler.title;
    config.shadowTiddlers[name] = "/*{{{*/\n%0\n/*}}}*/".
        format(store.getTiddlerText(tiddler.title + "##StyleSheet")); // this accesses the StyleSheet section of the current tiddler (the plugin that contains it)
    store.addNotification(name, refreshStyles);

    if (!config.extensions.tiddlyweb.status.tiddlyspace_version) { // unplugged
        config.extensions.tiddlyweb.status.tiddlyspace_version = "&lt;unknown&gt;";
        config.extensions.tiddlyweb.status.server_host = {
            url:config.extensions.tiddlyweb.host }; // TiddlySpaceLinkPlugin expects this
    }
    var disabled_tasks_for_nonmembers = ["tiddlers", "plugins", "batch", "sync"];

    var tweb = config.extensions.tiddlyweb;
    var tiddlyspace = config.extensions.tiddlyspace;
    var currentSpace = tiddlyspace.currentSpace.name;
    var imageMacro = config.macros.image;

    if (config.options.chkBackstage === undefined) {
        config.options.chkBackstage = false;
    }

// Set up Backstage
    config.tasks = {};
    config.tasks.status = {
        text:"status",
        tooltip:"TiddlySpace Info",
        content:"&lt;&lt;tiddler Backstage##Menu&gt;&gt;"
    };
    config.tasks.tiddlers = {
        text:"tiddlers",
        tooltip:"tiddlers control panel",
        content:"&lt;&lt;tiddler Backstage##BackstageTiddlers&gt;&gt;"
    };
    config.tasks.plugins = {
        text:"plugins",
        tooltip:"Manage installed plugins",
        content:"&lt;&lt;tiddler Backstage##Plugins&gt;&gt;"
    };
    config.tasks.batch = {
        text:"batch",
        tooltip:"Batch manage public/private tiddlers",
        content:"&lt;&lt;tiddler Backstage##BatchOps&gt;&gt;"
    };
    config.tasks.tweaks = {
        text:"tweaks",
        tooltip:"Tweak TiddlyWiki behaviors",
        content:"&lt;&lt;tiddler Backstage##Tweaks&gt;&gt;"
    };
    config.tasks.exportTiddlers = {
        text:"import/export",
        tooltip:"Import/export tiddlers from/to a TiddlyWiki",
        content:"&lt;&lt;tiddler Backstage##ImportExport&gt;&gt;"
    };
    config.tasks.sync = {
        text:"sync",
        tooltip:"Check Sync status",
        content:"&lt;&lt;tiddler Backstage##SpaceUnplugged&gt;&gt;"
    };

    if (window.location.protocol === "file:") {
        config.unplugged = true;
    }

    config.backstageTasks = ["status", "tiddlers", "plugins",
        "batch", "tweaks", "exportTiddlers", "sync"];

    config.messages.backstage.prompt = "";
// initialize state
    var _show = backstage.show;
    backstage.show = function () {
        // selectively hide backstage tasks and tabs based on user status
        var tasks = $("#backstageToolbar .backstageTask").show();
        var bs = backstage.tiddlyspace;
        if (!config.unplugged) {
            tweb.getUserInfo(function (user) {
                if (user.anon) {
                    jQuery.each(disabled_tasks_for_nonmembers, function (i, task) {
                        var taskIndex = config.backstageTasks.indexOf(task);
                        if (taskIndex !== -1) {
                            config.backstageTasks.splice(taskIndex, 1);
                        }
                    });
                    config.messages.memberStatus = bs.locale.loggedout;
                } else {
                    config.messages.memberStatus = readOnly ?
                        bs.locale.nonmember : bs.locale.member;
                }
            });
        } else {
            config.messages.memberStatus = bs.locale.unplugged;
        }

        // display backstage
        return _show.apply(this, arguments);
    };
    if (readOnly) {
        jQuery.each(disabled_tasks_for_nonmembers, function (i, task) {
            var taskIndex = config.backstageTasks.indexOf(task);
            if (taskIndex !== -1) {
                config.backstageTasks.splice(taskIndex, 1);
            }
        });
    }

    var tasks = config.tasks;
    var commonUrl = "/bags/common/tiddlers/%0";

    backstage.tiddlyspace = {
        locale:{
            member:"You are a member of this space.",
            nonmember:"You are not a member of this space.",
            loggedout:"You are currently logged out of TiddlySpace.",
            unplugged:"You are unplugged."
        },
        showButton:function () {
            var showBtn = $("#backstageShow")[0];
            var altText = $(showBtn).text();
            $(showBtn).empty();
            imageMacro.renderImage(showBtn, "backstage.svg",
                { altImage:commonUrl.format("backstage.png"), alt:altText});
        },
        hideButton:function () {
            var hideBtn = $("#backstageHide")[0];
            var altText = $(hideBtn).text();
            $(hideBtn).empty();
            imageMacro.renderImage(hideBtn, "close.svg",
                { altImage:commonUrl.format("close.png"), alt:altText, width:24, height:24 });
        }
    };

    var _init = backstage.init;
    backstage.init = function () {
        _init.apply(this, arguments);
        var init = function (user) {
            var bs = backstage.tiddlyspace;
            bs.showButton();
            bs.hideButton();
        };
        tweb.getUserInfo(init);
    };

    var home = config.macros.homeLink = {
        locale:{
            linkText:"your home space"
        },
        handler:function (place) {
            var container = $("&lt;span /&gt;").appendTo(place)[0];
            tweb.getUserInfo(function (user) {
                if (!user.anon &amp;&amp; user.name !== currentSpace) {
                    createSpaceLink(container, user.name, null, home.locale.linkText);
                }
            });
        }
    };

    config.macros.exportSpace = {
        handler:function (place, macroName, params) {
            var filename = params[0] ||
                "/tiddlers.wiki?download=%0.html".format(currentSpace);
            $('&lt;a class="button"&gt;download&lt;/a&gt;').// XXX: i18n
                attr("href", filename).appendTo(place);
        }
    };

}(jQuery));
//}}}</pre>
</div>
<div title="RevisionsCommandPlugin" server.title="RevisionsCommandPlugin" server.page.revision="1521856" server.etag="&quot;system/RevisionsCommandPlugin/1521856:eac742ba40fd7786eb333bbac9cdf9dec9104788&quot;" modifier="FND" creator="FND" server.workspace="bags/system" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system" server.permissions="read" server.content-type="text/javascript" modified="20130924180405" created="20130924180405" tags="excludeLists excludeSearch systemConfig" _hash="d36d2c8a7f8dd9a59dd54e772114a415b2c22979">
<pre>/***
|''Name''|RevisionsCommandPlugin|
|''Description''|provides access to tiddler revisions|
|''Author''|FND|
|''Contributors''|Martin Budden|
|''Version''|0.3.3|
|''Status''|@@beta@@|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/plugins/RevisionsCommandPlugin.js|
|''CodeRepository''|http://svn.tiddlywiki.org/Trunk/association/plugins/|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.6.0|
|''Keywords''|serverSide|
!Usage
Extend [[ToolbarCommands]] with {{{revisions}}}.
!Revision History
!!v0.1 (2009-07-23)
* initial release (renamed from experimental ServerCommandsPlugin)
!!v0.2 (2010-03-04)
* suppressed wikification in diff view
!!v0.3 (2010-04-07)
* restored wikification in diff view
* added link to side-by-side diff view
!To Do
* strip server.* fields from revision tiddlers
* resolve naming conflicts
* i18n, l10n
* code sanitizing
* documentation
!Code
***/
//{{{
(function($) {

jQuery.twStylesheet(".diff { white-space: pre, font-family: monospace }",
	{ id: "diff" });

var cmd = config.commands.revisions = {
	type: "popup",
	hideShadow: true,
	text: "revisions",
	tooltip: "display tiddler revisions",
	revTooltip: "", // TODO: populate dynamically?
	loadLabel: "loading...",
	loadTooltip: "loading revision list",
	selectLabel: "select",
	selectTooltip: "select revision for comparison",
	selectedLabel: "selected",
	compareLabel: "compare",
	linkLabel: "side-by-side view",
	revSuffix: " [rev. #%0]",
	diffSuffix: " [diff: #%0 #%1]",
	dateFormat: "YYYY-0MM-0DD 0hh:0mm",
	listError: "revisions could not be retrieved",

	handlePopup: function(popup, title) {
		title = this.stripSuffix("rev", title);
		title = this.stripSuffix("diff", title);
		var tiddler = store.getTiddler(title);
		var type = _getField("server.type", tiddler);
		var adaptor = new config.adaptors[type]();
		var limit = null; // TODO: customizable
		var context = {
			host: _getField("server.host", tiddler),
			workspace: _getField("server.workspace", tiddler)
		};
		var loading = createTiddlyButton(popup, cmd.loadLabel, cmd.loadTooltip);
		var params = { popup: popup, loading: loading, origin: title };
		adaptor.getTiddlerRevisionList(title, limit, context, params, this.displayRevisions);
	},

	displayRevisions: function(context, userParams) {
		removeNode(userParams.loading);
		if(context.status) {
			var callback = function(ev) {
				var e = ev || window.event;
				var revision = resolveTarget(e).getAttribute("revision");
				context.adaptor.getTiddlerRevision(tiddler.title, revision, context,
					userParams, cmd.displayTiddlerRevision);
			};
			var table = createTiddlyElement(userParams.popup, "table");
			for(var i = 0; i &lt; context.revisions.length; i++) {
				var tiddler = context.revisions[i];
				var row = createTiddlyElement(table, "tr");
				var timestamp = tiddler.modified.formatString(cmd.dateFormat);
				var revision = tiddler.fields["server.page.revision"];
				var cell = createTiddlyElement(row, "td");
				createTiddlyButton(cell, timestamp, cmd.revTooltip, callback, null,
					null, null, { revision: revision });
				cell = createTiddlyElement(row, "td", null, null, tiddler.modifier);
				cell = createTiddlyElement(row, "td");
				createTiddlyButton(cell, cmd.selectLabel, cmd.selectTooltip,
					cmd.revisionSelected, null, null, null,
					{ index:i, revision: revision, col: 2 });
				cmd.context = context; // XXX: unsafe (singleton)!?
			}
		} else {
			$("&lt;li /&gt;").text(cmd.listError).appendTo(userParams.popup);
		}
	},

	revisionSelected: function(ev) {
		var e = ev || window.event;
		e.cancelBubble = true;
		if(e.stopPropagation) {
			e.stopPropagation();
		}
		var n = resolveTarget(e);
		var index = n.getAttribute("index");
		var col = n.getAttribute("col");
		while(!index || !col) {
			n = n.parentNode;
			index = n.getAttribute("index");
			col = n.getAttribute("col");
		}
		cmd.revision = n.getAttribute("revision");
		var table = n.parentNode.parentNode.parentNode;
		var rows = table.childNodes;
		for(var i = 0; i &lt; rows.length; i++) {
			var c = rows[i].childNodes[col].firstChild;
			if(i == index) {
				if(c.textContent) {
					c.textContent = cmd.selectedLabel;
				} else {
					c.text = cmd.selectedLabel;
				}
			} else {
				if(c.textContent) {
					c.textContent = cmd.compareLabel;
				} else {
					c.text = cmd.compareLabel;
				}
				c.onclick = cmd.compareSelected;
			}
		}
	},

	compareSelected: function(ev) {
		var e = ev || window.event;
		var n = resolveTarget(e);
		var context = cmd.context;
		context.rev1 = n.getAttribute("revision");
		context.rev2 = cmd.revision;
		context.tiddler = context.revisions[n.getAttribute("index")];
		context.format = "unified";
		context.adaptor.getTiddlerDiff(context.tiddler.title, context,
			context.userParams, cmd.displayTiddlerDiffs);
	},

	displayTiddlerDiffs: function(context, userParams) {
		var tiddler = context.tiddler;
		tiddler.title += cmd.diffSuffix.format([context.rev1, context.rev2]);
		tiddler.text = "{{diff{\n" + context.diff + "\n}}}";
		tiddler.tags = ["diff"];
		tiddler.fields.doNotSave = "true"; // XXX: correct?
		if(!store.getTiddler(tiddler.title)) {
			store.addTiddler(tiddler);
		}
		var src = story.getTiddler(userParams.origin);
		var tiddlerEl = story.displayTiddler(src, tiddler);
		var uri = context.uri.replace("format=unified", "format=horizontal");
		var link = $('&lt;a target="_blank" /&gt;').attr("href", uri).text(cmd.linkLabel);
		$(".viewer", tiddlerEl).prepend(link);
	},

	displayTiddlerRevision: function(context, userParams) {
		var tiddler = context.tiddler;
		tiddler.title += cmd.revSuffix.format([tiddler.fields["server.page.revision"]]);
		tiddler.fields.doNotSave = "true"; // XXX: correct?
		if(!store.getTiddler(tiddler.title)) {
			store.addTiddler(tiddler);
		}
		var src = story.getTiddler(userParams.origin);
		story.displayTiddler(src, tiddler);
	},

	stripSuffix: function(type, title) {
		var str = cmd[type + "Suffix"];
		var i = str.indexOf("%0");
		i = title.indexOf(str.substr(0, i));
		if(i != -1) {
			title = title.substr(0, i);
		}
		return title;
	}
};

var _getField = function(name, tiddler) {
	return tiddler.fields[name] || config.defaultCustomFields[name];
};

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceSanitizer" server.title="TiddlySpaceSanitizer" server.page.revision="1521866" server.etag="&quot;system-plugins_public/TiddlySpaceSanitizer/1521866:c5aad3547274f4527e0f36a174ab98444761d1f3&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch systemConfig" _hash="4e7490026802a699cc23155cd88b09a2cce3fb87">
<pre>/***
|''Description''|Sanitisation for dynamically pulling tiddlers into your space and displaying them|
!Notes
Works both inside and outside TiddlyWiki. Uses the HTML Sanitizer provided by the Google Caja project
(see http://code.google.com/p/google-caja/wiki/JsHtmlSanitizer for more on this), which is licensed under
an Apache License (see http://www.apache.org/licenses/LICENSE-2.0).
!Code
***/
//{{{
(function($) {

var cleanURL = function(url) {
	var regexp = /^(?:http|https|mailto|ftp|irc|news):\/\//;
	return (regexp.test(url)) ? url : null;
};

$.sanitize = function(html) {
	return html_sanitize(html, cleanURL);
};

/*
 * HTML Sanitizer, provided by Google Caja
 */

/* Copyright Google Inc.
 * Licensed under the Apache Licence Version 2.0
 * Autogenerated at Tue May 17 17:39:24 BST 2011
 * @provides html4
 */var html4={};html4.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10},html4.ATTRIBS={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0},html4.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128},html4.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,nobr:0,noframes:20,noscript:20,object:16,ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:84,select:0,small:0,span:0,strike:0,strong:0,style:148,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},html4.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},html4.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"body::background":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0},html4.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},html4.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"body::background":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2};var html=function(a){function x(b,c,d){var e=[];w(function(b,e){for(var f=0;f&lt;e.length;f+=2){var g=e[f],h=e[f+1],i=null,j;if((j=b+"::"+g,a.ATTRIBS.hasOwnProperty(j))||(j="*::"+g,a.ATTRIBS.hasOwnProperty(j)))i=a.ATTRIBS[j];if(i!==null)switch(i){case a.atype.NONE:break;case a.atype.SCRIPT:case a.atype.STYLE:h=null;break;case a.atype.ID:case a.atype.IDREF:case a.atype.IDREFS:case a.atype.GLOBAL_NAME:case a.atype.LOCAL_NAME:case a.atype.CLASSES:h=d?d(h):h;break;case a.atype.URI:h=c&amp;&amp;c(h);break;case a.atype.URI_FRAGMENT:h&amp;&amp;"#"===h.charAt(0)?(h=d?d(h):h,h&amp;&amp;(h="#"+h)):h=null;break;default:h=null}else h=null;e[f+1]=h}return e})(b,e);return e.join("")}function w(b){var c,d;return v({startDoc:function(a){c=[],d=!1},startTag:function(e,f,g){if(!d){if(!a.ELEMENTS.hasOwnProperty(e))return;var h=a.ELEMENTS[e];if(h&amp;a.eflags.FOLDABLE)return;if(h&amp;a.eflags.UNSAFE){d=!(h&amp;a.eflags.EMPTY);return}f=b(e,f);if(f){h&amp;a.eflags.EMPTY||c.push(e),g.push("&lt;",e);for(var i=0,j=f.length;i&lt;j;i+=2){var k=f[i],l=f[i+1];l!==null&amp;&amp;l!==void 0&amp;&amp;g.push(" ",k,'="',r(l),'"')}g.push("&gt;")}}},endTag:function(b,e){if(d)d=!1;else{if(!a.ELEMENTS.hasOwnProperty(b))return;var f=a.ELEMENTS[b];if(!(f&amp;(a.eflags.UNSAFE|a.eflags.EMPTY|a.eflags.FOLDABLE))){var g;if(f&amp;a.eflags.OPTIONAL_ENDTAG)for(g=c.length;--g&gt;=0;){var h=c[g];if(h===b)break;if(!(a.ELEMENTS[h]&amp;a.eflags.OPTIONAL_ENDTAG))return}else for(g=c.length;--g&gt;=0;)if(c[g]===b)break;if(g&lt;0)return;for(var i=c.length;--i&gt;g;){var h=c[i];a.ELEMENTS[h]&amp;a.eflags.OPTIONAL_ENDTAG||e.push("&lt;/",h,"&gt;")}c.length=g,e.push("&lt;/",b,"&gt;")}}},pcdata:function(a,b){d||b.push(a)},rcdata:function(a,b){d||b.push(a)},cdata:function(a,b){d||b.push(a)},endDoc:function(a){for(var b=c.length;--b&gt;=0;)a.push("&lt;/",c[b],"&gt;");c.length=0}})}function v(c){return function(d,e){d=String(d);var f=null,g=!1,h=[],j=void 0,l=void 0,m=void 0;c.startDoc&amp;&amp;c.startDoc(e);while(d){var n=d.match(g?t:u);d=d.substring(n[0].length);if(g){if(n[1]){var o=b(n[1]),p;if(n[2]){var q=n[3];switch(q.charCodeAt(0)){case 34:case 39:q=q.substring(1,q.length-1)}p=k(i(q))}else p=o;h.push(o,p)}else if(n[4]){l!==void 0&amp;&amp;(m?c.startTag&amp;&amp;c.startTag(j,h,e):c.endTag&amp;&amp;c.endTag(j,e));if(m&amp;&amp;l&amp;(a.eflags.CDATA|a.eflags.RCDATA)){f===null?f=b(d):f=f.substring(f.length-d.length);var r=f.indexOf("&lt;/"+j);r&lt;0&amp;&amp;(r=d.length),l&amp;a.eflags.CDATA?c.cdata&amp;&amp;c.cdata(d.substring(0,r),e):c.rcdata&amp;&amp;c.rcdata(s(d.substring(0,r)),e),d=d.substring(r)}j=l=m=void 0,h.length=0,g=!1}}else if(n[1])c.pcdata&amp;&amp;c.pcdata(n[0],e);else if(n[3])m=!n[2],g=!0,j=b(n[3]),l=a.ELEMENTS.hasOwnProperty(j)?a.ELEMENTS[j]:void 0;else if(n[4])c.pcdata&amp;&amp;c.pcdata(n[4],e);else if(n[5]&amp;&amp;c.pcdata)switch(n[5]){case"&lt;":c.pcdata("&amp;lt;",e);break;case"&gt;":c.pcdata("&amp;gt;",e);break;default:c.pcdata("&amp;amp;",e)}}c.endDoc&amp;&amp;c.endDoc(e)}}function s(a){return a.replace(m,"&amp;amp;$1").replace(n,"&amp;lt;").replace(o,"&amp;gt;")}function r(a){return a.replace(l,"&amp;amp;").replace(n,"&amp;lt;").replace(o,"&amp;gt;").replace(p,"&amp;#34;").replace(q,"&amp;#61;")}function k(a){return a.replace(j,g)}function i(a){return a.replace(h,"")}function g(a,b){return f(b)}function f(a){a=b(a);if(c.hasOwnProperty(a))return c[a];var f=a.match(d);if(f)return String.fromCharCode(parseInt(f[1],10));if(!!(f=a.match(e)))return String.fromCharCode(parseInt(f[1],16));return""}var b;"script"==="SCRIPT".toLowerCase()?b=function(a){return a.toLowerCase()}:b=function(a){return a.replace(/[A-Z]/g,function(a){return String.fromCharCode(a.charCodeAt(0)|32)})};var c={lt:"&lt;",gt:"&gt;",amp:"&amp;",nbsp:"240",quot:'"',apos:"'"},d=/^#(\d+)$/,e=/^#x([0-9A-Fa-f]+)$/,h=/\0/g,j=/&amp;(#\d+|#x[0-9A-Fa-f]+|\w+);/g,l=/&amp;/g,m=/&amp;([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,n=/&lt;/g,o=/&gt;/g,p=/\"/g,q=/\=/g,t=new RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^&gt;\"'\\s]*))?)|(/?&gt;)|[\\s\\S][^a-z\\s&gt;]*)","i"),u=new RegExp("^(?:&amp;(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|&lt;!--[\\s\\S]*?--&gt;|&lt;!\\w[^&gt;]*&gt;|&lt;\\?[^&gt;*]*&gt;|&lt;(/)?([a-z][a-z0-9]*)|([^&lt;&amp;&gt;]+)|([&lt;&amp;&gt;]))","i");return{escapeAttrib:r,makeHtmlSanitizer:w,makeSaxParser:v,normalizeRCData:s,sanitize:x,unescapeEntities:k}}(html4),html_sanitize=html.sanitize

// stop here if we're not in TiddlyWiki
// XXX: is this the correct way of checking for TiddlyWiki?
if (!window.TiddlyWiki || !window.store || !store instanceof TiddlyWiki) {
	return;
}

var tiddlyspace = config.extensions.tiddlyspace;

var _subWikify = Wikifier.prototype.subWikify;

var cleanedTitle = 'This section has been cleaned of any potentially harmful code';

var replaceFunctions = {
	html: function(w) {
		var sanitizedHTML, spanEl;
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			sanitizedHTML = $.sanitize(lookaheadMatch[1]);
			spanEl = createTiddlyElement(w.output, 'span', null, 'sanitized');
			spanEl.innerHTML = sanitizedHTML;
			spanEl.setAttribute('title', cleanedTitle);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	},
	customFormat: function(w) {
		switch(w.matchText) {
			case '@@':
				var e = createTiddlyElement(w.output, 'span');
				var styles = config.formatterHelpers.inlineCssHelper(w);
				if (styles.length === 0) {
					e.className = 'marked';
				}
				w.subWikifyTerm(e, /(@@)/mg);
				break;
			case '{{':
				var lookaheadRegExp = /\{\{[\s]*([\w]+[\s\w]*)[\s]*\{(\n?)/mg;
				lookaheadRegExp.lastIndex = w.matchStart;
				var lookaheadMatch = lookaheadRegExp.exec(w.source);
				if(lookaheadMatch) {
					w.nextMatch = lookaheadRegExp.lastIndex;
					e = createTiddlyElement(w.output,lookaheadMatch[2] == "\n" ? "div" : "span",null,lookaheadMatch[1]);
					w.subWikifyTerm(e,/(\}\}\})/mg);
				}
				break;
		}
	}
};

Wikifier.prototype.subWikify = function(output, terminator) {
	var tid = this.tiddler,
		spaceName = tiddlyspace.currentSpace.name,
		tidSpace, recipeName, stripped;
	try {
		recipeName = tid.fields['server.recipe'] ||
			tid.fields['server.workspace'];
		tidSpace = tiddlyspace.resolveSpaceName(recipeName);
		if (tidSpace !== spaceName) {
			// external tiddler, so replace dangerous formatters
			stripped = stripHTML(tid, this.formatter);
		}
	} catch(e) {
		// do nothing. There's no tiddler, so assume it's safe (?!?!?)
	}

	_subWikify.apply(this, arguments);

	if (stripped) {
		// change back to the original function
		unstripHTML(stripped, this.formatter);
	}
};

// replace potentially unsafe formatters with versions that strip bad HTML/CSS
var stripHTML = function(tid, formatter) {
	var popped = {}, _handler;
	for (var i = 0; i &lt; formatter.formatters.length; i++) {
		var f = formatter.formatters[i];
		if (replaceFunctions[f.name]) {
			_handler = f.handler;
			popped[f.name] = _handler;
			f.handler = replaceFunctions[f.name];
		}
	};

	return popped;
};

// put the original formatters back where they belong
var unstripHTML = function(stripped, formatter) {
	for (var i = 0; i &lt; formatter.formatters.length; i++) {
		var f = formatter.formatters[i];
		if (stripped[f.name]) {
			f.handler = stripped[f.name];
		}
	};
};

})(jQuery);
//}}}</pre>
</div>
<div title="missingIcon" server.title="missingIcon" server.page.revision="1521928" server.etag="&quot;system-images_public/missingIcon/1521928:1fa3a21c22de11a87b55b9b0590b8d6b2e8eeda9&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-images_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-images_public" server.permissions="read" server.content-type="image/png" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch" _hash="6d8a31e0f98c2550de88c48110ecdceccb686a1e">
<pre>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</pre>
</div>
<div title="MarkupPreHead" server.title="MarkupPreHead" server.page.revision="2587350" server.etag="&quot;zhucebuliaogyx_public/MarkupPreHead/2587350:9978946b403cb5519bc4b700af5dd1b0b3b0f897&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161125072624" created="20160907122403" tags="excludeLists" _hash="095974cdc63a9e85ed5e8e4ee749e5c27367300e">
<pre>&lt;!--{{{--&gt;
&lt;link href="/bags/zhucebuliaogyx_public/tiddlers.atom" rel="alternate"
	type="application/atom+xml" title="zhucebuliaogyx's public feed" /&gt;
&lt;link rel="canonical" href="http://zhucebuliaogyx.tiddlyspace.com/" /&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="第六次作业" server.title="第六次作业" server.page.revision="2587365" server.etag="&quot;zhucebuliaogyx_public/%E7%AC%AC%E5%85%AD%E6%AC%A1%E4%BD%9C%E4%B8%9A/2587365:2e9a46f78f5f6543f6993d24550230b2d3f939dd&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161125073309" created="20161124012351" tags="14信管作业" _hash="7d907e3620f4f1c256856fd339a0e7e1cd2d1b85">
<pre>比较“百度知道”和“知乎”作为信息源的差异，并以网络信息评价指标作为标准。


1、百度知道建立在百度搜索引擎之上；知乎建立在搜狗搜索引擎之上。

2、知乎是一个实名制的网络问答社区，而百度知道则不是。而且知乎的用户基数虽然不如百度知道的用户基数大，但是知乎用户中存在有的各行各业的精英多于百度知道的，他们能够对问题做出更理性、精准的分析。

3、在知乎中提问时，能够通过邀请大V得到高质量的回答和更多人的关注与点赞。百度知道中，由于不能直接邀请大V作答，因此高质量的回答与互动不如知乎中的多。因此百度知道中做出的回答可信度较低。知乎中答案的可信度、实用程度对比百度知道都有所提升。
百度知道中很少见到问答双方进行深度探讨，问与答的关系简单直接，往往回答者只给出问题的结论，双方通过提问、回答问题来获取经验值，得到身份等级上升的机会。而知乎问答具有延展性，知乎中的回答更具有条理，提问者能够通过与回答者的互动过程，或者是在回答者给出的长篇回答中，得到更多的启发和思考，而知乎中的用户需要用高质量的回答内容得到他人的认同，获取关注。

4、总结：
A、发布者的权威和可靠性：知乎以实名制的方式保障了其用户回答问题时的真实性，对比百度知道，知乎上的回答更具权威性和可靠性。
B、信息质量：知乎中的内容很少有复制粘贴的情况，提问过程中问答双方能够进行互动，并且回答的问题由浏览者的点赞数确定排布顺序，对比百度知道中提问者采纳回答，双方不进行沟通讨论，问答关系简单的情况，知乎中的信息质量要高于百度。
C、信息资源的内容覆盖面：两者多采用用户提问，他人回答的模式，同时伴有大V开设专栏传播信息的方式。因而这点双方相类似。
D、检索途径：知乎通过知乎网页、app端的搜索途径或者是搜狗引擎段进行搜索，百度知道则通过百度搜索引擎进行搜索。由于百度搜索引擎市场占有率更高，因此通过百度知道检索到的信息更多。


分析与总结：通过本次实验，我更加清楚百度知道和知乎之间的区别，今后在搜索不同问题的答案时，能够有选择性的进行搜索，而不是盲目的只是在一个搜索界面进行搜索。
 
</pre>
</div>
<div title="privateAndPublicIcon" server.title="privateAndPublicIcon" server.page.revision="1521887" server.etag="&quot;tiddlyspace/privateAndPublicIcon/1521887:032336220f472d3dbdc5552d02633c5d916c0632&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="image/png" modified="20131111192334" created="20131111192334" tags="excludeLists excludeSearch" _cache-max-age="43200" _hash="5ae36775b0926a779ae5f5ec4f20d07cd3609b39">
<pre>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</pre>
</div>
<div title="BinaryTiddlersPlugin" server.title="BinaryTiddlersPlugin" server.page.revision="1521855" server.etag="&quot;system/BinaryTiddlersPlugin/1521855:9b6b21b0ce46851db1d1d9cb0178cf4524f9b31e&quot;" modifier="FND" creator="FND" server.workspace="bags/system" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system" server.permissions="read" server.content-type="text/javascript" modified="20130924180405" created="20130924180405" tags="excludeLists excludeSearch systemConfig" _hash="bb40914e9b2e79bd868d4c824ef8e42e617f4309">
<pre>/***
|''Name''|BinaryTiddlersPlugin|
|''Description''|renders base64-encoded binary tiddlers as images or links|
|''Author''|FND|
|''Version''|0.3.2|
|''Status''|@@beta@@|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/plugins/BinaryTiddlersPlugin.js|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.5|
!Code
***/
//{{{
(function($) {

"use strict";

var ctfield = "server.content-type";

var plugin = config.extensions.BinaryTiddlersPlugin = {
	isWikiText: function(tiddler) {
		var ctype = tiddler.fields[ctfield];
		if(ctype) {
			if (ctype === 'text/x-tiddlywiki') {
				return true;
			}
			return !this.isBinary(tiddler) &amp;&amp; !this.isTextual(ctype);
		} else {
			return true;
		}
	},
	// NB: pseudo-binaries are considered non-binary here
	isBinary: function(tiddler) {
		var ctype = tiddler.fields[ctfield];
		return ctype ? !this.isTextual(ctype) : false;
	},
	isTextual: function(ctype) {
		return ctype.indexOf("text/") === 0
			|| this.endsWith(ctype, "+xml")
			|| ctype === 'application/json'
			|| ctype === 'application/javascript';
	},
	endsWith: function(str, suffix) {
		return str.length &gt;= suffix.length &amp;&amp;
			str.substr(str.length - suffix.length) === suffix;
	},
	isLink: function(tiddler) {
		return this.isBinary(tiddler) &amp;&amp; tiddler.text.indexOf("&lt;html&gt;") !== -1;
	}
};

// Disable edit for linked tiddlers (for now)
// This will be changed to a GET then PUT
config.commands.editTiddler.isEnabled = function(tiddler) {
    var existingTest = config.commands.editTiddler.isEnabled;
    if (existingTest) {
        return existingTest &amp;&amp; !plugin.isLink(tiddler);
    } else {
        return !plugin.isLink(tiddler);
    }
};

// hijack text viewer to add special handling for binary tiddlers
var _view = config.macros.view.views.wikified;
config.macros.view.views.wikified = function(value, place, params, wikifier,
		paramString, tiddler) {
	var ctype = tiddler.fields["server.content-type"];
	if(params[0] === "text" &amp;&amp; ctype &amp;&amp; ctype !== 'text/x-tiddlywiki' &amp;&amp;
			!tiddler.tags.contains("systemConfig") &amp;&amp; !plugin.isLink(tiddler)) {
		var el;
		if(plugin.isBinary(tiddler)) {
			var uri = "data:%0;base64,%1".format([ctype, tiddler.text]); // TODO: fallback for legacy browsers
			if(ctype.indexOf("image/") === 0) {
				el = $("&lt;img /&gt;").attr("alt", tiddler.title).attr("src", uri);
			} else {
				el = $("&lt;a /&gt;").attr("href", uri).text(tiddler.title);
			}
		} else {
			el = $("&lt;pre /&gt;").text(tiddler.text);
		}
		el.appendTo(place);
	} else {
		_view.apply(this, arguments);
	}
};

// hijack edit macro to disable editing of binary tiddlers' body
var _editHandler = config.macros.edit.handler;
config.macros.edit.handler = function(place, macroName, params, wikifier,
		paramString, tiddler) {
	if(params[0] === "text" &amp;&amp; plugin.isBinary(tiddler)) {
		return false;
	} else {
		_editHandler.apply(this, arguments);
	}
};

// hijack autoLinkWikiWords to ignore binary tiddlers
var _autoLink = Tiddler.prototype.autoLinkWikiWords;
Tiddler.prototype.autoLinkWikiWords = function() {
	return plugin.isWikiText(this) ? _autoLink.apply(this, arguments) : false;
};

}(jQuery));
//}}}</pre>
</div>
<div title="ImageMacroPlugin" server.title="ImageMacroPlugin" server.page.revision="1521897" server.etag="&quot;tiddlyspace/ImageMacroPlugin/1521897:54a5cf8c5bec4e882ab0761cde615145e7c58a08&quot;" modifier="jon" creator="jon" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/javascript" modified="20131111192334" created="20131111192334" tags="excludeLists excludeSearch systemConfig" _hash="3f1696962a1dff3028ea1a4307d8b95c3b3ceb65">
<pre>/***
|''Name''|ImageMacroPlugin|
|''Version''|0.9.4|
|''Description''|Allows the rendering of svg images in a TiddlyWiki|
|''Author''|Osmosoft|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''Notes''|Currently only works in modern browsers (not IE)|
|''Requires''|BinaryTiddlersPlugin|
!Usage
{{{&lt;&lt;image SVG&gt;&gt;}}} will render the text of the tiddler with title SVG as an SVG image (but not in ie where it will fail silently)
!!Parameters
width/height: specify width/height parameters
link: make the image link to a given location
tiddlyLink: link to a tiddler

!Notes
Binary tiddlers in TiddlyWeb when passed through the wikifier will be shown as images.
eg. {{{&lt;&lt;view text wikified&gt;&gt;}}} on a binary tiddler will show the image.
{{{&lt;&lt;view fieldname image&gt;&gt;}}}
will render the value of the tiddler field 'fieldname' as an image. This field can contain a tid
{{{&lt;&lt;image SiteIcon&gt;&gt;}}}
will create an image tag where the tiddler has content type beginning image and not ending +xml
will attempt to create svg object in other scenarios
{{{&lt;&lt;image /photos/x.jpg&gt;&gt;}}}
will create an image tag with src /photos/x.jpg as long as there is not a tiddler called /photos/x.jpg in 
which case it will render that tiddler as an image. Note for the case of svg files it will attempt to render as an svg if possible via the image
tag. It doesn't embed the svg in the dom for security reasons as svg code can contain javascript.
!Code
***/
//{{{
(function($) {

var macro = config.macros.image = {
	shim: "/bags/common/tiddlers/shim",
	ieVersion: config.browser.isIE ? parseInt(config.browser.ieVersion[1], 10) : false,
	svgns: "http://www.w3.org/2000/svg",
	xlinkns: "http://www.w3.org/1999/xlink", 
	svgAvailable: document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1"),
	_fixPrefix: 1,
	_external_cache: {},
	_image_tag_cache: {},
	_image_dimensions: {},
	locale: {
		badImage: "This image cannot be displayed."
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler){
		var imageSource = params[0];
		// collect named arguments
		var args = macro.getArguments(paramString, params);
		this.renderImage(place, imageSource, args);
	},
	init: function() {
		var startupImages = store.getTaggedTiddlers("systemImage");
		var place = $("&lt;div /&gt;").attr("id", "systemImageArea").appendTo("body").hide()[0];
		for(var i = 0; i &lt; startupImages.length; i++) {
			var image = startupImages[i];
			macro.renderImage(place, image.title, { idPrefix: "" });
		}
		var data = new Image();
		data.onload = function() {
			// note ie 8 only supports data uris up to 32k so cannot be relied on
			macro.supportsDataUris = this.width != 1 || this.height != 1 ? false : true;
			macro.supportsDataUris = macro.ieVersion &amp;&amp; macro.ieVersion &lt; 9 ? false : macro.supportsDataUris;
		};
		data.onerror = data.onload;
		data.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
	},
	refreshImage: function(src) {
		var elements = macro._image_tag_cache[src] ? macro._image_tag_cache[src] : [];
		if(macro._image_dimensions[src]) {
			macro._image_dimensions[src] = false;
		}
		for(var i = 0; i &lt; elements.length; i++) {
			var el = $(elements[i]);
			var newSrc = "%0?nocache=%1".format(src, Math.random());
			el.attr("src", newSrc); // force reload
		}
	},
	isBinaryImageType: function(contentType) {
		return (contentType &amp;&amp; contentType.indexOf("image") === 0 &amp;&amp;
			contentType.indexOf("+xml") != contentType.length - 4) ? true : false;
	},
	isImageTiddler: function(tiddler) {
		return macro.isSVGTiddler(tiddler) || macro.isBinaryImageTiddler(tiddler);
	},
	isSVGTiddler: function(tiddler) {
		var type = tiddler ? tiddler.fields['server.content-type'] : false;
		return type == "image/svg+xml";
	},
	isBinaryImageTiddler: function(tiddler) {
		return macro.isBinaryImageType(tiddler.fields['server.content-type']);
	},
	renderImage: function(place, imageSource, options) {
		var imageTiddler = store.getTiddler(imageSource);
		var container;
		var classes = ["image"];
		if(options.link) {
			classes = classes.concat(["imageLink", "externalLink"]);
			container = $("&lt;a /&gt;").attr("href", options.link).appendTo(place)[0];
		} else if(options.tiddlyLink) {
			classes.push("imageLink");
			container = createTiddlyLink(place, options.tiddlyLink, false);
		} else {
			container = $("&lt;span /&gt;").appendTo(place)[0];
		}
		$(container).addClass(classes.join(" "));

		options = options ? options : {};
		if(imageTiddler &amp;&amp; macro.isBinaryImageTiddler(imageTiddler)) { // handle the case where we have an image url
			return macro._renderBinaryImageTiddler(container, imageTiddler, options);
		} else if(imageTiddler){ // handle the case where we have a tiddler
			return macro._renderSVGTiddler(container, imageTiddler, options);
		} else { // we have a string representing a url
			return macro._renderBinaryImageUrl(container, imageSource, options);
		}
	},
	_renderAlternateText: function(container, options) {
		var img;
		var src = options.src || "";
		if(options.width &amp;&amp; options.height) {
			img = $("&lt;img /&gt;").attr("src", src).addClass("svgImageText").attr("width", options.width).
				attr("height", options.height).appendTo(container);
		}
		var alt = options.alt;
		if(img &amp;&amp; alt) {
			img.attr("alt", alt).attr("title", alt);
		} else if(alt) {
			$(container).addClass("svgImageText").text(alt);
		}
		macro._image_tag_cache[src] = img;
	},
	_renderSVGTiddler: function(place, tiddler, options) {
		if(!options) {
			options = {};
		}
		merge(options, { tiddler: tiddler, fix: true});

		if(macro.svgAvailable) {
			this._importSVG(place, options); // display the svg
		} else if(options.altImage) {
			var image = options.altImage;
			delete options.altImage;
			this._renderBinaryImageUrl(place, image, options);
		} else {
			this._renderAlternateText(place, options); // instead of showing the image show the alternate text.
		}
	},
	_renderBinaryImageTiddler: function(place, tiddler, options) {
		var resourceURI;
		var fields = tiddler.fields;
		if(fields["server.type"] == "tiddlyweb") { // construct an accurate url for the resource
			resourceURI = "%0/%1/tiddlers/%2".format(config.defaultCustomFields["server.host"],
				fields["server.workspace"], encodeURI(fields["server.title"]));
		} else { // guess the url for the resource
			resourceURI = tiddler.title;
		}
		var ctype = fields["server.content-type"] || tiddler.type;
		var text = tiddler.text;
		if(macro.supportsDataUris &amp;&amp; ctype &amp;&amp; text.indexOf("&lt;html") == -1) {
			var uri = "data:%0;base64,%1".format(ctype, text);
			options.src = resourceURI;
			return macro._renderBinaryImageUrl(place, uri, options);
		} else if(options.src) {
			return macro._renderBinaryImageUrl(place, options.src, options);
		} else {
			return macro._renderBinaryImageUrl(place, resourceURI, options);
		}
	},
	_renderImageTag: function(container, src, width, height, options) {
		var img;
		img = $("&lt;img /&gt;").appendTo(container);
		if(height) {
			img.attr("height", height);
		}
		if(width) {
			img.attr("width", width);
		}
		if(macro.ieVersion &amp;&amp; macro.ieVersion &lt; 7 &amp;&amp; macro.shim &amp;&amp; options.ie6png) {
			$(img).css({width: userW, height: userH,
					filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='%0', sizingMethod='scale')".format(src)
				}).attr("src", macro.shim);
		} else {
			img.attr("src", src);
		}
		if(!macro._image_tag_cache[options.srcUrl]) {
			macro._image_tag_cache[options.srcUrl] = [];
		}
		img = $(img).addClass(options.imageClass)[0];
		macro._image_tag_cache[options.srcUrl].push(img);
		return img;
	},
	_getDimensions: function(realDimensions, reqDimensions, preserve) {
		var w = realDimensions.width;
		var h = realDimensions.height;
		var reqh = reqDimensions.height;
		var reqw = reqDimensions.width;
		var finalw = w, finalh = h;
		var ratiow = reqw / w, ratioh = reqh / h;
		var scaledw = ratioh * w;
		var scaledh = ratiow * h;
		if(!reqw &amp;&amp; reqh) {
			finalw = scaledw;
			finalh = reqh;
		} else if(reqw &amp;&amp; !reqh) {
			finalw = reqw;
			finalh = scaledh;
		} else if(reqh &amp;&amp; reqw) {
			var preserveWidth = w &gt; h ? true : false;
			if(preserve) {
				if(preserveWidth &amp;&amp; scaledh &lt; reqh) {
					finalh = scaledh;
					finalw = reqw;
				} else {
					finalh = reqh;
					finalw = scaledw;
				}
			} else {
				finalw = reqw;
				finalh = reqh;
			}
		}
		return { width: parseInt(finalw, 10), height: parseInt(finalh, 10) };
	},
	_renderBinaryImageUrl: function(container, src, options) {
		var srcUrl = options.src ? options.src : src;
		srcUrl = srcUrl.indexOf("/") === -1 ? "/%0".format(srcUrl) : srcUrl; // for IE. 
		var image_dimensions = macro._image_dimensions[srcUrl];
		var image = new Image(); // due to weird scaling issues where you use just a width or just a height
		var createImageTag = function(dimensions, error) {
			if(error) {
				var altImage = options.altImage;
				if(altImage) {
					delete options.altImage;
					macro._renderBinaryImageUrl(container, altImage, options);
				} else {
					options.src = src;
					macro._renderAlternateText(container, options);
				}
			} else {
				var dim = macro._getDimensions(dimensions, { 
					width: options.width, height: options.height }, options.preserveAspectRatio);
				options.srcUrl = srcUrl;
				macro._renderImageTag(container, src, dim.width, dim.height, options);
			}
		};

		if(!image_dimensions) {
			image.onload = function() {
				var dimensions = { width: image.width, height: image.height};
				macro._image_dimensions[srcUrl] = dimensions;
				createImageTag(dimensions);
			};
			image.onerror = function() {
				createImageTag(null, true);
			};
			image.src = src;
		} else {
			createImageTag(image_dimensions);
		}
	},
	_generateIdPrefix: function(){
		return "twsvgfix_" + (this._fixPrefix++).toString() + "_";
	},
	_fixSVG: function(childNodes, idPrefix) {
		var urlPattern = /url\(\#([^\)]*)\)*/ig;
		var fixes = [
		{ attr: "id", pattern: /^(.*)$/ig },
		{ attr: "href", namespace: macro.xlinkns, pattern: /^#(.*)$/ig }
		];
		var url_fixes = ["filter", "fill", "mask", "stroke", "style"];
		for(var i = 0; i &lt; url_fixes.length; i++) {
			fixes.push({ attr: url_fixes[i], pattern: urlPattern });
		}
		for(var t = 0; t &lt; childNodes.length; t++) {
			var node = childNodes[t];
			for(var a = 0; a &lt; fixes.length; a++) {
				var fix = fixes[a];
				var attr = fix.attr;
				var ns = fix.namespace || "";
				if(node.hasAttributeNS &amp;&amp; node.hasAttributeNS(ns, attr)) {
					var v = node.getAttributeNS(ns, attr);
					fix.pattern.lastIndex = 0;
					var match = fix.pattern.exec(v);
					if(match) {
						// Make sure replacement string doesn't contain any single dollar signs
						var toReplace = match[1];
						if(toReplace.indexOf(idPrefix) !== 0 &amp;&amp; toReplace.indexOf("twglobal_") !== 0) {
							var replacement = (idPrefix + toReplace).replace("$", "$$$$"); 
							v = v.replace(match[1], replacement);
						}
						node.setAttributeNS(ns, attr,v);
					}
				}
			}
			var children = node.childNodes;
			if(children.length &gt; 0) {
				this._fixSVG(children, idPrefix);
			}
		}
	},
	_importSVG: function(place, options){
		options = options ? options : {};
		var svgDoc, tiddlerText = options.tiddler.text;
		if (window.DOMParser) {
			svgDoc = new DOMParser().parseFromString(tiddlerText, "application/xml").documentElement;
			var idPrefix = options.idPrefix || this._generateIdPrefix();
			this._fixSVG([svgDoc], idPrefix);
			var el = document.importNode(svgDoc, true);
			var svgHolder = document.createElementNS(macro.svgns,"svg");
			var width = options.width;
			var height = options.height;
			if(width || height) {
				if(width &amp;&amp; height) { // set view box of containing svg element based on the svg viewbox and width and height.
					var viewBox = el.getAttribute("viewBox");
					var topLeft = "0 0";
					if(viewBox) {
						topLeft = viewBox.replace(/([0-9]*) +([0-9]*) +([0-9]*) +([0-9]*) */gi,"$1 $2");
					}
					svgHolder.setAttributeNS(macro.svgns, "viewBox", "0 0 %0 %1".format(width, height));
				} else {
					if(!width) {
						width = el.getAttribute("width");
					}
					if(!height) {
						height = el.getAttribute("height");
					}
				}
				svgHolder.setAttribute("width", width);
				svgHolder.setAttribute("height", height);

				el.setAttribute("width", "100%");
				el.setAttribute("height", "100%");
				svgHolder.setAttribute("class", "svgImage svgIcon %0".format(options.imageClass || ""));
				svgHolder.appendChild(el);
				place.appendChild(svgHolder);
			}
			else {
				var existing = el.className ? el.className.baseVal : "";
				el.setAttribute("class","svgImage %0".format(existing));
				place.appendChild(el);
			}
			// if a tiddler attribute is set this is read as a link
			$("[tiddler], [tiddlyLink]", place).attr("refresh", "link").click(function(ev) {
				var tiddler = $(ev.target).attr("tiddlyLink");
				if(tiddler) {
					story.displayTiddler(ev.target, tiddler);
				}
			});
		}
	},
	getArguments: function(paramString, params) {
		var args = paramString.parseParams("name", null, true, false, true)[0];
		var options = {};
		for(var id in args) {
			if(true) {
				var p = args[id];
				if(id == "def") {
					options[id] = p;
				} else {
					options[id] = p[0];
				}
			}
		}
		var width = isNaN(params[1]) ? false : parseInt(params[1], 10);
		var height = isNaN(params[2]) ? false : parseInt(params[2], 10);

		options.width = macro.lookupArgument(options, "width", width);
		options.height = macro.lookupArgument(options, "height", height);
		options.preserveAspectRatio = args.preserveAspectRatio &amp;&amp; 
			args.preserveAspectRatio[0] == "yes" ? true : false;
		options.tiddlyLink = macro.lookupArgument(options, "tiddlyLink", false);
		options.link = macro.lookupArgument(options, "link", false);
		return options;
	},
	lookupArgument: function(args, id, ifEmpty) {
		return args[id] ? args[id] : ifEmpty;
	}
};

// update views
var _oldwikifiedview = config.macros.view.views.wikified;
// update wikifier to check tiddler type before rendering
merge(config.macros.view.views, {
	wikified: function(value, place, params, wikifier, paramString, tiddler) {
		if(macro.isImageTiddler(tiddler) &amp;&amp; params[0] == "text") {
			var newplace = $("&lt;div /&gt;").addClass("wikifiedImage").appendTo(place)[0];
			macro.renderImage(newplace, tiddler.title, { alt: macro.locale.badImage });
		} else {
			_oldwikifiedview.apply(this, arguments);
		}
	},
	image: function(value, place, params, wikifier, paramString, tiddler) {
		// a field can point to another tiddler whereas text is the current tiddler.
		var title = params[0] == "text" ? tiddler.title : value;
		var args = macro.getArguments(paramString, params);
		macro.renderImage(place, title, args);
	}
});
config.shadowTiddlers.StyleSheetImageMacro = [".wikifiedImage svg, .wikifiedImage .image { width: 80%; }",
	".svgImageText { background-color:[[ColorPalette::Error]]; color:#ddd; display: inline-block; }",
	"span.svgImageText { display: inline-block; overflow: hidden; }"
].join("");
store.addNotification("StyleSheetImageMacro", refreshStyles);

})(jQuery);
//}}}</pre>
</div>
<div title="你看过了许多美景" server.title="你看过了许多美景" server.page.revision="2567111" server.etag="&quot;zhucebuliaogyx_public/%E4%BD%A0%E7%9C%8B%E8%BF%87%E4%BA%86%E8%AE%B8%E5%A4%9A%E7%BE%8E%E6%99%AF/2567111:6a7815786c0e867ddd78165df3e2edc3d3b6e31c&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20160927154106" created="20160927131643" tags="泰坦尼克号" _hash="d19b0c2eaf60cc89d691a269bb9aaf8292e5b795">
<pre>&lt;html&gt;
&lt;body&gt;
&lt;div align="center"&gt;
&lt;embed src="http://ww2.sinaimg.cn/mw690/005Kd0gKgw1ex47720okij311x0lcae5.jpg"&gt;&lt;/embed&gt;
&lt;/div&gt;
&lt;div align="center"&gt;
&lt;embed src="http://ww1.sinaimg.cn/mw690/005Kd0gKgw1ex476t5ledj311x0lcgpl.jpg" &gt;&lt;/embed&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="ColorPalette" server.title="ColorPalette" server.page.revision="2586976" server.etag="&quot;zhucebuliaogyx_public/ColorPalette/2586976:6b2b2190d207c7737123144d7638b60d5e26fb04&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161124011707" created="20160907122403" tags="excludeLists excludeSearch" _hash="96d10752bf0d50d8f40e3385c8f9ead4d2cf968b">
<pre>Background: #ffffff
Foreground: #0e2206
PrimaryPale: #FFFFFF
PrimaryLight: #363636
PrimaryMid: #000000
PrimaryDark: #000200
SecondaryPale: #ffffff
SecondaryLight: #eb93be
SecondaryMid: #d8277d
SecondaryDark: #020001
TertiaryPale: #ffffff
TertiaryLight: #939aeb
TertiaryMid: #2736d8
TertiaryDark: #FFFFFF
Error: #f88
ColorPaletteParameters:HSL([103|48], [0.7],[0.0047242737664243695|1])</pre>
</div>
<div title="colorScheme" server.title="colorScheme" server.page.revision="1521879" server.etag="&quot;system-info_public/colorScheme/1521879:0e88963db2e89994e4977c09346022ad8e17f71a&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-info_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-info_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch" _hash="bfe2408ed9b5cebf918768cae9c9e15bdb8f3309">
<pre>Unless you're delighted with the default theme you can make some quick changes by generating a new random color palette, hit this button to cycle through some alternatives.

&lt;&lt;RandomColorPaletteButton saturation_pale:0.67 saturation_light:0.53
saturation_mid:0.43 saturation_dark:0.06 pale:0.99 light:0.85 mid:0.5 dark:0.31&gt;&gt;

You can also change the look and feel completely by installing a new theme. To do this, find one you like in the @themes space, note down the name, and include it in this space by going to the space menu. You can reach the space menu by clicking on the blue and pink circle at the top-right of the page and chooshing "THIS SPACE". Here are a few to check out:
* @pip
* @caspian-ii
* @basalt
* @simplicity
* @cheesecake
* @jelly-doughnut

(//Note that if you are using a custom TiddlySpace install, these themes may not be present.//)</pre>
</div>
<div title="close.svg" server.title="close.svg" server.page.revision="1521888" server.etag="&quot;tiddlyspace/close.svg/1521888:6cfab01266d6f6aa6f2a305d147fc3d41b2f7cb9&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="image/svg+xml" modified="20131111192334" created="20131111192334" tags="excludeLists excludeSearch" _hash="b21fe0ea0a8dba52788155f5ed2188b45210d076">
<pre>&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
&lt;!-- Created with Inkscape (http://www.inkscape.org/) --&gt;

&lt;svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   version="1.1"
   width="14pt"
   height="14pt"
   viewBox="918 510 14 14"
   id="svg3070"&gt;
  &lt;metadata
     id="metadata3089"&gt;
    &lt;rdf:RDF&gt;
      &lt;cc:Work
         rdf:about=""&gt;
        &lt;dc:format&gt;image/svg+xml&lt;/dc:format&gt;
        &lt;dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /&gt;
        &lt;dc:title&gt;&lt;/dc:title&gt;
      &lt;/cc:Work&gt;
    &lt;/rdf:RDF&gt;
  &lt;/metadata&gt;
  &lt;defs
     id="defs3072"&gt;
    &lt;radialGradient
       cx="0"
       cy="0"
       r="1"
       id="Gradient"
       gradientUnits="userSpaceOnUse"&gt;
      &lt;stop
         id="stop3075"
         style="stop-color:#ffffff;stop-opacity:1"
         offset="0" /&gt;
      &lt;stop
         id="stop3077"
         style="stop-color:#2b2b2b;stop-opacity:1"
         offset="1" /&gt;
    &lt;/radialGradient&gt;
    &lt;radialGradient
       id="Obj_Gradient"
       xlink:href="#Gradient"
       gradientTransform="matrix(11.473944,0,0,11.473944,922.3752,513.7837)" /&gt;
  &lt;/defs&gt;
  &lt;g
     id="g3080"
     style="fill:none;stroke:none"&gt;
    &lt;g
       id="g3082"&gt;
      &lt;path
         d="m 929.6952,512.9018 c -2.5384,-2.53843 -6.654,-2.53843 -9.1924,0 -2.5384,2.5384 -2.5384,6.654 0,9.19238 2.5384,2.53839 6.654,2.53839 9.1924,0 2.5384,-2.53838 2.5384,-6.65398 0,-9.19238 m -4.5962,2.8407 2.07733,-2.07734 1.75547,1.75549 -2.0773,2.07735 2.0773,2.07732 -1.75547,1.75548 -2.07733,-2.07732 -2.07733,2.07732 -1.75547,-1.75548 2.0773,-2.07732 -2.0773,-2.07735 1.75547,-1.75549 z"
         id="path3084"
         style="fill:url(#Obj_Gradient)" /&gt;
      &lt;path
         d="m 927.61447,515.38354 a 4.51205,4.2590378 0 1 1 -9.0241,0 4.51205,4.2590378 0 1 1 9.0241,0 z"
         transform="matrix(1.0218069,0,0,1.0462046,-18.063694,-21.648443)"
         id="path2394"
         style="fill:#000000;fill-opacity:0;fill-rule:evenodd;stroke:none;stroke-width:5;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" /&gt;
    &lt;/g&gt;
  &lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="publicIcon" server.title="publicIcon" server.page.revision="1521911" server.etag="&quot;tiddlyspace/publicIcon/1521911:56b762b38b6c3d2b235c2ac28765d5b00056b70e&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="image/png" modified="20131111192334" created="20131111192334" tags="excludeLists excludeSearch" _cache-max-age="43200" _hash="8e44a24b6d966bfdda2a6cfeb9f141ac3a3892a5">
<pre>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</pre>
</div>
<div title="backstage.svg" server.title="backstage.svg" server.page.revision="1521885" server.etag="&quot;tiddlyspace/backstage.svg/1521885:02a3cd2f0b61607bcb56215cf0a1f836762b02d7&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="image/svg+xml" modified="20131111192334" created="20131111192334" tags="excludeLists excludeSearch" _hash="c1cd42462c1b10a4e77a891408b9c2a24da3b2e6">
<pre>&lt;svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" viewBox="0 0 40 40"&gt;&lt;metadata&gt;&lt;rdf:RDF&gt;&lt;cc:Work rdf:about=""&gt;&lt;dc:format&gt;image/svg+xml&lt;/dc:format&gt;&lt;dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/&gt;&lt;dc:title/&gt;&lt;/cc:Work&gt;&lt;/rdf:RDF&gt;&lt;/metadata&gt;&lt;defs&gt;&lt;linearGradient id="lG3826" x1="7.0996" gradientUnits="userSpaceOnUse" y1="18.829" gradientTransform="matrix(1.5858347,0,0,1.8078238,1098.1851,351.13716)" x2="1.5461" y2="-0.95166"&gt;&lt;stop stop-color="#000" offset="0"/&gt;&lt;stop stop-color="#9c9b99" offset="1"/&gt;&lt;/linearGradient&gt;&lt;linearGradient id="lG3828" y2="372.44" gradientUnits="userSpaceOnUse" y1="375.7" x2="1111.7" x1="1097.7"&gt;&lt;stop style="stop-color:#ac9393;" offset="0"/&gt;&lt;stop style="stop-color:#c8b7b7;" offset="1"/&gt;&lt;/linearGradient&gt;&lt;/defs&gt;&lt;g transform="translate(-1080.9375,-357.3329)"&gt;&lt;path style="stroke-width:0;stroke-miterlimit:4;fill:url(#lG3826);" d="m1080.9,357.32,39.996-0.0426-0.01,40.008c-15.507-25.519-15.36-25.95-39.988-39.965z"/&gt;&lt;path style="stroke-dashoffset:0;stroke:#7aa3be;stroke-linecap:round;stroke-miterlimit:4;stroke-width:1.49999988;fill:#c1e6fd;" d="m1091.9,363.55c6.5716-6.4925,16.576-7.3925,23.147-0.90003,6.5717,6.4925,6.5717,17.019,0,23.511-4.4424-8.6113-12.288-15.713-23.147-22.611z"/&gt;&lt;path style="stroke-dashoffset:0;stroke:#ce81b0;stroke-linecap:round;stroke-miterlimit:4;stroke-width:1.5;fill:#f4c4e2;" d="m1110.2,367.62c3.217,3.2168,3.217,8.4323,0,11.649-3.8194-4.2357-8.3307-8.1824-11.649-11.649,3.217-3.2168,8.4325-3.2168,11.649-0.00002z"/&gt;&lt;path style="stroke-linejoin:bevel;stroke:#000000;stroke-linecap:round;stroke-dasharray:none;stroke-miterlimit:4;stroke-width:0.80000001;fill:url(#lG3828);" d="m1081,357.34c18.79,6.4752,32.53,16.56,39.894,39.892-11.19-17.028-14.878-19.19-27.352-14.96,6.2984-12.098,3.9371-13.19-12.542-24.932z"/&gt;&lt;/g&gt;&lt;/svg&gt;</pre>
</div>
<div title="文献综述（参与式平台建构部分）" server.title="文献综述（参与式平台建构部分）" server.page.revision="2586977" server.etag="&quot;zhucebuliaogyx_public/%E6%96%87%E7%8C%AE%E7%BB%BC%E8%BF%B0%EF%BC%88%E5%8F%82%E4%B8%8E%E5%BC%8F%E5%B9%B3%E5%8F%B0%E5%BB%BA%E6%9E%84%E9%83%A8%E5%88%86%EF%BC%89/2586977:79a609d6dad457757d0c300fd2066e30b12c0f60&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161124012047" created="20161124011311" tags="平台互动 平台建构 平台设计 平台运营" _hash="2192a731111df823d6b74993c4e3451c37421978">
<pre>基于大学生视角的教学范式改革参与式平台综述


摘要：在对传统教学互动平台的建构框架与设计模块进行分类探讨，总结出参与式平台构建的框架模块和平台设计时的组成内容；在对平台运营过程中的平台运转情况进行研究的基础上，总结出参与式平台的运转模式；将平台的服务对象分成两类，并分别总结其他平台应用中对于两种服务对象的功能描述；整合互动教学平台中所有互动的类型，将其分为三种类型，分别进行具体的描述。

关键字： 教学范式改革；参与式教学；平台建构；平台运营；

随着网络的迅速发展，各种能够在线分享视频、音频、照片等信息的交流参与式平台应运而生。此外有学者在基于美国心理学家阿尔伯特•班杜拉提出的社会学习理论即学习具有社会性，需要通过观察别人的行为、行为的后果而获得之上，提出了构建参与式平台于教育中，帮助学生和教师之间进行无碍交流，利于学生和学生之间沟通相互进行学习的参与式平台【1】的概念。随着参与式平台内容的逐渐完善，平台的作用也从帮助学生学习扩展到了增加学生的学习积极性和促进学生的自主学习能力。在现有参与式平台发展情况下，本文提倡在基于大学生视角下帮助教学范式改革参与式平台的发展，同时也创造性的提出了让学生针对教学范式改革课堂发声，推动教学范式改革的发展。
1．教学范式改革参与式平台框架结构与模块设计
由于参与式教学平台的研究众多，涉及参与式平台的建构方法和平台中的应用内容的部分，各个平台基于服务对象、建构目标等的不一致，给出了不同的框架结构和应用模块。
王洪梅认为网络多媒体教学平台为了对平台内的资源进行统计、评审、搜索需要建构多媒体资源管理层；对系统公告、论坛进行管理应该设置系统管理层【2】。事实上，多数平台在提出平台框架时，都针对平台中的数据资源构建出相应的资源管理层。初次之外，李孟庭在构建移动大学外语学习平台时，还提出平台还应提供应用程序运行、管理、监控及维护所需的环境功能的应用数据管理层；将各种业务功能以统一的界面和操作方式展现给用户的用户访问层【3】。陈琳琳还将其构建的高校在线学习平台构建有其他两个框架层，对学生自主学习和实体课程进行管理设置了学习管理层；对平台上的交互做出控制组建了在线交流层【4】。与陈琳琳的高校在线学习平台类似，孙彦超构建混合式教学平台时对于平台中的师生和混合教学平台的交互设计了数据展示层，同时也为发挥混合式教学平台的作用进一步管理多媒体、数据库等系统设置了系统管理层；为保障数据同步、用户权限管理设置平台架构与系统功能层；为完成资源共享平台、教师管理平台等设置了应用平台层【5】。魏丹丹构建的平台注重用户的个性化体验，因而除了数据层以外提出了与上述平台不一样的构建框架，即设置了包含学习任务、作业、测试等多种个性化服务的服务层；向平台用户提供个性化的门户展现的应用层【6】。余燕芳则给出了与上述的平台构建模块不一样的提案，即建构为硬件支持系统做出保障的基础设施层；为平台所产生的数据进行存储服务的基础服务层；为平台提供各种信息服务功能的系统服务层【7】。
为了完善参与式教学平台，不同平台在给出了相应的框架结构之上，也提出了不同的平台模块设计方案。
有一些平台注重师生间、生生间的互动，例如，王磊提出要以BB平台为基础，形成师生间的平等互助、教学相长的关系【8】。陈静认为学生之间要利用平台形成学习小组，构建协作学习策略。【9】MOOC教学平台注重利用网络资源进行网络教学，例如，秦宏强就MOOC平台提出用户以多种检索方式可以查看到大规模的开放网络课程【10】。宋俊丽将平台定义为课下引领式的在线学习平台，使学生由课上知识向课下能力转化【11】。Claroline网络教学平台将其内容作用目标定义为帮助课堂内容的补充、拓展，例如王鸿丹就指出学生需要在上课时利用平台查看课程内容介绍、课程联系内容等，课下需要提交作业、组件学习小组等【12】。也有学校利用微博、微信等平台实现学校对师生的管理，例如，吕丽珺为互动平台设计了后台管理功能，帮助教师与学生和学校及各部门间的互动，方便了学校各部门对于教师、学生进行管理【13】。基于Moolde的英语学习平台帮助完成教师对于学生的在线测试、考勤统计。例如，方熊将其平台中设置了学生能够进行独立测试的模块等【14】。王诗杰还通过辅助教学的网络平台将学生的单元测试进行集成统计，助于学生登录查看【15】。
1.1教学范式改革参与式平台框架结构
平台的框架结构为平台上功能的顺利使用奠定了基础，在综合研究了多个平台系统的框架结构之后，总结得出多数参与式平台建构所需的框架结构为：存储、管理用户显性和隐性数据资源的资源管理层；为平台提供各种信息服务的系统服务层；对平台功能模块进行实现的应用平台层和向用户展示应用界面的用户访问层。相较而言，本文提出的基于大学生视角的教学范式改革参与式平台要求充分利用大学生视角与教师进行交互，在以上构建方法的基础上，还要注重构建互动交流层来为师生间交互做出保障，对提交到平台中的具有攻击性的语言进行控制，使师生间的沟通更加顺畅，从而使教学范式改革参与式平台的功能落到实处。
1.2教学范式改革参与式平台设计
教学平台的可用性是影响网站教学效果的重要因素之一。基于不同的教学目的，各个平台在设计时也分了不同的平台内容模块。可用性较高的学习网站，不但会增加学生的学习绩效，还能提高学习兴趣和满意度【16】。基于这个理念，参与式平台的设计对于平台的可用性至关重要。
研究多个参与式平台后，可以将参与式平台的组成模块简单的分为教学模块和互动模块。教学模块包括了学生通过平台的教学资源进行学习、提交作业、进行在线测试等；互动模块则是包括了在平台上教师和学生、学生和学生、两者与学习资源之间进行的各种互动，例如教师能够通过平台对学生的疑问进行解答、完成对学生出勤、作业等的考核；学生间能够通过相同的兴趣爱好组成互助小组，在相互交流中加深学习氛围、拓宽知识面；教师在平台上上传课件、拓宽的学习资料等，帮助学生巩固课堂知识、学习更多的。虽然已有与教学范式改革有关的教学交互式平台，但是，仅仅注重于教师对于学生的教学还存有片面性的缺点，相比之下，基于大学生视角的教学范式改革平台更多的是注重于大学生以自己的视角向教师就教学范式改革提出意见甚至建议，教师及时接受学生的意见，对教学范式课堂做出适当的调整，使得学生更能够融入以范式改革为基础的参与式教学课堂，推动教学范式改革的进程。因此本文提出的基于大学生视角的教学范式改革参与式平台将以实现师生间的沟通为主的互动模块作为平台设计的首要模块，在此基础上辅以其他多种教学与互动的模块。
2.教学范式改革参与式平台运营模式
对于一个平台而言，合适的运营模式对于开放平台能否成功无碍运转起到了至关重要的作用。而所谓运营模式，也称商业模式、经营模式等，是指企业或者平台创建、运转和获取价值的过程【17】。由于本文的论述是建立在免费开源的成功运作的平台运营模式之上，因此下文将只对平台的运转做出探讨。
从平台运转的角度入手，总结出了多个教育平台的运行模式，例如，美国的edX平台提供免费学习课程，在给以视频、文本资源帮助学生学习的同时，还能使学习者通过考试获取结业证书；Future learn平台既能让学生通过视频课程学习，也提供给学生在线答疑、教学互动等功能，最终给予学生参与证书或是结业证书；而中国的学堂在线则是共享有免费独家的学程，提供网上的互动与考试，结业者获得通过课程的荣誉证书。澳大利亚的Open2day平台，在给学生提供视频课程的同时，还能将每门课程开设即时聊天室供学生进行讨论，最终给予结业者电子版课程证书。德国的iversity平台将课程进度统一化，在视频中穿插测试，最后给予学生ECTS结业证书【18】。综合概括上述的多个教育参与式平台，都是以用网络中的视频资料来帮助学生进行学习，因此平台的运转流程均是通过“网络授课+给予结业证书”的模式来达到平台的构建目的。
以上平台的运营对于教学范式改革参与式平台的运营具有相当的借鉴意义。本文认为上述平台多从教师以及管理者的角度考虑了学生的需要，将获得结业证书作为学生在参与式平台中学习的最终目标，而没有真正“基于大学生的视角”，充分考虑学生的需求，具有一定的狭隘性。本文提出的教学范式改革参与式平台将以促进师生间的交互为主要创建方向，同时辅以网络教学资源。鼓励学生对于教学范式课堂的听课体验做出评价，保障教师及时听取学生的意见，从而对范式课堂做出整改，最终完善课堂内容、帮助学生学习、推动范式改革，以此形成平台的运转过程。
3．教学范式改革参与式平台服务对象
王进军认为，在交互平台中学习时，就学生与教师的角色而言，学生不再是被动的知识接受者，而是主动的学习的参与者。教师的角色也渐渐从指导者转换为学习过程的设计者，师生的地位趋于平等化【1】。基于这个概念，我们把参与式平台的主要服务对象可以分为：教师和学生。
虽然在参与式平台中，教师都是为了学生更好的参与学习而存在的，但是就功能而言，不同的参与式平台对于教师作用的定义大有不同。有些平台中教师仍然作为平台的主要领导者，例如李梁认定的平台中师生互动模式包括教师对学生体会反馈的审阅评价，教师进行教学总结、布置难题探究【19】。潘宇认为教师可以将授课内容、课堂资料、案例和问题都共享至平台，帮助学生把握学习方向，提高主动性【20】。当然也有平台将教师的绝对权威被削弱，逐渐转变为引导者。许瑛建议教师在平台上提供教学视频等学习资料，课上对学生进行学习引导，一起观看学习；课后利用平台帮助整理碎片知识，形成知识体系【21】。在教学范式改革参与式平台运行过程中，教师即不是只要领导者，也不是引导者，而是与平台中的学生一样，利用平台中大学生基于自身视角对其范式课堂提出的建议而做出整改，与学生形成良性互动，实现教学相长。
学习者作为学习事件发生的主体，其自身的共性及个性的特征都会影响整个教学过程以及教学系统的功能设计。Schank和Cleave提出了所谓的“学习悖论”，即学生不学习就不知道如何学习，但他们不知道如何学习，又怎么能够学习呢【22】？为了打破这种学习悖论，平台必须要能够帮助学生通过来自教师、其他学生的帮助，来建立学习的积极性与主动性。对于此，有学者认为，平台使学生能够和教师、同学便捷交流，例如胡静提出，学生能在遇到困难时，可以选择自己喜欢的教师进行提问【23】；王磊则设定学生能够随时下载教师发布的教学资源【8】；王进军指出平台帮助学生建立学习小组，互相协作，扩大彼此知识面【1】。同时，薛嘉还设定学生能够在平台上获取、分享有利资源，例如可以让学生根据自己的需求自行向大家推荐学习资料，进行互动【24】。当然，更多的学者认为平台对于学生这一参与者还有很多其他辅助的作用，例如，毛齐明提出平台可以对学生的出勤状况进行管理【25】；刘小蓓设平台有教学反馈功能，帮助学生对于教师的课堂和网络教学进行评价【26】；田崇瑞则指出能够使学生通过在平台上进行在线问答、在线作业、在线测试、阶段性考核来达到学生“乐学”的目的【27】。相对而言，教学范式改革参与式平台的建立，基于在多数平台中学生的互动内容之上，鼓励大学生在平台上与教师建立平等的互动。除此之外，教学范式改革参与式平台还主张学生就教学范式课堂的授课体验做出评价与教师进行交互，使教学范式改革课堂进一步融入学生的学习需求中，帮助学生能够在课堂中进行高效学习，最终推动教学范式改革的进步。
4教学范式改革参与式平台互动类型
各个教学平台的互动类型，是建立于服务对象的需求之上。根据这些平台服务对象的需求，将互动活动分为教师与学生的互动、学生与学生的互动以及教师、学生与资源的互动。
4.1教师与学生的互动
利用网络教学平台，教师和学生之间能形成实时的互动。相比于教师和学生在课堂中做出的互动指导，教师在互动平台上进行的对于学生学习状态的随时跟踪和学习情况的随时指导更加具有连续性，即形成了西沃特所说的“关注的连续性”，更能避免师生互动效率的无法控制与低效【25】。例如，教师及时解决学生的困惑，在平台上对其进行在线解答、指导，了解学生的学习动态【28】。教师能在平台上进行在线测试，检验学生的学习效果【29】。教师通过分析平台上的学生学习数据，了解学生的学习倾向，及时改进授课内容【4】。教师对于学生观看课程视频的进度进行了解，可以对进度落后的同学进行适当的提醒【30】。除了教师单方面的对学生做出教学帮助与指导，师生也可以通过平台进行双方的教学评价。例如，教师能够在平台上与学生建立练好的沟通，拉近彼此心里距离，使师生关系平等化【31】；学生能够通过平台的留言板向教师提出建议，学生根据其反馈的信息调整教学方案和教学方法【32】。
这些良性互动促进了师生间的交流、一定程度上能够改变教师授课内容，增强学生的学习效果。而本文所述的教学范式改革参与式平台是建立在教学范式改革课程的基础上，除了上述的多种师生互动外，还利用学生的对于范式课程的反馈达到推动范式改革、促进师生间相互进步的目的。
4.2学生与学生的互动
在参与式平台中，学生与学生的互动也存在有多样性的特点。有的平台给予了学生之间共同学习成长的机会，例如，赵桂秋设定学生能够在平台上做出自我评价和同学间的相互评价，在相互反思与激励中共同进步【33】；也有学者提到学生能够在平台中的讨论区，探讨问题进行交流，互动提高【34】；周红福也注意到学生能根据自己的需求，如考研、学习等，建立交流小组。也有的平台利用其功能，对校园生活产生帮助，例如彭婷婷设定了学生也可通过平台记录自己校园生活、对生活进行规划，也可查看他人的生活与计划情况【35】；HL Chen鼓励平台中的学生共享自己的有趣的照片、视频甚至是自己的创新的产品【36】。
学生间的互动多是组建学习交流小组、分享校园生活经验、开展话题讨论、进行相互间的评价等。从基于大学生视角下的范式改革角度看，这些互动一方面是由有经验者对无经验者的困惑进行点拨、提示；另一方面是对学习内容进一步加深，学习方法进一步拓展，互相帮助与监督，能够对提高学习效率做出帮助。
4.3教师、学生与资源的互动
学习者对知识的建构离不开丰富的学习资源，而资源的种类和展现方式也在很大程度上决定了教学的质量。因此，几乎所有的教学互动模块都强调了学习资源（包括教学视频，教学课件等）的作用，而学生也只有在充分了解和掌握学习资源后，才能让教学落到实处，拓展充实自身。
针对平台的学习资源，多数教学平台主张让教师上传学习资料，来减轻教师课堂重复讲解的负担、拓宽学生对于课堂知识认知。如侯贺英设定让教师上传各种学习资料，如文档、音频、视频等【37】王进磊设定让教师上传媒体素材库、题库、案例库等帮助学生学习【38】。对于平台上的学习资源，学生可以通过在平台上在线学习，也可以下载来学习。渐渐的有设计者开始意识到教师上传的视频、资料的确能够对学生自主学习起到一部分积极的作用，例如，D.Gillet设定教师在LMS平台中在上传的视频中加入适当的提问环节，让学生带着疑问进行学习，增强学习效率【39】。但学生对于知识的掌握程度大多不同，不仅是知识的广度有差异，知识的深度也存在相当程度的差异，教师上传的课程视频主要针对大部分的学生需求，并没有考虑到个体差异，因此需要获取学习资源的学生必须对资源进行挑选，寻找最适合自己的教学资料。于是开始有平台安排学生自己查找资源进行互动，例如李红认为应该让学生提前预习、自主搜集资料接受知识，再在平台上与同学相互传授【40】。
基于大学生视角的教学范式改革参与式互动平台在参考以上资源互动的基础上，将更加注重让学生自主上传有益学习资料的部分，希望从学生自身出发，贡献出对自身有益的资料，接受到他人筛选过适合同龄人的资源。也希望通过在平台上自主选择资源的学习，能有效激发学习者的学习兴趣，学生从平台中获得生动、有益的学习资料，提升其学习的动力。
5.总结
	基于上述对近年来交互平台的结构框架、设计内容、平台服务对象以及各个平台中互动的互动类型的分析，本文提出构建基于大学生视角的教学范式改革参与式互动平台，创造更好更有针对性的环境以帮助在搭建师生、生生间的交互平台，保障师生间的双向成长的同时促进教学范式改革的进步。
参考文献：
[1]王进军,黄旭珍,陈招娣,唐乐,罗羽. 虚拟学习社区背景下英语高效课堂教学模式的构建与运作[J]. 疯狂英语(教师版),2014,01:29-33+198
[2]王洪海. 基于校园网的网络多媒体教学平台构建[J]. 电子制作,2014,21:144-145. 
[3]李孟庭. 4G环境下移动大学外语学习平台构建的探究[J]. 电子测试,2014,09:77-79. 
[4]陈琳琳,何远德. 普通高校在线学习平台构建策略研究[J]. 攀枝花学院学报,2015,06:108-111. 
[5]孙彦超,李忠刚. 高校混合式教学平台的建设实践[J]. 科技资讯,2015,26:105-106. 
[6]魏丹丹,邱乐兴. 基于Web3.0的网络教学个性化服务平台构建[J]. 江西师范大学学报(自然科学版),2013,06:584-588. 
[7]余燕芳,葛正鹏. 终身学习平台建设的理念与架构——从Web2.0到Web3.0[J]. 电化教育研究,2014,08:57-63. 
[8]王磊,王晨晨,林炜斌,徐凤. Blackboard网络平台支持下混合教学模式探索[J]. 实验技术与管理,2014,11:195-197+214. 
[9]陈静. XNCJ大学网络教育知识共享SNS平台构建研究[D].西南财经大学,2014. 
[10]秦宏强,李光明. 关于MOOC教学平台构建思路的探讨[J]. 电脑知识与技术,2016,02:118-119. 
[11]宋俊丽,刘素萍. 基于联通主义的引领式在线学习平台建构[J]. 高教学刊,2015,14:11-12. 
[12]王鸿丹. 基于Claroline的网络教学平台构建与应用——以现代教育技术公共课为例[J]. 中国教育信息化,2016,04:81-84.
[13]吕丽. 基于开放应用的校园微博互动平台的构建研究与实现[J]. 电子商务,2014,05:86-88.
[14]方熊. 基于Moodle的英语网络自主学习平台的设计和实现[D].电子科技大学,2014.
[15]王诗杰. 交互式辅助教学网络平台的发展和研究[D].电子科技大学,2014.
[16]金涛,张娜,石永军,雷毅. 交互式虚拟教学平台建设思路与体系结构[J]. 潍坊工程职业学院学报,2014,05:97-99.
[17]董晓霞,李建伟. MOOC的运营模式研究[J]. 中国电化教育,2014,07:34-39+149.
[18]肖君,胡艺龄,陈婧雅,吴忭. 开放教育下的MOOCs运营机制研究[J]. 中国电化教育,2015,03:10-14+38.
[19]李梁. 网络环境下基于问题逻辑的师生互动型教学模式建构[J]. 中国电化教育,2011,12:94-97.
[20]潘宇. 构建网络平台,推动专题互动教学模式在思想政治理论课中的应用——以高职院校“概论”课为例[J]. 当代教育实践与教学研究,2016,05:216+215.
[21]许瑛. 基于网络空间的高职英语翻转模型的构建[J]. 佳木斯职业学院学报,2016,05:374-375.
[22] McLoughlin, C. (2002). Bridge over troubled water: Creating effective online support for the metacognitive aspects of problem solving[N]. In P. Barker &amp; S. Rebelsky (Eds.), Proceedings of EdMedia: World Conference on Educational Media and Technology 2002(pp. 1267-1272).
[23]胡静. 艺术设计课程网络教学平台建设刍议[J]. 艺术科技,2016,01:350.
[24]薛嘉. 云计算下教学互动平台的探究和设计[D].西南交通大学,2014. 
[25]毛齐明,杨青松. 基于网络课堂的研究性教学模式探析——以大学“公共教育学基础”为例[J]. 现代大学教育,2012,01:81-87+113. 
[26]刘小蓓,徐正春,周玮. 基于网络教学平台的旅游学概论课程互动开放型教学模式的构建[J]. 安徽农业科学,2013,28:11575-11576. 
[27]田崇瑞,罗宇新,赵一飞. 基于网络平台的公共英语过程教学管理系统设计与实现[J]. 电子制作,2014,09:163-165. 
[28]张翀,吕燕萍,曾玲辉,李杰,李向荣. 药理学网络Blackboard教学平台的建立与实践[J]. 科教导刊(中旬刊),2012,06:49+64. 
[29]李科生,肖林根. 应用型本科顶岗实习“教-考-评”教务管理平台构建探讨[J]. 湖南大众传媒职业技术学院学报,2016,03:107-110.
[30] Khanna, Pankaj; Basak, P. C.  An OER Architecture Framework: Needs and Design[J]. International Review of Research in Open and Distance Learning, v14 n1 p65-83 Mar 2013
[31]孙阎,杜景红,邵洪涛. 基于微信辅助的植物学实验教学探讨[J]. 安徽农学通报,2015,23:112-113+119
[32]王春香,陈丽梅,陈佰树,张欣艳. 网络师生互动平台在大学物理教学中的应用[J]. 高师理科学刊,2015,11:95-98. 
[33]赵桂秋,夏一萍,丛林,林静,胡丽婷,王谦. 网络资源平台的构建及在眼科学教学的应用[J]. 基础医学教育,2015,03:258-260.
[34]周红福,朱亚南,韩萍,王纪钰,毕卉. 论智能手机网络环境下大学生学习能力培养[J]. 边疆经济与文化,2014,07:102-103. 
[35]彭婷婷,高珊,王斌. 大学生校园成长社区软件的建设与推广[J]. 品牌,2015,03:176.
[36]Gillet, D. Personal Learning Environments as Enablers for Connectivist MOOCs[J]. Proceedings of the 12th International Conference on Information Technology Based Higher Education and Training. Antalya. 10-12 October 2013. 1-5.
[37]侯贺英,翟小娜,谷利红. 信息化背景下河北省高校大学英语新型混合式教学模式的构建[J]. 校园英语,2016,10:6-7. 
[38]王进磊. 基于移动云计算的学习资源管理与平台构建[D].河南师范大学,2014.
[39] Chen, H.L., Cannon, D., Gabrio, J. Leifer, L. Toye, G. &amp; Bailey, T. Using wikis and weblogs to support reflective learning in an introductory engineering design course[J]. The 2005 American Society for Engineering Education Annual Conference &amp; Exposition, Portland, Oregon: June 12-15.
[40]李红,崔闯,郭晓宇. 综合类课程教学模式的改革研究与实践——以《信息系统分析与设计》课程为例[J]. 鞍山师范学院学报,2016,02:86-90.
</pre>
</div>
<div title="editTiddlerReadOnly" server.title="editTiddlerReadOnly" server.page.revision="1521933" server.etag="&quot;system-images_public/editTiddlerReadOnly/1521933:081977982b5679fad0d90f904d85aec6c5fab87e&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-images_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-images_public" server.permissions="read" server.content-type="image/svg+xml" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch" _hash="24d0766e948d10eb5e220d57a8c0d16a194ebe1f">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="506 234 68 36" width="30" height="30"&gt;&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;&lt;dc:date&gt;2010-09-16 14:51Z&lt;/dc:date&gt;&lt;!-- Produced by OmniGraffle Professional 5.2.3 --&gt;&lt;/metadata&gt;&lt;defs&gt;&lt;/defs&gt;&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;&lt;rect width="1118" height="783"/&gt;&lt;g&gt;&lt;path d="M 538.68195 244.31807 C 540.43927 246.07547 540.43927 248.9247 538.68195 250.68204 C 536.92456 252.4394 534.07532 252.4394 532.318 250.68204 C 530.5606 248.9247 530.5606 246.07547 532.318 244.31807 C 534.07532 242.56075 536.92456 242.56075 538.68195 244.31807 M 511.12607 257.99356 C 511.26108 258.13019 511.39728 258.26608 511.53473 258.40121 C 527.2556 273.86606 552.74414 273.86606 568.46515 258.40121 C 568.60248 258.26617 568.73853 258.13037 568.87354 257.9938 C 568.8736 257.99374 568.8736 257.99371 568.8736 257.99362 C 568.87366 257.99371 568.87366 257.9938 568.87372 257.9939 C 570.72504 256.12051 572.35046 254.11153 573.74994 252 C 573.74994 251.99997 573.74994 251.99994 573.74994 251.99992 C 572.35046 249.8884 570.72504 247.87938 568.87372 246.00606 C 568.87366 246.00613 568.87366 246.00621 568.8736 246.00627 C 568.73865 245.86966 568.60254 245.73383 568.46515 245.5987 C 552.74414 230.13387 527.2556 230.13387 511.53473 245.5987 C 511.39728 245.73383 511.26108 245.86974 511.12613 246.00635 C 511.126 246.00624 511.126 246.00616 511.12595 246.00606 C 509.2748 247.87938 507.64954 249.88837 506.24994 251.9998 L 506.24994 251.99983 C 506.24994 251.9999 506.25 251.99992 506.25 251.99997 C 506.25 252 506.24994 252.00005 506.24994 252.00009 L 506.24994 252.00012 C 507.64954 254.11157 509.2748 256.12051 511.12595 257.9939 C 511.126 257.99377 511.126 257.99365 511.12607 257.99359 Z M 515.44916 252 C 515.8548 251.55469 516.27502 251.11778 516.71014 250.68985 C 522.16632 245.32257 529.06055 242.23206 536.17273 241.41824 C 534.6662 241.96199 533.2525 242.83762 532.04498 244.04512 C 527.65155 248.43852 527.65155 255.56163 532.04498 259.95502 C 533.2522 261.16226 534.6656 262.03778 536.17175 262.58154 C 529.05988 261.76761 522.16608 258.6771 516.71014 253.31009 C 516.2751 252.88219 515.85486 252.44528 515.44922 252 Z M 564.55054 251.99995 C 564.14502 252.44525 563.7248 252.88217 563.28973 253.31009 C 557.83368 258.67712 550.93988 261.76764 543.828 262.58157 C 545.33423 262.03781 546.74756 261.1623 547.9549 259.95502 C 552.34833 255.56163 552.34833 248.43852 547.9549 244.04512 C 546.74744 242.83765 545.33374 241.96202 543.82715 241.41824 C 550.9394 242.23206 557.83356 245.3226 563.28973 250.68985 C 563.7248 251.11775 564.14502 251.55467 564.55054 251.99995 Z M 568.8736 257.99362 C 570.7249 256.12033 572.35028 254.11139 573.74988 252.00002" fill="black" class="glyph"/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;</pre>
</div>
<div title="How to socialise" server.title="How to socialise" server.page.revision="1521880" server.etag="&quot;system-info_public/How%20to%20socialise/1521880:acfc603804f5c7ce131bcc694deee83ac7fd7dc9&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-info_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-info_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeMissing excludeSearch" _hash="e730478f88ff38b560ebde4eaf4267b136bf6584">
<pre>There are a lot of interesting people using ~TiddlySpace that you might like to keep track of and interact with. There are a number of ways of doing this.

If you see a number in the speech bubble in one of your tiddlers, it means that someone is writing about the same thing as you. You can find out what they're saying by clicking on it. Likewise, if you see something interesting in someone else's space, you can respond to it and write up your own thoughts on the subject by clicking "Reply to this tiddler".

Additionally, if you find anyone interesting, or you find an interesting looking space and you'd like to know when it's changed, you can "follow" that space. To do this, simply create a tiddler with the title: {{{@space-name}}} and tag it {{{follow}}}. If you want, you can store some notes about that space in the body of the tiddler.

If you then want to know what happening, simply [[include|How do I include/exclude spaces?]]@docs the @tivity space and then visit your activity stream at [[/activity|/activity]], or just visit the @tapas space directly.

!Not sure who to follow?
Here's a few suggestions:
* @fnd
* @cdent
* @pmario
* @bengillies
* @dickon</pre>
</div>
<div title="TiddlySpaceFollowingPlugin" server.title="TiddlySpaceFollowingPlugin" server.page.revision="1521864" server.etag="&quot;system-plugins_public/TiddlySpaceFollowingPlugin/1521864:5786cda0064aab20290c0a349ff09649bbef290e&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch systemConfig" _hash="65a4f81f24d076e5c3fc66d2ff037c994c514bcd">
<pre>/***
|''Name''|TiddlySpaceFollowingPlugin|
|''Version''|0.7.1|
|''Description''|Provides a following macro|
|''Author''|Jon Robson|
|''Requires''|TiddlySpaceConfig TiddlySpaceTiddlerIconsPlugin ErrorHandler|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
!Usage
Tag a tiddler with "follow" to express a list of followers.
Using the {{{&lt;&lt;followTiddlers X&gt;&gt;}}}
will reveal the number of tiddlers with name X in the set of spaces the *current* user viewing your space follows.
{{{&lt;&lt;following jon&gt;&gt;}}} will list all the users following Jon.
{{{&lt;&lt;followers jon&gt;&gt;}}} will list all the followers of jon.
{{{&lt;linkedTiddlers&gt;&gt;}}} will list all tiddlers across TiddlySpace linked to the current tiddler
{{{&lt;linkedTiddlers follow:yes&gt;&gt;}}} will list all tiddlers across TiddlySpace that come from your list of followers
adds spaceLink view type {{{&lt;&lt;view server.bag spaceLink&gt;&gt;}}} creates a link to the space described in server.bag
{{{&lt;&lt;view server.bag spaceLink title&gt;&gt;}}} makes a link to the tiddler with title expressed in the field title in space server.bag
If no name is given eg. {{{&lt;&lt;following&gt;&gt;}}} or {{{&lt;&lt;follow&gt;&gt;}}} it will default the current user.
!StyleSheet
.followTiddlersList li {
	list-style:none;
}

.followButton {
	width: 2em;
}

.followTiddlersList li .siteIcon {
	height:48px;
	width: 48px;
}

#sidebarTabs .followers li a,
.followers .siteIcon,
.followers .siteIcon div {
	display: inline;
}

.followTiddlersList li .externalImage, .followTiddlersList li .image {
	display: inline;
}

.scanResults li {
	list-style: none;
}
!Code
***/
//{{{
(function($) {
var LIMIT_FOLLOWING = 100;

var tweb = config.extensions.tiddlyweb;
var tiddlyspace = config.extensions.tiddlyspace;
var currentSpace = tiddlyspace.currentSpace.name;

var shadows = config.shadowTiddlers;
config.annotations.ScanTemplate = "This tiddler is the default template used in the display of tiddlers founding using the tsScan macro. To access attributes use the view macro e.g. {{{&lt;&lt;view title text&gt;&gt;}}}";
shadows.ScanTemplate = "&lt;&lt;view modifier SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; &lt;&lt;view title link&gt;&gt;";
shadows.FollowersTemplate = "&lt;&lt;view server.bag SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; &lt;&lt;view server.bag spaceLink&gt;&gt;";
shadows.FollowingTemplate = "&lt;&lt;view title SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; &lt;&lt;view title spaceLink&gt;&gt;";
shadows.FollowTiddlersBlackList = "";
shadows.FollowTiddlersHeading = "There are tiddlers in spaces you follow using the follow tag which use the title &lt;&lt;view title text&gt;&gt;";
shadows.FollowTiddlersTemplate = ["* &lt;&lt;view server.space SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; ",
	"&lt;&lt;view server.space spaceLink title external:no&gt;&gt; modified by &lt;&lt;view modifier spaceLink&gt;&gt; ",
	"in the &lt;&lt;view server.space spaceLink&gt;&gt; space (&lt;&lt;view modified date&gt;&gt; @ &lt;&lt;view modified date 0hh:0mm&gt;&gt;).\n"].join("");

var name = "StyleSheetFollowing";
shadows[name] = "/*{{{*/\n%0\n/*}}}*/".
	format(store.getTiddlerText(tiddler.title + "##StyleSheet"));
store.addNotification(name, refreshStyles);

// provide support for sucking in tiddlers from the server
tiddlyspace.displayServerTiddler = function(src, title, workspace, callback) {
	var adaptor = store.getTiddlers()[0].getAdaptor();
	var localTitle = tiddlyspace.getLocalTitle(title, workspace);
	var tiddler = new Tiddler(localTitle);
	tiddler.text = "Please wait while this tiddler is retrieved...";
	tiddler.fields.doNotSave = "true";
	store.addTiddler(tiddler);
	src = story.displayTiddler(src || null, tiddler.title);
	tweb.getStatus(function(status) {
		var context = {
			host: tweb.host, // TODO: inherit from source tiddler?
			workspace: workspace,
			headers: { "X-ControlView": "false" }
		};
		var getCallback = function(context, userParams) {
			var tiddler = context.tiddler;
			tiddler.title = localTitle;
			store.addTiddler(tiddler);
			story.refreshTiddler(localTitle, null, true); // overriding existing allows updating
			if(callback) {
				callback(src, tiddler);
			}
		};
		adaptor.getTiddler(title, context, null, getCallback);
	});
};

tiddlyspace.scroller = {
	runHandler: function(title, top, bottom, height) {
		var i;
		var handlers = tiddlyspace.scroller.handlers;
		var tidEl = story.getTiddler(title);
		if(tidEl) {
			var topEl = $(tidEl).offset().top + 20;
			if(top === false || (topEl &gt; top &amp;&amp; topEl &lt; bottom)) {
				var h = handlers[title];
				for(i = 0; i &lt; h.length; i++) {
					h[i]();
				}
				tiddlyspace.scroller.clearHandlers(title);
			}
		} else {
			tiddlyspace.scroller.clearHandlers(title);
		}
	},
	clearHandlers: function(title) {
		tiddlyspace.scroller.handlers[title] = [];
	},
	registerIsVisibleEvent: function(title, handler) {
		tiddlyspace.scroller.handlers[title] = tiddlyspace.scroller.handlers[title] || [];
		tiddlyspace.scroller.handlers[title].push(handler);
	},
	init: function() {
		this.handlers = {};
		this.interval = window.setInterval(function() {
			var top = $(window).scrollTop();
			var height = $(window).height();
			var bottom = top + height;
			var title;
			for(title in tiddlyspace.scroller.handlers) {
				if(title) {
					tiddlyspace.scroller.runHandler(title, top, bottom, height);
				}
			}
		}, 2000); // every 2 seconds check scroll position
	}
};
tiddlyspace.scroller.init();

var followMacro = config.macros.followTiddlers = {
	locale: {
		followListHeader: "Here are tiddlers from spaces you follow using the follow tag which use this title.",
		noTiddlersFromFollowers: "None of the spaces you follow contain a tiddler with this name.",
		errorMessage: "There was a problem retrieving tiddlers from the server. Please try again later."
	},
	init: function() {
		followMacro.lookup = {};
	},
	followTag: "follow",
	getHosts: function(callback) {
		tweb.getStatus(function(status) {
			callback(tweb.host, tiddlyspace.getHost(status.server_host, "%0"));
		});
	},
	getBlacklist: function() {
		return store.getTiddlerText("FollowTiddlersBlackList").split("\n");
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var args = paramString.parseParams("anon")[0];
		var containingTiddler = story.findContainingTiddler(place).getAttribute('tiddler');
		var title = (args.anon &amp;&amp; args.anon[0]) || tiddler.fields["server.title"] || tiddler.title;
		var tid = store.getTiddler(title);
		var user = params[1] || false;
		if(tid) {
			followMacro.makeButton(place, {
				url: "/search?q=title:%22" + encodeURIComponent(title) + "%22",
				containingTiddler: containingTiddler,
				blacklisted: followMacro.getBlacklist(), title: title, user: user,
				consultFollowRelationship: (args.follow &amp;&amp;
					args.follow[0] === 'false') ? false : true });
		}
	},
	makeButton: function(place, options) { // this is essentially the same code in TiddlySpaceFollowingPlugin
		var title = options.title;
		var blacklisted = options.blacklisted;
		var tiddler = store.getTiddler(title);
		var btn = $('&lt;div class="followButton" /&gt;').addClass("notLoaded").appendTo(place)[0];
		if(blacklisted.contains(title)) {
			$(btn).remove();
			return;
		} else {
			var user = options.user;
			window.setTimeout(function() { // prevent multiple calls due to refresh
				tiddlyspace.scroller.registerIsVisibleEvent(options.containingTiddler, function() {
					var mkButton = function(followers, ignore) {
						if(!followers &amp;&amp; !ignore) {
							$(btn).remove();
						} else {
							$("&lt;a /&gt;").appendTo(btn);
							var scanOptions = { url: options.url,
								spaceField: options.spaceField || "bag", template: null, sort: "-modified",
								callback: function(tiddlers) {
									$(btn).removeClass("notLoaded");
									followMacro.constructInterface(btn, tiddlers);
								}
							};
							if(!ignore) {
								scanOptions.showBags = followMacro._getFollowerBags(followers);
							}
							scanOptions.hideBags = [tiddler.fields["server.bag"]];
							scanMacro.scan(null, scanOptions, user);
						}
					};
					if(options.consultFollowRelationship) {
						followMacro.getFollowers(mkButton);
					} else {
						mkButton([], true);
					}
				});
			}, 1000);
		}
	},
	constructInterface: function(container, tiddlers) {
		var txt = tiddlers.length;
		var className = txt &gt; 0 ? "hasReplies" : "noReplies";
		var el = $(story.findContainingTiddler(container));
		$(container).empty().addClass(className);
		var btn = $("&lt;a /&gt;").addClass("followedTiddlers").text(txt).
			click(function(ev) {
				followMacro.followingOnClick(ev);
			}).appendTo('&lt;div class="followedTiddlers" /&gt;').appendTo(container)[0];
		$.data(btn, "tiddlers", tiddlers);
	},
	followingOnClick: function(ev) {
		var target = ev.target;
		var locale = followMacro.locale;
		var el = $('&lt;div class="followTiddlersList" /&gt;')[0];
		var popup = Popup.create(target,"div");
		$(popup).addClass("taggedTiddlerList followList").click(function(ev) { // make it so only clicking on the document outside the popup removes the popup
			if(ev.target.parentNode != document) {
				ev.stopPropagation();
			}
		}).append(el);
		var tiddlers = $.data(target, "tiddlers") || [];
		scanMacro.template(el, tiddlers.slice(0,1), "FollowTiddlersHeading");
		scanMacro.template(el, tiddlers, "FollowTiddlersTemplate");
		if(tiddlers.length === 0) {
			$("&lt;li /&gt;").text(locale.noTiddlersFromFollowers).appendTo(el);
		}
		Popup.show();
		ev.stopPropagation();
		return popup;
	},
	_getFollowerBags: function(followers) { // XXX: private or not?
		return $.map(followers, function(name, i) {
			return name != currentSpace ? "%0_public".format(name) : null;
		});
	},
	getFollowers: function(callback, username) {
		// returns a list of spaces being followed by the existing space
		var followersCallback = function(user) {
			if(!user.anon) {
				scanMacro.scan(null, { 
					url: "/search?q=bag:%0_public tag:%1 _limit:%2".format(user.name, followMacro.followTag, LIMIT_FOLLOWING),
					spaceField: "title", template: null, cache: true,
					callback: function(tiddlers) {
						var followers = [];
						for(var i = 0; i &lt; tiddlers.length; i++) {
							followers.push(tiddlyspace.resolveSpaceName(tiddlers[i].title));
						}
						callback(followers);
					}
				});
			} else {
				callback(false);
			}
		};
		return !username ? tweb.getUserInfo(followersCallback) : followersCallback({ name: username });
	}
};

var scanMacro = config.macros.tsScan = {
	init: function () {
		this.scanned = {};
	},
	_tiddlerfy: function(jsontiddlers, options) {
		var tiddlers = [];
		var spaceField = options.spaceField || "bag"; // TODO: phase out use view types instead
		$.each(jsontiddlers, function(i, t) {
			var use = false;
			if(!options.showBags || (options.showBags &amp;&amp; options.showBags.contains(t.bag))) {
				use = true;
			}
			if(options.hideBags &amp;&amp; options.hideBags.contains(t.bag)) {
				use = false;
			}
			if(use) {
				var spaceName = t[spaceField];
				var tiddler = config.adaptors.tiddlyweb.toTiddler(t, tweb.host);
				tiddler.fields["server.space"] = tiddlyspace.resolveSpaceName(spaceName);
				tiddlers.push(tiddler);
			}
		});
		return tiddlers;
	},
	_scanCallback: function(place, jsontiddlers, options) {
		var locale = followersMacro.locale;
		var tiddlers = scanMacro._tiddlerfy(jsontiddlers, options);
		
		if(options.sort) {
			tiddlers = store.sortTiddlers(tiddlers, options.sort);
		}
		if(options.filter) {
			var _store = new TiddlyWiki();
			config.lastStore = _store;
			for(var i = 0; i &lt; tiddlers.length; i++) {
				var clone = tiddlers[i];
				clone.title = tiddlyspace.getLocalTitle(clone.title, clone.fields['server.workspace']);
				_store.addTiddler(clone);
			}
			tiddlers = _store.filterTiddlers(options.filter);
		}
		if(place) {
			$(place).empty();
			var list = $("&lt;ul /&gt;").appendTo(place)[0];
			scanMacro.template(list, tiddlers, options.template);
			if(tiddlers.length === 0) {
				$("&lt;li /&gt;").text(options.emptyMessage || locale.noone).appendTo(list);
				$(list).addClass("emptyList");
			}
		}
		if(options.callback) {
			options.callback(tiddlers);
		}
	},
	constructSearchUrl: function(host, options) {
		if(options.url) {
			return options.url;
		}
		var inputs = options.searchValues;
		var tag = options.tag;
		var searchField = options.searchField || "title";
		var searchQuery = [];
		for(var i = 0; i &lt; inputs.length; i++) {
			searchQuery.push('%0:"%1"'.format(searchField, inputs[i]));
		}
		var query = searchQuery.join(" OR ");
		query = tag ? "(%0) AND tag:%1".format(query, tag) : query;
		query = options.query ? "%0;%1;".format(query, options.query) : query;
		query = options.fat ? "%0&amp;fat=1".format(query) : query;
		return '%0/search?q=%1'.format(host, query);
	},
	scan: function(place, options) { // TODO: make use of list macro with url filter
		var locale = followersMacro.locale;
		options.template = options.template ? options.template : "ScanTemplate";
		followMacro.getHosts(function(host, tsHost) {
			$(place).text(followersMacro.locale.pleaseWait);
			options = options ? options: {};
			var url = scanMacro.constructSearchUrl(host, options);
			if(options.cache &amp;&amp; scanMacro.scanned[url]) {
				var tiddlers = scanMacro.scanned[url].tiddlers;
				var run = function(tiddlers) {
					scanMacro._scanCallback(place, tiddlers, options);
				};
				if(tiddlers) {
					run(tiddlers);
				} else {
					scanMacro.scanned[url].callbacks.push(run);
				}
			} else {
				var callback = function(tiddlers) {
					scanMacro._scanCallback(place, tiddlers, options);
				};
				if(scanMacro.scanned[url] &amp;&amp; scanMacro.scanned[url].callbacks) {
					scanMacro.scanned[url].callbacks.push(callback);
				} else {
					scanMacro.scanned[url] = {
						callbacks: [callback]
					};
				}
				ajaxReq({
					url: url,
					dataType: "json",
					success: function(tiddlers) {
						scanMacro.scanned[url].tiddlers = tiddlers;
						var callbacks = scanMacro.scanned[url].callbacks;
						while(callbacks.length &gt; 0) {
							callbacks.pop()(tiddlers);
						}
					},
					error: function(xhr) {
						$(place).empty();
						$("&lt;span /&gt;").addClass("annotation error").text(locale.error.format(xhr.status)).appendTo(place);
					}
				});
			}
		});
	},
	template: function(place, tiddlers, template) { // TODO: make use of list macro.
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = tiddlers[i];
			var item = $('&lt;li class="spaceName" /&gt;').appendTo(place)[0];
			var spaceName = tiddler.fields["server.space"] || "";
			var templateText = store.getTiddlerText(template).replace(/\$1/mg, spaceName);
			wikify(templateText, item, null, tiddler);
		}
	},
	getOptions: function(paramString, tiddler) {
		var args = paramString.parseParams("name", null, true, false, true)[0];
		var options = { query: false, sort: false, tag: false, template: false, showBags: args.show || false,
			hideBags: args.hide || false, filter: false, spaceField: "bag", searchField: "title", fat: false,
			emptyMessage: false };
		for(var name in args) {
			if(name != "name") {
				if(name == "fat") {
					options[name] = true;
				} else {
					options[name] = args[name][0];
				}
			}
		}
		// if user has set searchField to modifier, then use the modifiers value if available otherwise use searchValues.
		var searchField = options.searchField;
		var searchValues = args[searchField] ? args[searchField] : args.searchValues;
		// if neither of those were used use the first parameter
		var defaultValues = tiddler ? [ tiddler.title ] : [];
		options.searchValues = searchValues ? searchValues : ( args.name ? [args.name[0]] : defaultValues);
		return options;
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var container = $("&lt;div /&gt;").addClass("scanResults resultsArea").appendTo(place)[0];
		var options = scanMacro.getOptions(paramString, tiddler);
		scanMacro.scan(container, options);
	}
};

var followersMacro = config.macros.followers = {
	locale: {
		loggedOut: "Please login to see the list of followers",
		noSupport: "We were unable to retrieve followers as your browser does not support following.",
		pleaseWait: "Please wait while we look this up...",
		error: "Error %0 occurred whilst retrieving data from server",
		noone: "None."
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var locale = followersMacro.locale;
		var args = paramString.parseParams("name", null, true, false, true)[0];
		var username = args.name ? args.name[0] : false;
		var container = $('&lt;div class="followers" /&gt;').text(locale.pleaseWait).
			appendTo(place)[0];
		var followersCallback = function(user) {
			if(user.anon) {
				$("&lt;span /&gt;").text(locale.loggedOut).appendTo(container);
			} else {
				var options = scanMacro.getOptions(paramString);
				$.extend(options, {
					url: "/search?q=title:@%0 OR title:%0 tag:%1 _limit:%2".
						format(user.name, followMacro.followTag, LIMIT_FOLLOWING),
					spaceField: "bag",
					template: options.template ? options.template : "FollowersTemplate"
				});
				scanMacro.scan(container, options);
			}
		};
		return !username ? followersCallback({ name: currentSpace }) : followersCallback({ name: username });
	}
};

var followingMacro = config.macros.following = {
	locale: {
		pleaseWait: followersMacro.locale.pleaseWait,
		loggedOut: "Please login to see who you are following",
		noSupport: followersMacro.locale.noSupport,
		error: followersMacro.locale.error,
		noone: followersMacro.locale.noone
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var locale = followingMacro.locale;
		var args = paramString.parseParams("name", null, true, false, true)[0];
		var fat = args.fat ? true : false;
		var username = args.name ? args.name[0] : false;
		var container = $('&lt;div class="following" /&gt;').text(locale.pleaseWait).
			appendTo(place)[0];
		var followingCallback = function(user) {
			if(user.anon) {
				$("&lt;span /&gt;").text(locale.loggedOut).appendTo(container);
			} else {
				var options = scanMacro.getOptions(paramString);
				$.extend(options, {
					url: "/search?q=bag:%0_public tag:%1 _limit:%2".format(user.name, followMacro.followTag, LIMIT_FOLLOWING),
					spaceField: "title",
					template: options.template ? options.template : "FollowingTemplate"
				});
				scanMacro.scan(container, options);
			}
		};
		return !username ? followingCallback({ name: currentSpace }) : followingCallback({ name: username });
	}
};

var linkedMacro = config.macros.linkedTiddlers = {
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var args = paramString.parseParams("anon")[0];
		var title = params[0] || tiddler.fields["server.title"] || tiddler.title;
		var tid = store.getTiddler(title);
		var containingTiddler = story.findContainingTiddler(place).getAttribute('tiddler');
		if(tid) {
			followMacro.makeButton(place, {
				spaceField: "recipe",
				url: "/bags/%0/tiddlers/%1/backlinks".format(tid.fields['server.bag'],
					encodeURIComponent(tid.title)),
				blacklisted: followMacro.getBlacklist(),
				title: title,
				containingTiddler: containingTiddler,
				user: params[1] || false,
				consultFollowRelationship: args.follow ? true : false });
		}
	}
};

if(config.options.chkFollowTiddlersIsLinkedTiddlers) {
	merge(config.macros.followTiddlers, config.macros.linkedTiddlers);
	config.shadowTiddlers.FollowTiddlersHeading = "These are the other tiddlers that link to this tiddler.";
}

})(jQuery);
//}}}</pre>
</div>
<div title="SystemSettings" server.title="SystemSettings" server.page.revision="2587335" server.etag="&quot;zhucebuliaogyx_private/SystemSettings/2587335:c0459ce8864bbabd5a9ade21afa5088926532ab8&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_private" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_private" server.permissions="read, write, create, delete" server.content-type="" modified="20161125071317" created="20160907122404" tags="excludeLists" _hash="1720b805c0408fb371f3e66ca349c2c80a668005">
<pre>chkPrivateMode: false</pre>
</div>
<div title="StyleSheetTiddlySpace" server.title="StyleSheetTiddlySpace" server.page.revision="1521919" server.etag="&quot;system-theme_public/StyleSheetTiddlySpace/1521919:a994ac6616455305201d38ccc631ae7f7939fd79&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-theme_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-theme_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch" _hash="3150bd9a2cb78777f61a7b6f6539c5fa646fd7ac">
<pre>/*{{{*/
body {
	font-size: 1em;
	font-family: helvetica, arial, sans-serif;
	background-color: #fff;
	color: [[ColorPalette::Foreground]];
}

body ul { margin: 0; }

#popup {
	background-color: [[ColorPalette::TertiaryPale]];
}

#popup.confirmationPopup, .followList {
	font-size: 0.8em;
	padding: 1em;
	border: solid 1px [[ColorPalette::SecondaryMid]];
	background-color: [[ColorPalette::SecondaryPale]];
}

.followList .listTitle {
	text-decoration: underline;
}

#popup .followTiddlersList a {
	display: inline;
	padding: 0;
}

#popup li a {
	color: [[ColorPalette::PrimaryMid]];
	font-weight: bold;
}

#popup li a:hover {
	color: [[ColorPalette::PrimaryPale]];
	background: [[ColorPalette::PrimaryMid]];
}

#popup li.listTitle {
	border-bottom: 1px solid #000;
	font-weight: bold;
	margin-bottom: 10px;
}

#popup.followList {
	margin-left: 50px;
	margin-top: -30px;
}

.followTiddlersList .label {
	display: block;
	left: 10px;
	top: 0px;
	line-height: 16px;
	position: relative;
}

#popup .followTiddlersList .siteIcon{
	height: auto;
}

#popup .followTiddlersList li{
	clear: both;
	display: block;
	height: 48px;
	margin-bottom: 8px;
	position: relative;
}

#popup .followTiddlersList a{
	display: inline;
}

#displayArea {
	margin: 0;
	top: 0px;
	left: 0px;
	width: 100%;
	position: relative;
}

.revisionCloak {
	position: absolute;
	position: fixed !important;
	height: 100%;
	width: 100%;
	top: 0;
	left: 0;
	border: 0;
	margin: 0;
	padding: 0;
	opacity: 0.5;
	filter: alpha(opacity=50);
	background-color: #000;
}

/* *** Header *** */
.header {
	position: relative;
	background-color: [[ColorPalette::PrimaryMid]];
	_width: 100%; /* ie 6 demands */
}

.headerForeground {
	background-color: [[ColorPalette::PrimaryMid]];
	float: left;
	margin: 24px 16px 0px 72px;
	padding: 0;
	position: relative;
	top: 0;
	_width: 70%; /*ie6: needed for the background to actually be transparent*/
	_background-color: transparent; /*ie6: needed to show the search box*/
}

.clearFloat {
	clear: both;
}

#contentWrapper {
	position: relative;
	padding-top: 1px;
	top: -1px;
}

#tiddlerDisplay {
	_position: relative; /* ie 6*/
}

.siteTitle {
	clear: both;
	display: block;
	font-size: 32px;
	font-weight: bold;
	line-height: 32px;
}

.siteSubtitle {
	display: block;
	font-size: 14px;
	height: 16px;
	margin-bottom: 8px;
}

#sidebarSearch {
	padding: 0;
	position: absolute;
	right: 80px;
	top: 8px;
	width: 176px;
}

#sidebarSearch .txtOptionInput {
	width: 100%;
	margin-top: 5px;
	_color: #bbb; /* ie6 danger */
}

#sidebarSearch .txtOptionInput:focus {
	color: #000;
}

#sidebarSearch .searchButton {
	display: none;
}

/* *** Menu Bar *** */

#mainMenu {
	position: static;
	text-align: left;
	margin-left: 72px;
	float: left;
	width: auto;
	padding: 0;
	font-size: 1em;
	line-height: normal;
}

#mainMenu a {
	color: #fff;
	padding: 8px;
	font-size: 0.9em;
	margin-right: 16px;
}

#mainMenu a:hover {
	background-color: [[ColorPalette::PrimaryMid]];
	color: [[ColorPalette::Background]]
}

#sidebarOptions {
	margin-right: 72px;
	float: right;
	font-size: 1.1em;
	line-height: 1.6em;
	min-height: 1em;
	padding-top: 0;
}

#sidebarOptions a {
	margin-right: 8px;
}

.confirmationPopup .button,
#sidebarOptions .button {
	cursor: pointer;
	line-height: 1.4em;
	text-align: center;
	margin-right: 8px;
	margin-left:-2px;
}

.confirmationPopup .button {
	font-size: 0.9em;
	padding: 2px;
}

#sidebarOptions .button {
	font-size: 0.7em;
	float: left;
	width: 80px;
	padding: 0px;
        color: #fff;
}

.confirmationPopup a.button,
#sidebarOptions a {
	border: none;
	margin: 0 0.2em;
	padding: 0.6em 0.25em;
	display: inline;
	color: #666;
}

.confirmationPopup a.button:hover,
#sidebarOptions a:hover {
	color: #000;
}

.confirmationPopup a.button:active,
#sidebarOptions a:active {
	border: solid 1px [[ColorPalette::PrimaryMid]];
	background-color: #fff;
	background: -webkit-gradient( linear, left bottom, left top, color-stop(0.1,rgb(200,200,200)), color-stop(1, rgb(100,100,100)));
	background: -moz-linear-gradient(center bottom , rgb(200,200,200) 10%,rgb(100,100,100) 100%) repeat scroll 0 0 transparent;
}
/* *** Sidebar *** */

#sidebar .wizard table {
	margin: 0px;
}

.tabContents .listTitle:first-child {
	margin-top: 0px;
}

#menuBar {
	background: [[ColorPalette::PrimaryLight]];
	left: 0;
	right: 0;
	position: relative;
	margin: 0;
	padding: 0.5em 0 0.5em 0;
	min-height: 1em;
	overflow: hidden;
	_width: 100%; /* for ie 6 */
}

#sidebarOptions a.button:hover {
	color: [[ColorPalette::PrimaryPale]];
    background: [[ColorPalette::PrimaryMid]];
}

#tiddlerDisplay, #searchResults {
	margin: 16px 448px 0 72px;
}

#sidebarTabs {
	position: absolute;
	right: 72px;
	width: 352px;
	top: 0;
}

#sidebarTabs .tabsetWrapper .tabset {
	width: 87px;
	border-top: 1px solid [[ColorPalette::PrimaryPale]];
	border-left: 1px solid [[ColorPalette::PrimaryPale]];
	border-bottom: 1px solid [[ColorPalette::PrimaryPale]];
	height: auto;
	float: left;
	word-wrap: break-word;
	top: 0;
	padding: 0;
}

#sidebarTabs .tabsetWrapper .tabContents {
	background-color: [[ColorPalette::PrimaryPale]];
	border: 3px solid [[ColorPalette::PrimaryMid]];
	width: 242px;
	_width: 238px;
	left: -3px;
	_left: -5px;
	position: relative;
	min-height: 34em;
	padding: 8px;
	font-size: 0.8em;
}

/* ---- Side style --- */

#sidebarTabs .tabsetWrapper .tabset .tab {
	font-size: 0.9em;
	padding: 0.7em 8px 0.5em;
	color: #fff;
	background: [[ColorPalette::PrimaryLight]];
	border: none;
	line-height: 16px;
	position: relative;
	display: block;
	margin: 0;
}

#sidebarTabs .tabsetWrapper .tabset .tabSelected {
	color: [[ColorPalette::PrimaryMid]];
	background: [[ColorPalette::PrimaryPale]];
	border-top: 3px solid [[ColorPalette::PrimaryMid]];
	border-bottom: 3px solid [[ColorPalette::PrimaryMid]];
	border-left: 3px solid [[ColorPalette::PrimaryMid]];
	z-index: 10;
	margin-top: -1px;
	font-weight: bold;
}

#sidebarTabs .tabContents li {
	border: none;
	margin-left: 0;
	word-wrap: break-word;
}

.tabContents .timeline {
	background: [[ColorPalette::PrimaryPale]];
	margin-bottom: 8px;
}

#sidebarTabs .timeline li.listTitle {
	color: #132E43;
	margin-left: 8px 0;
	padding: 0.3em 0.11em;
	font-size: 1em;
	border-bottom: none;
}

#sidebarTabs .tabContents li a {
	display: block;
	text-align: left;
	margin: 0 0 1px 0;
	padding: 0.3em 1em;
	background: [[ColorPalette::PrimaryPale]];
}

#sidebarTabs .tabsetWrapper .tabset a:hover,
#sidebarTabs .tabContents li a:hover {
	color: [[ColorPalette::PrimaryPale]];
	background: [[ColorPalette::PrimaryMid]];
}

/* Activity Stream */
#sidebarTabs .tabContents .activityStream .feedItem a {
	display: inline-block;
	padding: 0;
	background: none;
}

/* ---- Tagging box --- */
.tagInfo {
	border: 1px solid #cccccc;
	padding: 10px 15px;
	-moz-box-shadow: 0 2px 2px rgba(0, 0, 0, 0.2);
	box-shadow: 0 2px 2px rgba(0,0,0,0.2);
	color: [[ColorPalette::TertiaryMid]];
	background: -moz-linear-gradient(100% 100% 90deg, #f4f4f4, #e5e5e5);
	background: -webkit-gradient(linear, left top, right top, from(#e5e5e5), to(#f4f4f4));
	margin-top: 1em;
	font-size: 13px;
	margin: 0 0 0 56px;
}

.tagInfo ul {
	list-style: none;
	padding-left: 2.2em;
}

.tagInfo ul li {
	display: inline;
}

.tagInfo ul li.listTitle,
.tagInfo .tagging ul li.listTitle {
	color: [[ColorPalette::PrimaryMid]];
	font-size: 13px;
}

.tagInfo ul li a {
	border: none;
}

.tagInfo .tagging ul li {
	float: none;
	display: inline-block;
}

.tagInfo .tagging {
	padding: 0;
}

.viewRevision .toolbar {
	right: 48px;
	top: 8px;
}

.viewRevision .modifierIcon img,
.viewRevision .modifierIcon svg {
	margin-right: 8px;
}

.viewRevision .toolbar svg {
	width: 32px;
	height: 32px;
}

/* --- IE hacks from lattice --- */

/* ie hacks */
* html #menuBar {
	margin-bottom: 8px;
}
.toolbar .svgIconText {
	*display: inline;
}

div.tiddler .toolbar a {
	cursor: pointer;
	float: left\9;
	display: inline\9;
}

* html .toolbar {
	right: 8px;
}
* html .followButton a {
	margin-top: 0px;
	margin-right: 8px;
}
* html #tiddlerDisplay {
	margin-top: 0px;
}

/* for printing purposes */
@media print {
	#mainMenu,
	#sidebar,
	#messageArea,
	.toolbar,
	.followPlaceHolder,
	#backstageButton,
	#backstageArea,
	#sidebarTabs,
	#sidebarSearch .txtOptionInput,
	#sidebarOptions {
		display: none !important;
	}
	#displayArea {
		margin: 1em 1em 0em;
	}
	noscript {
		display:none; /* Fixes a feature in Firefox 1.5.0.2 where print preview displays the noscript content */
	}
	#tiddlerDisplay {
		margin: 16px 16px;
	}
}

@media all and (max-width: 960px){
	#tiddlerDisplay,
	#searchResults {
		margin: 16px 366px 0 16px;
	}

	#mainMenu {
		margin-left: 16px;
	}

	.headerForeground {
		margin-left: 16px;
	}

	#sidebarSearch {
		right: 16px;
	}

	#sidebarOptions {
		margin-right: 16px;
	}

	#sidebarTabs {
		right: 16px;
		width: 326px;
	}

	#sidebarTabs .tabsetWrapper .tabset {
		font-size: 0.9em;
		width: 77px;
	}

	#sidebarTabs .tabsetWrapper .tabContents {
		width: 226px;
		_width: 222px;
	}

	#sidebarTabs .tabContents li a {
		font-size: 0.9em;
	}
}
/*}}}*/
[[StyleSheetTiddler]]</pre>
</div>
<div title="TiddlySpaceCSRF" server.title="TiddlySpaceCSRF" server.page.revision="1521904" server.etag="&quot;tiddlyspace/TiddlySpaceCSRF/1521904:f85d092da6c9d4b27a43c31c818ce92e79953c46&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/javascript" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch systemConfig" _hash="10b0276ddc805a9489b6449c972bb1dc00fb9cf0">
<pre>(function() {
var getCSRFToken = function(window) {
	// XXX: should not use RegEx - cf.
	// http://www.quirksmode.org/js/cookies.html
	// https://github.com/TiddlySpace/tiddlyspace/commit/5f4adbe009ed4bda3ce39058a3fb07de1420358d
	var regex = /^(?:.*; )?csrf_token=([^(;|$)]*)(?:;|$)/;
	var match = regex.exec(document.cookie);
	var csrf_token = null;
	if (match &amp;&amp; (match.length === 2)) {
		csrf_token = match[1];
	}

	return csrf_token;
};

if (typeof config !== 'undefined' &amp;&amp; config.extensions &amp;&amp;
		config.extensions.tiddlyspace &amp;&amp;
		config.extensions.tiddlyspace.getCSRFToken === null) {
	config.extensions.tiddlyspace.getCSRFToken = getCSRFToken;
} else {
	window.getCSRFToken = getCSRFToken;
}
})(window);</pre>
</div>
<div title="moreCommand" server.title="moreCommand" server.page.revision="1521923" server.etag="&quot;system-images_public/moreCommand/1521923:8324a643abcbaf610eb8535b0a78290f678c0740&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-images_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-images_public" server.permissions="read" server.content-type="image/svg+xml" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch" _hash="83f02e8680765ba08fd5764a7627f51cdd4b7f0d">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="434 218 68 68"
width="30" height="30"&gt;
&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;
	&lt;g&gt;
		&lt;path d="M 478.39694 232.53705 L 478.39694 232.53705 
		C 477.1145 231.85132 475.77875 231.30147 474.41058 230.88734 L 474.41058 218.24994 L 461.58942 218.24994 
		L 461.58942 230.88734 C 460.22125 231.30147 458.8855 231.85132 457.60306 232.53705 L 448.66824 223.60214 
		L 439.6022 232.66814 L 448.53717 241.60304 C 447.8515 242.8854 447.30157 244.22116 446.88745 245.58936 
		L 434.25 245.58936 L 434.25 258.41052 L 446.88745 258.41052 
		C 447.30157 259.77869 447.8515 261.11447 448.53717 262.39688 L 439.6022 271.33173 L 448.66824 280.3978 
		L 457.60306 271.46283 C 458.8855 272.14862 460.22125 272.69846 461.58942 273.11252 L 461.58942 285.74988 
		L 474.41058 285.74988 L 474.41058 273.11252 C 475.77875 272.69846 477.1145 272.14862 478.39694 271.46283 
		L 487.33176 280.3978 L 496.39767 271.33173 L 487.46286 262.39688 
		C 488.14853 261.11447 488.69836 259.77869 489.11255 258.41052 L 501.74988 258.41052 L 501.74988 245.58936 
		L 489.11255 245.58936 C 488.69836 244.22116 488.14853 242.8854 487.46286 241.60304 L 496.39767 232.66814 
		L 487.33176 223.60214 Z M 475.3328 244.66714 C 479.3825 248.71698 479.3825 255.2829 475.3328 259.33273 
		C 471.28296 263.3826 464.71704 263.3826 460.66724 259.33273 
		C 456.61737 255.2829 456.61737 248.71698 460.66724 244.66714 
		C 464.71704 240.61734 471.28296 240.61734 475.3328 244.66714" fill="#111"
		class="glyph"/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="第四次作业" server.title="第四次作业" server.page.revision="2576745" server.etag="&quot;zhucebuliaogyx_public/%E7%AC%AC%E5%9B%9B%E6%AC%A1%E4%BD%9C%E4%B8%9A/2576745:7acf92d7928b2a550144d6957b210b940a5a1d55&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161025154244" created="20161025154244" tags="14信管作业" _hash="b63729411f1311479e321f631bfd9726c894256d">
<pre>&lt;html&gt;
&lt;h1&gt;&lt;title&gt; wiki工具比较&lt;/title&gt;&lt;/h1&gt;
&lt;body&gt;


Midgard Wiki与MindTouch进行比较&lt;br/&gt;&lt;br/&gt;
（1）特征：&lt;br/&gt;
共同点：&lt;br/&gt;
都是完整的wiki工具；最新版本是2016年发布的；通过数据库进行数据存储&lt;br/&gt;
不同点：&lt;br/&gt;
Midgard Wiki是免费且开源的wiki工具，而MT不是。&lt;br/&gt;
MW建立在LGPL许可上，而MT则建立在GPL和LGPL共同许可上。&lt;br/&gt;
MW平台只运用PHP语言进行编程构建，而MT结合了PHP,C# on Mono两种。&lt;br/&gt;
MW运行是免费的，而MT需要通过用户订阅缴费来维持。&lt;br/&gt;
MW的目标受众是小型用户组和公司，还有所有CMS的用户，而MT则是开发者、系统集成商、企业决策者、IT专业人员、相关技术专家、从有技术的用户到任何没有技术的人。&lt;br/&gt;
（2）托管功能：由于MW没有提供相关资料，此处只陈述MT的需求。&lt;br/&gt;
MT平台中对主题有一定的限制，有固定讨论的领域，同时接受广告商的企业品牌推广。&lt;br/&gt;
（3）系统需求：&lt;br/&gt;
相同点：两者的访问用户都能进行根访问。&lt;br/&gt;
不同点：&lt;br/&gt;
MW支持Linux,Unix,Mac OS X三个操作系统，而MT只支持SAAS系统。&lt;br/&gt;
MW的网络服务器只有Apache，而MT拥有Apache 和IIS服务器。&lt;br/&gt;
（4）数据存储：&lt;br/&gt;
MW的数据存储依靠MySQL和PCS,而MT建立在MySQL上。&lt;br/&gt;
&lt;br/&gt;&lt;br/&gt;
&lt;/body&gt;

&lt;/html&gt;
</pre>
</div>
<div title="SideBarOptions" server.title="SideBarOptions" server.page.revision="1521921" server.etag="&quot;system-theme_public/SideBarOptions/1521921:8ab69b6f001b83d6c986c18584db985d43f35159&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-theme_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-theme_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch" _hash="6516f71685d10be266a599f46d8dcf1c658225d0">
<pre>&lt;&lt;closeAll&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;newTiddler&gt;&gt;</pre>
</div>
<div title="shadowIcon" server.title="shadowIcon" server.page.revision="1521926" server.etag="&quot;system-images_public/shadowIcon/1521926:0d276bbb062f81c1e676dda3bedc04ab6e5c6ee0&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-images_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-images_public" server.permissions="read" server.content-type="image/png" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch" _hash="754f7258625a19c375dcae5254d6a604c7686d8d">
<pre>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</pre>
</div>
<div title="ViewTemplate" server.title="ViewTemplate" server.page.revision="1521912" server.etag="&quot;system-theme_public/ViewTemplate/1521912:c89b92b4ac77a9fbab3b26923bb35bf820629db5&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-theme_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-theme_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch" _hash="77bbe9ac7998547867eb4ef4aca07906fa2323e8">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar'
	macro='toolbar [[ToolbarCommands::ViewToolbar]] icons:yes height:16 width:16 more:popup'&gt;
&lt;/div&gt;
&lt;div class='heading'&gt;
	&lt;span class='spaceSiteIcon'
		macro='tiddlerOrigin label:no spaceLink:yes height:48 width:48 preserveAspectRatio:yes'&gt;
	&lt;/span&gt;
	&lt;span class="titleBar"&gt;
		&lt;div class='title' macro='view title text'&gt;&lt;/div&gt;
		&lt;span class="subtitle" macro='viewRevisions page:5'&gt;
			last modified on
			&lt;span macro="view modified date"&gt;&lt;/span&gt;
		&lt;/span&gt;
		&lt;div macro="view title replyLink"&gt;&lt;/div&gt;
	&lt;/span&gt;
	&lt;span class='followPlaceHolder' macro='followTiddlers'&gt;&lt;/span&gt;
	&lt;span class='modifierIcon'
		macro='view modifier SiteIcon label:no spaceLink:yes height:48 width:48 preserveAspectRatio:yes'&gt;
	&lt;/span&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='content'&gt;
	&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='tagInfo'&gt;
	&lt;div class='tidTags' macro='tags'&gt;&lt;/div&gt;
	&lt;div class='tagging' macro='tagging'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="zhucebuliaogyxSetupFlag" server.title="zhucebuliaogyxSetupFlag" server.page.revision="2566688" server.etag="&quot;zhucebuliaogyx_public/zhucebuliaogyxSetupFlag/2566688:d4d2b0bd6c3b21ec720d92eb9a3eb6fd2e37b56a&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20160927132927" created="20160927132927" tags="excludeLists excludePublisher excludeSearch" _hash="378e7c4224d9b9ed97947eefce1fab45a0a71696" tiddlyspaceinit_version="0.6">
<pre>@@Please do not modify this tiddler; it was created automatically upon space creation.@@</pre>
</div>
<div title="MainMenu" server.title="MainMenu" server.page.revision="2587363" server.etag="&quot;zhucebuliaogyx_public/MainMenu/2587363:ce8b46f6827ea47f609c95934939462e1d4275dd&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161125073237" created="20160927134259" tags="14信管作业" _hash="7eb7930578533a471df2a7610ad2bef22e5863dc">
<pre>[[你看过了许多美景]][[你看过了许多美女]][[你迷失在地图上每一道短暂的光阴]][[作业合集]]</pre>
</div>
<div title="HARD CARRY 二倍速" server.title="HARD CARRY 二倍速" server.page.revision="2577744" server.etag="&quot;zhucebuliaogyx_public/HARD%20CARRY%20%E4%BA%8C%E5%80%8D%E9%80%9F/2577744:7cad684b85ef4683202356381e0d65fbfb81c0e7&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161027152117" created="20161027152117" tags="got7 [[hard carry]]" _hash="2969ab2f5c9514188e0c795a67759bfda5257d35">
<pre>&lt;html&gt;
&lt;body&gt;

&lt;embed height="500" width="600" quality="high" allowfullscreen="true" type="application/x-shockwave-flash" src="http://static.hdslb.com/miniloader.swf" flashvars="aid=6501844&amp;page=1" pluginspage="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash"&gt;&lt;/embed&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="editTiddler" server.title="editTiddler" server.page.revision="1521932" server.etag="&quot;system-images_public/editTiddler/1521932:ae76b7a01d626a35267bf2383b1da6e7ced0e334&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-images_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-images_public" server.permissions="read" server.content-type="image/svg+xml" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch" _hash="3083cb53eb17cc9c4f3863af070aac156272cef1">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="301 225 48 52"
width="30" height="30"&gt;
&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;
	&lt;g&gt;
		&lt;path d="M 333.00003 234 L 306 258.75003 L 301.5 270 L 312.75 265.50003 L 339.75 240.74998 Z M 337.5 229.50002 
		L 335.24988 231.75008 L 341.99997 238.50003 L 344.24997 236.24995 Z M 342 225.00003 L 339.74988 227.25009 
		L 346.5 234.00005 L 348.75 231.75003 Z M 301.5 273.9719 C 301.5 273.9719 309.59888 277.99927 317.70013 273.97183 
		C 325.80066 269.94437 341.99997 276.65686 341.99997 276.65686 L 341.99997 273.97195 
		C 341.99997 273.97195 325.80014 267.2594 317.70013 271.28687 C 309.6 275.31451 301.5 271.28683 301.5 271.28683 Z" 
		fill="#101010" class="glyph"/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="chrjs" server.title="chrjs" server.page.revision="1521886" server.etag="&quot;tiddlyspace/chrjs/1521886:f611c06e6a57a7462aa69b350e3fb1f336ca3f38&quot;" modifier="None" creator="None" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/javascript" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch systemConfig" _cache-max-age="43200" _hash="21f8cd31fb5331db45ab9f2cfbaeb97c6cdf38a9">
<pre>/***
https://raw.github.com/tiddlyweb/chrjs/master/main.js
***/
//{{{
// TiddlyWeb adaptor
// v0.14.3

/*jslint vars: true, unparam: true, nomen: true, white: true */
/*global jQuery */

var tiddlyweb = (function($) {

"use strict";

var tw = {
	routes: {
		// host is the TiddlyWeb instance's URI (including server_prefix)
		// placeholders "_type" &amp; "name" refer to the respective bag/recipe
		root     : "{host}/",
		bags     : "{host}/bags",
		bag      : "{host}/bags/{name}",
		recipes  : "{host}/recipes",
		recipe   : "{host}/recipes/{name}",
		tiddlers : "{host}/{_type}s/{name}/tiddlers",
		tiddler  : "{host}/{_type}s/{name}/tiddlers/{title}",
		revisions: "{host}/{_type}s/{name}/tiddlers/{title}/revisions",
		revision : "{host}/{_type}s/{name}/tiddlers/{title}/revisions/{revision}",
		search   : "{host}/search?q={query}"
	}
};

var convertTimestamp, supplant;

// host (optional) is the URI of the originating TiddlyWeb instance
tw.Resource = function(type, host) {
	if(arguments.length) { // initialization
		this._type = type;
		if(host !== false) {
			this.host = host !== undefined ? host.replace(/\/$/, "") : null;
		}
	}
};
$.extend(tw.Resource.prototype, {
	// retrieves resource from server
	// callback is passed resource, status, XHR (cf. jQuery.ajax success)
	// errback is passed XHR, error, exception, resource (cf. jQuery.ajax error)
	// filters is an optional filter string (e.g. "select=tag:foo;limit=5")
	get: function(callback, errback, filters) {
		var uri = this.route();
		if(filters) {
			var separator = uri.indexOf("?") === -1 ? "?" : ";";
			uri += separator + filters;
		}
		var self = this;
		return $.ajax({
			url: uri,
			type: "GET",
			dataType: "json",
			success: function(data, status, xhr) {
				var resource = self.parse(data);
				resource.etag = xhr.getResponseHeader("Etag");
				callback(resource, status, xhr);
			},
			error: function(xhr, error, exc) {
				errback(xhr, error, exc, self);
			}
		});
	},
	// sends resource to server
	// callback is passed data, status, XHR (cf. jQuery.ajax success)
	// errback is passed XHR, error, exception, resource (cf. jQuery.ajax error)
	put: function(callback, errback) {
		var self = this;
		var options = {
			url: this.route(),
			type: "PUT",
			contentType: "application/json",
			data: JSON.stringify(this.baseData()),
			success: function(data, status, xhr) {
				callback(self, status, xhr);
			},
			error: function(xhr, error, exc) {
				errback(xhr, error, exc, self);
			}
		};
		if(this.ajaxSetup) {
			this.ajaxSetup(options);
		}
		return $.ajax(options);
	},
	// deletes resource on server
	// callback is passed data, status, XHR (cf. jQuery.ajax success)
	// errback is passed XHR, error, exception, resource (cf. jQuery.ajax error)
	"delete": function(callback, errback) {
		var self = this;
		var options = {
			url: this.route(),
			type: "DELETE",
			success: function(data, status, xhr) {
				callback(self, status, xhr);
			},
			error: function(xhr, error, exc) {
				errback(xhr, error, exc, self);
			}
		};
		if(this.ajaxSetup) {
			this.ajaxSetup(options);
		}
		return $.ajax(options);
	},
	// returns an object carrying only the essential information of the resource
	baseData: function() {
		var data = {},
			self = this;
		$.each(this.data, function(i, item) {
			var value = self[item];
			if(value !== undefined) {
				data[item] = value;
			}
		});
		return data;
	},
	// returns corresponding instance from a raw object (if applicable)
	parse: function(data) {
		return data;
	},
	// list of accepted keys in serialization
	data: [],
	// returns resource's URI
	route: function() {
		return supplant(tw.routes[this._type], this);
	}
});

var Container = function(type, name, host) {
	if(arguments.length) { // initialization
		tw.Resource.apply(this, [type, host]);
		this.name = name;
		this.desc = "";
		this.policy = new tw.Policy({});
	}
};
Container.prototype = new tw.Resource();
$.extend(Container.prototype, {
	tiddlers: function() {
		return new tw.TiddlerCollection(this);
	},
	parse: function(data) {
		var type = tw._capitalize(this._type),
			container = new tw[type](this.name, this.host);
		data.policy = new tw.Policy(data.policy);
		return $.extend(container, data);
	},
	data: ["desc", "policy"]
});

// attribs is an object whose members are merged into the instance (e.g. query)
tw.Collection = function(type, host, attribs) {
	if(arguments.length) { // initialization
		tw.Resource.apply(this, [type, host]);
		$.extend(this, attribs);
	}
};
tw.Collection.prototype = new tw.Resource();

tw.TiddlerCollection = function(container, tiddler) {
	if(arguments.length) { // initialization
		tw.Collection.apply(this, [tiddler ? "revisions" : "tiddlers"]);
		this.container = container || null;
		this.tiddler = tiddler || null;
	}
};
tw.TiddlerCollection.prototype = new tw.Collection();
$.extend(tw.TiddlerCollection.prototype, {
	parse: function(data) {
		var container = this.container;
		return $.map(data, function(item, i) {
			var tiddler = new tw.Tiddler(item.title, container),
				bag = item.bag;
			tiddler = tw.Tiddler.prototype.parse.apply(tiddler, [item]);
			if(!tiddler.bag &amp;&amp; bag) { // XXX: bag always present!?
				tiddler.bag = new tw.Bag(bag, container.host);
			}
			if(!tiddler.recipe &amp;&amp; item.recipe) {
				tiddler.recipe = new tw.Recipe(item.recipe, container.host);
			}
			delete item.recipe;
			return $.extend(tiddler, item);
		});
	},
	route: function() {
		var params = this.container;
		if(this.tiddler) {
			var container = this.tiddler.bag || this.tiddler.recipe;
			params = {
				_type: container._type,
				host: container.host,
				name: container.name,
				title: this.tiddler.title
			};
		}
		return supplant(tw.routes[this._type], params);
	}
});

tw.Search = function(query, host) {
	tw.Collection.apply(this, ["search", host]);
	this.query = query;
};
tw.Search.prototype = new tw.Collection();
$.extend(tw.Search.prototype, {
	parse: function(data) {
		this.container = { // XXX: hacky
			_type: "bag",
			host: this.host
		};
		var tiddlers = tw.TiddlerCollection.prototype.parse.apply(this, arguments);
		delete this.container;
		return tiddlers;
	}
});

// title is the name of the tiddler
// container (optional) is an instance of either Bag or Recipe
// optionally accepts a single object representing tiddler attributes
tw.Tiddler = function(title, container) {
	tw.Resource.apply(this, ["tiddler", false]);
	this.title = title;
	this.bag = container &amp;&amp; container._type === "bag" ? container : null;
	this.recipe = container &amp;&amp; container._type === "recipe" ? container : null;
	var self = this;
	$.each(this.data, function(i, item) {
		self[item] = undefined; // exposes list of standard attributes for inspectability
	});
	if(title &amp;&amp; title.title) { // title is an object of tiddler attributes
		$.extend(this, title);
	}
};
tw.Tiddler.prototype = new tw.Resource();
$.extend(tw.Tiddler.prototype, {
	revisions: function() {
		return new tw.TiddlerCollection(this.bag || this.recipe, this);
	},
	route: function() {
		var container = this.bag || this.recipe;
		var params = $.extend({}, this, {
			host: container ? container.host : null,
			_type: this.bag ? "bag" : (this.recipe ? "recipe" : null),
			name: container ? container.name : null
		});
		return supplant(tw.routes[this._type], params);
	},
	parse: function(data) {
		var tiddler = new tw.Tiddler(this.title),
			container = this.bag || this.recipe;
		if(data.bag) {
			tiddler.bag = new tw.Bag(data.bag, container.host);
			delete data.bag;
		}
		delete data.recipe;
		tiddler.created = data.created ? convertTimestamp(data.created) : new Date();
		delete data.created;
		tiddler.modified = data.modified ? convertTimestamp(data.modified) : new Date();
		delete data.modified;
		if(this.recipe) {
			tiddler.recipe = this.recipe;
		}
		return $.extend(tiddler, data);
	},
	data: ["created", "creator", "modifier", "modified", "tags", "type", "text",
			"fields"],
	ajaxSetup: function(options) {
		var self = this;
		if(this.etag &amp;&amp; (options.type === "PUT" || options.type === "DELETE")) {
			options.beforeSend = function(xhr) {
				xhr.setRequestHeader("If-Match", self.etag);
			};
		}
		if(options.type === "PUT") {
			var callback = options.success;
			options.success = function(data, status, xhr) {
				var loc = xhr.getResponseHeader("Location"),
					etag = xhr.getResponseHeader("Etag");
				if(loc &amp;&amp; etag) {
					self.etag = etag;
					if(!self.bag) {
						var bag = loc.split("/bags/").pop().split("/")[0];
						self.bag = new tw.Bag(bag, self.recipe.host);
					}
					callback(self, status, xhr);
				} else { // IE
					self.get(callback, options.error);
				}
			};
		}
	}
});

tw.Revision = function(id, tiddler) {
	var container = tiddler.bag || tiddler.recipe;
	tw.Tiddler.apply(this, [tiddler.title, container]);
	this._type = "revision";
	this.revision = id;
};
tw.Revision.prototype = new tw.Tiddler();
$.extend(tw.Revision.prototype, {
	revisions: false,
	data: false,
	put: false,
	"delete": false
});

tw.Bag = function(name, host) {
	Container.apply(this, ["bag", name, host]);
};
tw.Bag.prototype = new Container();

tw.Recipe = function(name, host) {
	Container.apply(this, ["recipe", name, host]);
	this.recipe = [];
};
tw.Recipe.prototype = new Container();
$.extend(tw.Recipe.prototype, {
	data: ["recipe"].concat(Container.prototype.data)
});

tw.Policy = function(constraints) { // TODO: validation?
	var self = this;
	$.each(this.constraints, function(i, item) {
		self[item] = constraints[item];
	});
};
tw.Policy.prototype.constraints = ["read", "write", "create", "delete",
	"manage", "accept", "owner"];

/*
 * utilities
 */

tw._capitalize = function(str) {
	return str.charAt(0).toUpperCase() + str.slice(1);
};

// convert YYYYMMDDhhmmss timestamp to Date instance
convertTimestamp = function(t) {
	if (t.match(/^\d{12,17}$/)) {
		return new Date(Date.UTC(
			parseInt(t.substr(0, 4), 10),
			parseInt(t.substr(4, 2), 10) - 1,
			parseInt(t.substr(6, 2), 10),
			parseInt(t.substr(8, 2), 10),
			parseInt(t.substr(10, 2), 10),
			parseInt(t.substr(12, 2) || "0", 10),
			parseInt(t.substr(14, 3) || "0", 10)
		));
	} else {
		return new Date(Date.parse(t));
	}
};

// adapted from Crockford (http://javascript.crockford.com/remedial.html)
supplant = function(str, obj) {
	return str.replace(/{([^{}]*)}/g, function (a, b) {
		var r = obj[b];
		r = typeof r === "string" || typeof r === "number" ? r : a;
		return $.inArray(b, ["host", "query"]) !== -1 ? r : encodeURIComponent(r); // XXX: special-casing
	});
};

return tw;

}(jQuery));
//}}}</pre>
</div>
<div title="favicon.ico" server.title="favicon.ico" server.page.revision="1521895" server.etag="&quot;tiddlyspace/favicon.ico/1521895:2c59eca4bb4e1f625dea72a3cba80431018e2c72&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="image/x-icon" modified="20131111192334" created="20131111192334" tags="excludeLists excludeSearch" _hash="d884f6069c2350d026d57c45dc100c1390bd6112">
<pre>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AP8zZgAAAGYA//8zAADMMwD/mTMAAGYzAP8zMwAAADMAzP8AAADMAADMmQAAAGYAAMwzAAAAAADuzAAA3QAAALvMAACqAAAAiMwAAHcAAABVmQAARAAAACKZAAARAADuAJkA3QAAALsAmQCqAAAAiACZAHcAAABVAJkARAAAACIAZgARAADuAABm3QAAALsAAGaqAAAAiAAAZncAAABVAABmRAAAACIAAGYRAAAA7u7uM93d3QC7u7szqqqqAIiIiDN3d3cAVVVVM0RERAAiIiIzERERAAAAADMBAQEBAQEBAQEBpXl5eXl5eXl5eXmlAQEBAQEBAQEBAQEBAQEBAQEBgHl5eXl5eXl5eXl5eXl5gAEBAQEBAQEBAQEBAQEB/Xp5eXlVT04qKioqTk9VeXl5ev0BAQEBAQEBAQEBAaV5eXlPKioqKioqKioqKioqT3l5eaUBAQEBAQEBAQGAeXlVTioqKioqKioqKioqKioqTlV5eYABAQEBAQEBgHl5VSoqKioqKioqKioqKioqKioqKlV5eYABAQEBAaV5eVUqKioqKioqKioqKioqKioqKioqKlV5eaUBAQEBeXlVKioqKioqKioqKioqKioqKioqKioqKlV5eQEBAXl5eU4qKioqKioqKjExMTExMSoqKioqKioqTnl5eQEBeXlPKioqKioqKjEyMjIyMjIyMjEqKioqKioqT3l5AXp5eSoqKioqKioxMjIxBwcHBzEyMjEqKioqKioqeXl6eXlVKioqKioqMTIxBwcHBwcHBwcxMjEqKioqKipVeXl5eU8qKioqKioyMgcHBwcHBwcHBwcyMioqKioqKk95eXl5TioqKioqMTIxBwcHBwcHBwcHBzEyMSoqKioqTnl5eXkqKioqKioxMgcHBwcHBwcHBwcHBzIxKioqKioqeXl5eSoqKioqKjEyBwcHBwcHBwcHBwcHMjEqKioqKip5eXl5KioqKioqMTIHBwcHBwcHBwcHBwcyMSoqKioqKnl5eXkqKioqKioxMgcHBwcHBwcHBwcHBzIxKioqKioqeXl5eU4qKioqKjEyMQcHBwcHBwcHBwcxMjEqKioqKk55eXl5TyoqKioqKjIyBwcHBwcHBwcHBzIyKioqKioqT3l5eXlVKioqKioqMTIxBwcHBwcHBwcxMjEqKioqKipVeXl6eXkqKioqKioqMTIyMQcHBwcxMjIxKioqKioqKnl5egF5eU8qKioqKioqMTIyMjIyMjIyMSoqKioqKipPeXkBAXl5eU4qKioqKioqKjExMTExMSoqKioqKioqTnl5eQEBAXl5VSoqKioqKioqKioqKioqKioqKioqKipVeXkBAQEB+nl5VSoqKioqKioqKioqKioqKioqKioqVXl5+gEBAQEBenl5VSoqKioqKioqKioqKioqKioqKlV5eXoBAQEBAQEBeXl5VU4qKioqKioqKioqKioqKk5VeXl5AQEBAQEBAQEBenl5eU8qKioqKioqKioqKipPeXl5egEBAQEBAQEBAQEB+nl5eXlVT04qKioqTk9VeXl5efoBAQEBAQEBAQEBAQEBAXl5eXl5eXl5eXl5eXl5eXkBAQEBAQEBAQEBAQEBAQEBAQF6eXl5eXl5eXl5eXoBAQEBAQEBAQEB/+AH//+AAf/+AAB//AAAP/gAAB/wAAAP4AAAB8AAAAPAAAADgAAAAYAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAYAAAAHAAAADwAAAA+AAAAfwAAAP+AAAH/wAAD/+AAB//4AB///gB/8oAAAAIAAAAEAAAAABACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAACAAAAAwAAAAMAAAADAAAABG1bSA61m3JXuqB4mbuhd8m9o3jqvaF4+b2hePm9o3jqu6F3ybqgeJm1m3JXbVtIDgAAAAQAAAADAAAAAwAAAAMAAAACAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAUAAAAGAAAACI98Wye0nXWavKF4876kev++pHr/vqR6/76kev++pHr/vqR6/76kev++pHr/vqR6/76kev+8oXjztJ11mo98WycAAAAIAAAABgAAAAUAAAADAAAAAgAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAQAAAAHAAAAChwcHBKulnGJvaN5+L6kev++pHr/y7GJ/9/Fnv/s1K7/9t25//rivv/64r7/9t25/+zUrv/fxZ7/y7GJ/76kev++pHr/vaN5+K6WcYkcHBwSAAAACgAAAAcAAAAEAAAAAgAAAAEAAAAAAAAAAAAAAAEAAAADAAAABwAAAAtuYkUst552z76kev++pHr+1LuS//Latf/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD/8tq1/9S7kv++pHr+vqR6/7eeds9uYkUsAAAACwAAAAcAAAADAAAAAQAAAAAAAAABAAAAAgAAAAQAAAAIi3hbNbqgd+a+pHr/xayD/+3Vr//85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+3Vr//FrIP/vqR6/7qgd+aJdVg0AAAACAAAAAQAAAACAAAAAQAAAAEAAAACAAAABIl8WSW8oXjlvqR6/8yyiv/54Lz//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//ngvP/Msor/vqR6/7yheOWJfFklAAAABAAAAAIAAAABAAAAAAAAAAFfXz8Iu6F4zL6kev/Msor/+uK+//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//rivv/Msor/vqR6/7uheMxfXz8IAAAAAQAAAAAAAAAAAAAAAbqid4K+pHr/xayD//ngvP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//fgvP/FrIP/vqR6/7qid4IAAAABAAAAAAAAAAC3l28gvaN5+L6kev7t1a///OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+/Twv/Qq8f/u5HK/7OGzP+zhsz/u5HK/9Crx//v08L//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+3Vr/++pHr+vaN5+LeXbyAAAAAAAAAAALuheJa+pHr/1LuS//zlwP/85cD//OXA//zlwP/85cD//OXA//riwP/Pq8f/r4HM/6+Bzf+vgc3/r4HN/6+Bzf+vgc3/r4HN/6+BzP/Pq8f/+uLA//zlwP/85cD//OXA//zlwP/85cD//OXA/9S5kv++pHr/u6F4lgAAAACii3MLvKF4876kev/y2rX//OXA//zlwP/85cD//OXA//zlwP/64sD/w5vJ/6+Bzf+vg83/w5vc/9W06v/dwPD/3cDw/9W06v/Dm9z/r4PN/6+Bzf/Dm8n/+uLA//zlwP/85cD//OXA//zlwP/85cD/8tq1/76kev+8oXjzootzC72feFW+pHr/y7GJ//zlwP/85cD//OXA//zlwP/85cD//OXA/8+rx/+vgc3/tIfQ/9a16//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//Wtev/tIfQ/6+Bzf/Pq8f//OXA//zlwP/85cD//OXA//zlwP/85cD/y7GJ/76kev+9n3hVvaF4mL6kev/fxZ7//OXA//zlwP/85cD//OXA//zlwP/v08L/r4HM/6+Dzf/Wtev/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//Wtev/r4PN/6+BzP/v08L//OXA//zlwP/85cD//OXA//zlwP/fxZ7/vqR6/72heJi8oXfIvqR6/+zUrv/85cD//OXA//zlwP/85cD//OXA/9Crx/+vgc3/w5vc/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//Dm9z/r4HN/9Crx//85cD//OXA//zlwP/85cD//OXA/+zUrv++pHr/vKF3yL2jeOq+pHr/9t25//zlwP/85cD//OXA//zlwP/85cD/u5HK/6+Bzf/VtOr/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/9W06v+vgc3/u5HK//zlwP/85cD//OXA//zlwP/85cD/9t25/76kev+9o3jqvaF4+b6kev/64r7//OXA//zlwP/85cD//OXA//zlwP+zhsz/r4HN/93A8P/hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/3cDw/6+Bzf+zhsz//OXA//zlwP/85cD//OXA//zlwP/64r7/vqR6/72hePm9oXj5vqR6//rivv/85cD//OXA//zlwP/85cD//OXA/7OGzP+vgc3/3cDw/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//dwPD/r4HN/7OGzP/85cD//OXA//zlwP/85cD//OXA//rivv++pHr/vaF4+b2jeOq+pHr/9t25//zlwP/85cD//OXA//zlwP/85cD/u5HK/6+Bzf/VtOr/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/9W06v+vgc3/u5HK//zlwP/85cD//OXA//zlwP/85cD/9t25/76kev+9o3jqvKF3yL6kev/s1K7//OXA//zlwP/85cD//OXA//zlwP/Qq8f/r4HN/8Ob3P/hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/w5vc/6+Bzf/Qq8f//OXA//zlwP/85cD//OXA//zlwP/s1K7/vqR6/7yhd8i9oXiYvqR6/9/Fnv/85cD//OXA//zlwP/85cD//OXA/+/Twv+vgcz/r4PN/9a16//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/9a16/+vg83/r4HM/+/Twv/85cD//OXA//zlwP/85cD//OXA/9/Fnv++pHr/vaF4mL2feFW+pHr/y7GJ//zlwP/85cD//OXA//zlwP/85cD//OXA/8+rx/+vgc3/tIfQ/9a16//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//Wtev/tIfQ/6+Bzf/Pq8f//OXA//zlwP/85cD//OXA//zlwP/85cD/y7GJ/76kev+9n3hVootzC7yhePO+pHr/8tq1//zlwP/85cD//OXA//zlwP/85cD/+uLA/8Obyf+vgc3/r4PN/8Ob3P/VtOr/3cDw/93A8P/VtOr/w5vc/6+Dzf+vgc3/w5vJ//riwP/85cD//OXA//zlwP/85cD//OXA//Latf++pHr/vKF486KLcwsAAAAAu6N3l76kev/Uu5L//OXA//zlwP/85cD//OXA//zlwP/85cD/+uLA/8+rx/+vgcz/r4HN/6+Bzf+vgc3/r4HN/6+Bzf+vgc3/r4HM/8+rx//64sD//OXA//zlwP/85cD//OXA//zlwP/85cD/1LmS/76kev+7oXiWAAAAAAAAAAC3l28gvaN5+L6kev7t1a///OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+/Twv/Qq8f/u5HK/7OGzP+zhsz/u5HK/9Crx//v08L//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+3Vr/++pHr+vaN5+LeXbyAAAAAAAAAAAAAAAAC6oneCvqR6/8Wsg//54Lz//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/34Lz/xayD/76kev+6oneCAAAAAAAAAAAAAAAAAAAAAH9/VQa8oHjLvqR6/8yyiv/64r7//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD/+uK+/8yyiv++pHr/vKB4y39/VQYAAAAAAAAAAAAAAAAAAAAAAAAAALKhbh67o3nkvqR6/8yyiv/54Lz//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//ngvP/Msor/vqR6/7ujeeSyoW4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALqbdim7o3nkvqR6/8Wsg//t1a///OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/t1a//xayD/76kev+7o3nkupt2KQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALKhbh68oHjLvqR6/76kev7Uu5L/8tq1//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/y2rX/1LmS/76kev6+pHr/vKB4y7Khbh4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH9/VQa6oneCvaN5+L6kev++pHr/y7GJ/9/Fnv/s1K7/9t25//rivv/64r7/9t25/+zUrv/fxZ7/y7GJ/76kev++pHr/vaN5+Lqid4J/f1UGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3l28gu6F4lryhePO+pHr/vqR6/76kev++pHr/vqR6/76kev++pHr/vqR6/76kev++pHr/vKF487uheJa3l28gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAootzC72feFW9oXiYvKF3yL2jeOq9oXj5vaF4+b2jeOq8oXfIvaF4mL2feFWii3MLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/gB///gAH//gAAf/wAAD/4AAAf8AAAD+AAAAfAAAADwAAAA4AAAAGAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAGAAAABwAAAA8AAAAPgAAAH8AAAD/gAAB/8AAA//gAAf/+AAf//4Af/</pre>
</div>
<div title="BinaryUploadPlugin" server.title="BinaryUploadPlugin" server.page.revision="1521860" server.etag="&quot;system-plugins_public/BinaryUploadPlugin/1521860:95a44f8afce15a95acd90dd87d615d997ce2c9a3&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch systemConfig" _hash="fa2a79fa940254cf1cdd7980c85b5efd0eff0ce5">
<pre>/***
|''Name''|BinaryUploadPlugin|
|''Version''|0.3.16|
|''Author''|Ben Gillies and Jon Robson|
|''Type''|plugin|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/BinaryUploadPlugin.js|
|''Description''|Upload a binary file to TiddlyWeb|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig TiddlyWebConfig|
!Usage
{{{
&lt;&lt;binaryUpload bag:&lt;name&gt; edit:tags edit:title tags:&lt;default tags&gt; title:&lt;title&gt; &gt;&gt;
}}}
* {{{bag:&lt;name&gt;}}}: optional; if left out, the file will be saved to the current workspace
* {{{edit:tags}}}: specifies that you want to tag the file being uploaded
* {{{edit:title}}}: specifies that you want to set the title to something other than the filename
* {{{tags:&lt;default tags&gt;}}}: specifies a default set of tags to apply to the file (requires {{{edit:tags}}} to be set)
* {{{title:&lt;title&gt;}}}: predefines the title of the binary tiddler
!Requires
TiddlyWeb
tiddlywebplugins.form
!Code
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;

var macro = config.macros.binaryUpload = {
	locale: {
		titleDefaultValue: "Please enter a title...",
		tagsDefaultValue: "Please enter some tags...",
		titlePrefix: "title: ",
		tagsPrefix: "tags: ",
		loadSuccess: 'Tiddler %0 successfully uploaded',
		loadError: "An error occurred when uploading the tiddler %0",
		uploadInProgress: "Please wait while the file is uploaded...",
		membersOnly: "Only members can upload."
	},
	renderInputFields: function(container, options) {
		var locale = macro.locale;
		var editableFields = options.edit;
		var includeFields = {
			tags:  editableFields &amp;&amp; editableFields.contains("tags") ? true : false,
			title: editableFields &amp;&amp; editableFields.contains("title") ? true : false
		};
		var fields = ["title", "tags"];
		for(var i = 0; i &lt; fields.length; i++) {
			var fieldName = fields[i];
			var userDefault = options[fieldName];
			var defaultValue = userDefault ? userDefault[0] : false;
			if(includeFields[fieldName] || defaultValue) {
				var localeDefault = locale["%0DefaultValue".format(fieldName)];
				var className = defaultValue ? "userInput" : "userInput notEdited";
				var inputEl;
				var val = defaultValue || localeDefault || "";
				var iContainer = $("&lt;div /&gt;").addClass("binaryUpload%0".format(fieldName)).
					appendTo(container);
				if(defaultValue &amp;&amp; !includeFields[fieldName]) {
					var label = locale["%0Prefix".format(fieldName)];
					$("&lt;span /&gt;").text(label).appendTo(iContainer);
					$("&lt;span /&gt;").addClass("disabledInput").text(val).appendTo(iContainer);
					inputEl = $("&lt;input /&gt;").attr("type", "hidden");
				} else {
					inputEl = $("&lt;input /&gt;").attr("type", "text");
				}
				inputEl.attr("name", fieldName).
					addClass("%0Edit".format(fieldName)).
					val(val).addClass(className).appendTo(iContainer);
			}
		}
	},
	getTiddlerName: function(fileName) {
		var fStart = fileName.lastIndexOf("\\");
		var fStart2 = fileName.lastIndexOf("/");
		fStart = fStart &lt; fStart2 ? fStart2 : fStart;
		fileName = fileName.substr(fStart+1);
		return fileName;
	},
	errorHandler: function(fileName) {
		displayMessage("upload of file %0 failed".format(fileName));
	},
	uploadFile: function(place, baseURL, workspace, options) {
		var pleaseWait = $(".uploadProgress", place);
		var iframeName = options.target;
		var form = $("form", place);
		var existingVal = $("input[name=title]", form).val();
		var fileName = existingVal || $('input:file', form).val();
		if(!fileName) {
			return false; // the user hasn't selected a file yet
		}
		fileName = macro.getTiddlerName(fileName);
		$("input[name=title]", place).val(fileName);
		// we need to go somewhere afterwards to ensure the onload event triggers
		var redirectTo = "/%0/tiddlers.txt?select=title:%1".
			format(workspace, fileName);
		var token = tiddlyspace ? tiddlyspace.getCSRFToken() : "";
		var action = "%0?csrf_token=%1&amp;redirect=%2"
			.format(baseURL, token, redirectTo);
		form[0].action = action; // dont use jquery to work with ie
		form[0].target = iframeName;
		// do not refactor following line... won't work in IE6 otherwise
		$(place).append($('&lt;iframe name="' + iframeName + '" id="' + iframeName + '"/&gt;').css('display','none'));
		macro.iFrameLoader(iframeName, function() {
			var content = document.getElementById(iframeName).contentWindow.document.documentElement;
			if($(content).text().indexOf(fileName) &gt; -1) {
				options.callback(place, fileName, workspace, baseURL);
			} else {
				macro.errorHandler(fileName);
			}
			form.show(1000);
			pleaseWait.hide(1000);
		});
		form.hide(1000);
		pleaseWait.show(1000);
		return true;
	},
	createUploadForm: function(place, options) {
		var locale = macro.locale;
		if(readOnly) {
			$('&lt;div class="annotation" /&gt;').text(locale.membersOnly).
				appendTo(place);
			return;
		}
		var bag = options.bag;
		options.callback = options.callback ? options.callback :
			function(place, fileName, workspace, baseurl) {
				macro.displayFile(place, fileName, workspace);
				displayMessage(locale.loadSuccess.format(fileName));
				$("input[type=text]", place).val("");
			};
		var defaults = config.defaultCustomFields;
		place = $("&lt;div /&gt;").addClass("container").appendTo(place)[0];
		var workspace = bag ? "bags/%0".format(bag) : config.defaultCustomFields["server.workspace"];
		var baseURL = defaults["server.host"];
		baseURL += (baseURL[baseURL.length - 1] !== "/") ? "/" : "";
		baseURL = "%0%1/tiddlers".format(baseURL, workspace);
		//create the upload form, complete with invisible iframe
		var iframeName = "binaryUploadiframe%0".format(Math.random());
		// do not refactor following line of code to work in IE6.
		var form = $('&lt;form action="%0" method="POST" enctype="multipart/form-data" /&gt;'.
					format(baseURL)).addClass("binaryUploadForm").
			appendTo(place)[0];
		macro.renderInputFields(form, options);
		$(form).
			append('&lt;div class="binaryUploadFile"&gt;&lt;input type="file" name="file" /&gt;&lt;/div&gt;').
			append('&lt;div class="binaryUploadSubmit"&gt;&lt;input type="submit" value="Upload" disabled /&gt;&lt;/div&gt;').
			submit(function(ev) {
				this.target = iframeName;
				options.target = iframeName;
				macro.uploadFile(place, baseURL, workspace, options);
			})
			.find('[type="file"]').bind('change', function() {
				$(form).find('[type="submit"]').prop('disabled', false);
			}).end();
		$('&lt;div /&gt;').addClass("uploadProgress").text(locale.uploadInProgress).hide().appendTo(place);
		$("input[name=file]", place).change(function(ev) {
			var target = $(ev.target);
			var fileName = target.val();
			var title = $("input[type=text][name=title]", place);
			if(!title.val()) {
				title.val(fileName);
			}
		});
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		params = paramString.parseParams(null, null, true);
		macro.createUploadForm(place, params[0]);
	},
	iFrameLoader: function(iframeName, callback) {
		var iframe = document.getElementById(iframeName); //jQuery doesn't seem to want to do this!?
		var locale = macro.locale;
		$(".userInput").addClass("notEdited"); // reset editing
		var finishedLoading = function() {
			callback();
		};
		var iFrameLoadHandler = function() {
			finishedLoading.apply();
			return;
		};

		iframe.onload = iFrameLoadHandler;
		//IE
		completeReadyStateChanges = 0;
		iframe.onreadystatechange = function() {
			if (++(completeReadyStateChanges) == 3) {
				iFrameLoadHandler();
			}
		};
	},
	displayFile: function(place, title, workspace) {
		var adaptor = store.getTiddlers()[0].getAdaptor();
		var context = {
			workspace: workspace,
			host: config.defaultCustomFields['server.host']
		};
		adaptor.getTiddler(title, context, null, function(context) {
			if(context.status) {
				store.addTiddler(context.tiddler);
				story.displayTiddler(place, title);
				var image = config.macros.image;
				if(image &amp;&amp; image.refreshImage) {
					image.refreshImage("/%0/tiddlers/%1".format(workspace, title));
					image.refreshImage(title);
					image.refreshImage("/%0".format(title));
					image.refreshImage("%0/%1/tiddlers/%2".format(config.extensions.tiddlyweb.host, workspace, title));
				}
			} else {
				displayMessage(macro.locale.loadError.format(title));
			}
		});
	}
};

if(tiddlyspace) {
	config.macros.binaryUploadPublic = {
		handler: function(place, macroName, params, wikifier, paramString, tiddler) {
			var options = paramString.parseParams(null, null, true)[0];
			var bag = tiddlyspace.getCurrentBag("public");
			options.bag = bag;
			macro.createUploadForm(place, options);
		}
	};
	config.messages.privacySetting = config.options.chkPrivateMode ?
		"private" : "public";
	config.macros.binaryUpload.defaultWorkspace = tiddlyspace.
		getCurrentWorkspace(config.messages.privacySetting);
}

})(jQuery);
//}}}</pre>
</div>
<div title="apps" server.title="apps" server.page.revision="1521891" server.etag="&quot;tiddlyspace/apps/1521891:41620aef4642a302756290c4009a052b4dc9b8b4&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/html" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch" _hash="901ce9fdbc458a92f3643134f0bd968fc1f69cb1">
<pre>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
	&lt;meta charset="utf-8"/&gt;
	&lt;title&gt;TiddlySpace Apps&lt;/title&gt;
	&lt;link rel="stylesheet" href="/bags/common/tiddlers/reset.css" /&gt;
	&lt;link rel="stylesheet" href="/bags/common/tiddlers/appspage.css" /&gt;
	&lt;!--[if lt IE 7 ]&gt;
	&lt;link rel="stylesheet" href="/bags/common/tiddlers/appspageie6.css" /&gt;
	&lt;![endif]--&gt;
&lt;/head&gt;
&lt;body&gt;
	
	&lt;div id="wrapper"&gt;
		&lt;div id="TSbar"&gt;&lt;/div&gt;
		&lt;div id="main-content"&gt;
			&lt;div id="space-details"&gt;
				&lt;a href="/_space"&gt;&lt;img class="siteicon"&gt;&lt;/a&gt;
				&lt;div id="title-subtitle"&gt;
					&lt;h1 class="spaceaddress"&gt;
						&lt;span class="spaceName"&gt;&lt;/span&gt;&lt;span class="hostName"&gt;&lt;/span&gt;
					&lt;/h1&gt;
					&lt;p class="tagline"&gt;&lt;span class="subTitle"&gt;&lt;/span&gt;&lt;a class="managespaces" href="/_space"&gt;manage space&lt;/a&gt;&lt;/p&gt;
				&lt;/div&gt;
			&lt;/div&gt;
			&lt;div id="holder"&gt;
				&lt;div id="appswitcher-wrapper"&gt;
					&lt;div id="appswitcher"&gt;
						&lt;h2&gt;Your Apps&lt;/h2&gt;
						&lt;ul id="app-list"&gt;
							&lt;li class="htmlserialisation"&gt;
								&lt;a href="/tiddlers.html?select=tag:!excludeLists;sort=-modified"&gt;
									&lt;img src="/bags/common/tiddlers/browse_read_blue.png" alt="Icon for the HTML Serialisation" class="app-img" /&gt;
									BROWSE
								&lt;/a&gt;
							&lt;/li&gt;
							&lt;li class="tiddlywiki"&gt;
								&lt;a href="/tiddlers.wiki"&gt;
									&lt;img src="/bags/common/tiddlers/tiddlywiki2_blue.png" alt="Icon for TiddlyWiki" class="app-img" /&gt;
									TIDDLYWIKI
								&lt;/a&gt;
							&lt;/li&gt;
						&lt;/ul&gt;
						&lt;div id="addapp"&gt;
							&lt;button class="inactive"&gt;Add More!&lt;/button&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div id="app-desc"&gt;
						&lt;ul&gt;
							&lt;li class="htmlserialisationdesc"&gt;&lt;p&gt;an easy to understand HTML representation of your content.&lt;/p&gt;&lt;/li&gt;
							&lt;li class="tiddlywikidesc"&gt;&lt;p&gt;use TiddlyWiki to create, edit and organise your content.&lt;/p&gt;&lt;/li&gt;
						&lt;/ul&gt;
					&lt;/div&gt;
					&lt;div style="clear: both;"&gt;&lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;div id="footer"&gt;&lt;!-- ie doesn't support footer tag --&gt;
			&lt;div id="footer-content"&gt;
				&lt;div class="links"&gt;
					&lt;a href="http://blog.tiddlyspace.com"&gt;blog&lt;/a&gt;
					&lt;a href="http://featured.tiddlyspace.com"&gt;featured&lt;/a&gt;
					&lt;a href="http://docs.tiddlyspace.com"&gt;documentation&lt;/a&gt;
					&lt;a href="https://github.com/TiddlySpace/tiddlyspace"&gt;source&lt;/a&gt;
				&lt;/div&gt;
				&lt;p&gt;TiddlySpace 2011, created by &lt;a href="http://osmosoft.com"&gt;Osmosoft&lt;/a&gt;&lt;/p&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	
	&lt;script type="text/javascript" src="/bags/common/tiddlers/backstage.js"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/jquery.js"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/tiddlyspace/tiddlers/chrjs"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/chrjs-store.js"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/jquery-json.js"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/appspage.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="PageTemplate" server.title="PageTemplate" server.page.revision="1521914" server.etag="&quot;system-theme_public/PageTemplate/1521914:64d0fe0725178b85c7a4a60ba38236bd83acb00a&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-theme_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-theme_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch" _hash="f7d57de5937a110a2d275d11eebcd4557fc34f25">
<pre>&lt;!--{{{--&gt;
&lt;div class='header'&gt;
	&lt;div id='sidebarSearch'&gt;
		&lt;span macro='search'&gt;&lt;/span&gt;
	&lt;/div&gt;
	&lt;div class='headerForeground'&gt;
		&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;
		&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
	&lt;/div&gt;
	&lt;div class='clearFloat'&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id='menuBar'&gt;
	&lt;div id='mainMenu' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;
	&lt;div id='sidebarOptions' refresh='content' tiddler='SideBarOptions'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id='displayArea'&gt;
	&lt;div id='messageArea'&gt;&lt;/div&gt;
	&lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;
	&lt;div id='sidebarTabs' refresh='content' force='true' tiddler='SideBarTabs'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="TiddlySpaceInit" server.title="TiddlySpaceInit" server.page.revision="1521909" server.etag="&quot;tiddlyspace/TiddlySpaceInit/1521909:c6f7a4a90e57a54e9559081bd3f695501d7e3c3c&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/javascript" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch systemConfig" _hash="05e5325df4a93506529425c558842d5953dd6a44">
<pre>/***
|''Name''|TiddlySpaceInitialization|
|''Version''|0.7.3|
|''Description''|Initializes new TiddlySpaces the first time they are created|
|''Status''|@@beta@@|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/blob/master/src/plugins/TiddlySpaceInit.js|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig RandomColorPalettePlugin chrjs ImageMacroPlugin|
!TODO
* robust error notification and recovery
!MarkupPreHead
&lt;!--{{{--&gt;
&lt;link href="/bags/%0_public/tiddlers.atom" rel="alternate"
	type="application/atom+xml" title="%0's public feed" /&gt;
&lt;link rel="canonical" href="%1/" /&gt;
&lt;!--}}}--&gt;
!Code
***/
//{{{
(function($) {

var versionField = "tiddlyspaceinit_version";
var markupPreHead = store.getTiddlerText(tiddler.title + "##MarkupPreHead", "");
var tiddlyspace = config.extensions.tiddlyspace;
var currentSpace = tiddlyspace.currentSpace;
var tweb = config.extensions.tiddlyweb;

var plugin = config.extensions.TiddlySpaceInit = {
	version: "0.6",
	SiteTitle: "%0",
	SiteSubtitle: "a TiddlySpace",
	flagTitle: "%0SetupFlag",
	flagWarning: "Please do not modify this tiddler; it was created " +
		"automatically upon space creation.",

	dispatch: function(ev) {
		var title = plugin.flagTitle.format([currentSpace.name]);
		config.annotations[title] = plugin.flagWarning;
		if(currentSpace.type != "private") {
			return;
		}
		var tiddlers = [];
		var tid = store.getTiddler(title);
		if(tid) {
			curVersion = parseFloat(tid.fields[versionField]);
			reqVersion = parseFloat(plugin.version);
			if(curVersion &lt; reqVersion) {
				plugin.update(curVersion, tid);
				tid.fields[versionField] = plugin.version;
				tid.incChangeCount();
				tid = store.saveTiddler(tid);
				tiddlers.push(tid);
			}
		} else { // first run
			tid = new Tiddler(title);
			tid.tags = ["excludeLists", "excludeSearch", "excludePublisher"];
			tid.fields = $.extend({}, config.defaultCustomFields);
			tid.fields[versionField] = plugin.version;
			tid.text = "@@%0@@".format([plugin.flagWarning]);
			tid = store.saveTiddler(tid);
			tiddlers = tiddlers.concat(plugin.firstRun(), tid);
		}
		autoSaveChanges(null, tiddlers);
	},
	update: function(curVersion, flagTiddler) {
		if(curVersion &lt; 0.2) {
			this.createAvatar();
		}
		if(curVersion &lt; 0.3) {
			flagTiddler.tags.pushUnique("excludePublisher"); // XXX: never persisted
		}
		if(curVersion &lt; 0.5) { // v0.4 was faulty
			this.setupMarkupPreHead();
		}
		if(curVersion &lt; 0.6) {
			this.purgeSystemSettings();
		}
	},
	pubTid: {
		tags: ["excludeLists", "excludeSearch"],
		fields: $.extend({}, config.defaultCustomFields, {
			"server.workspace": tiddlyspace.getCurrentWorkspace("public")
		})
	},
	makeTiddlerIfNot: function(tiddler) {
		if (!store.tiddlerExists(tiddler.title)) {
			$.extend(true, tiddler, plugin.pubTid);
			return [store.saveTiddler(tiddler)];
		} else {
			return [];
		}
	},
	firstRun: function() {
		var tiddlers = [];
		// generate Site*itle
		$.each(["SiteTitle", "SiteSubtitle"], function(i, item) {
			var tid = new Tiddler(item);
			tid.text = plugin[item].format([currentSpace.name]);
			tiddlers.push.apply(tiddlers,
				plugin.makeTiddlerIfNot(tid));
		});
		// generate public ColorPalette
		var tid = new Tiddler("ColorPalette");
		tid.text = config.macros.RandomColorPalette.generatePalette({
			saturation_pale: 0.67, saturation_light: 0.53,
			saturation_mid: 0.43, saturation_dark: 0.06,
			pale: 0.99, light: 0.85, mid: 0.5, dark: 0.31
		},
			false);
		tiddlers.push.apply(tiddlers, plugin.makeTiddlerIfNot(tid));
		this.createAvatar();
		this.setupMarkupPreHead();
		return tiddlers;
	},
	// remove _cookie slices (TiddlyWiki 2.6.2 beta 6 remnants)
	purgeSystemSettings: function() {
		var ss = store.getTiddler("SystemSettings");
		if(ss) {
			var lines = ss.text.split("\n");
			var persistentOptions = $.grep(lines, function(line, i) {
				return line.indexOf("_cookie:") == -1;
			});
			ss.text = persistentOptions.join("\n");
			ss = store.saveTiddler(ss);
			autoSaveChanges(null, [ss]);
		}
	},
	createAvatar: function() {
		var avatar = "SiteIcon";
		var host = tweb.host;
		var notify = function(xhr, error, exc) {
			displayMessage("ERROR: could not create avatar - " + // TODO: i18n
				"%0: %1".format([xhr.statusText, xhr.responseText]));
			// TODO: resolve!?
		};

		var pubBag = tiddlyspace.getCurrentBag("public");
		var tid = new tiddlyweb.Tiddler(avatar);
		tid.bag = new tiddlyweb.Bag(pubBag, host);

		var callback = function(data, status, xhr) {}; // avatar already exists; do nothing
		var errback = function(xhr, error, exc) {
			if(xhr.status != 404) {
				return;
			}
			// copy default avatar
			var _notify = function(tid, status, xhr) {
				displayMessage("created avatar"); // TODO: i18n
				var image = config.macros.image;
				if(image &amp;&amp; image.refreshImage) {
					var uri = "/%0/tiddlers/SiteIcon".
						format(tiddlyspace.getCurrentWorkspace("public"));
					image.refreshImage(uri);
					image.refreshImage("SiteIcon");
				}
			};
			var _callback = function(tid, status, xhr) {
				tid.title = avatar;
				tid.bag.name = pubBag;
				delete tid.etag;
				tid.put(_notify, notify); // TODO: add to current session document (via adaptor?)
			};
			tweb.getUserInfo(function(user) {
				var avatarTitle = currentSpace.name == user.name ?
					"defaultUserIcon" : "defaultSiteIcon";
				var tid = new tiddlyweb.Tiddler(avatarTitle);
				tid.bag = new tiddlyweb.Bag("common", host);
				tid.get(_callback, notify);
			});
		};
		tid.get(callback, errback);
	},
	savePublicTiddlerText: function(title, text, pubWorkspace) {
		var tid = new Tiddler(title);
		tid.text = text;
		tid.tags = ["excludeLists"];
		tid.fields = $.extend({}, config.defaultCustomFields);
		tid.fields["server.workspace"] = pubWorkspace;
		tid.fields["server.page.revision"] = "false";
		tid = store.saveTiddler(tid);
		autoSaveChanges(null, [tid]);
	},
	setupMarkupPreHead: function() {
		var pubWorkspace = tiddlyspace.getCurrentWorkspace("public");
		var existing = store.getTiddler("MarkupPreHead");
		if(!existing || existing.fields["server.workspace"] != pubWorkspace) {
			var context = this;
			tweb.getStatus(function(status) {
				var text = markupPreHead.format(currentSpace.name,
					tiddlyspace.getHost(status.server_host, currentSpace.name));
				context.savePublicTiddlerText("MarkupPreHead", text,
					pubWorkspace);
			});
		}
		// also set up DefaultTiddlers
		var title = "DefaultTiddlers";
		existing = store.getTiddler(title) || new Tiddler(title);
		if(existing.fields["server.workspace"] != pubWorkspace) {
			var text = existing.text || store.getShadowTiddlerText(title);
			this.savePublicTiddlerText(title, text, pubWorkspace);
		}
	}
};

$(document).bind("startup", plugin.dispatch);

})(jQuery);
//}}}</pre>
</div>
<div title="privateNotPublicIcon" server.title="privateNotPublicIcon" server.page.revision="1521893" server.etag="&quot;tiddlyspace/privateNotPublicIcon/1521893:89be549cb1809e17c0fcad4b91e7d143d748c598&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="image/png" modified="20131111192334" created="20131111192334" tags="excludeLists excludeSearch" _hash="ec84c2619af08b1c361984baa4e8e871e8ce8946">
<pre>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</pre>
</div>
<div title="第三次作业" server.title="第三次作业" server.page.revision="2566531" server.etag="&quot;zhucebuliaogyx_public/%E7%AC%AC%E4%B8%89%E6%AC%A1%E4%BD%9C%E4%B8%9A/2566531:c37e5eb077f53bc3855a85b1ab0746a6d86c22b8&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20160927125826" created="20160927124106" tags="14信管作业" _hash="66293c23dcbd735aab0b408a6caa40f88f709553">
<pre> &lt;html&gt;
&lt;head&gt;
&lt;div align="center"&gt;
&lt;h1&gt;&lt;title&gt; 方法和目标&lt;/title&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/head&gt;
&lt;body&gt;

&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp本书旨在提供信息管理的全部理解。&lt;/font&gt; 我们遵从大卫•科博的解释，即知识有两个基本方面：抽象与具体，现象与实验。同时学习是在这两个方面中获得进步的周期的一个过程。&lt;br/&gt; &lt;br/&gt;
&lt;font color="black" face="黑体" size="4"&gt;在这个背景下，我们设立以下目标：&lt;/font&gt; &lt;br/&gt; &lt;br/&gt;
1、	抽象理解：这包含已经被解释的基本术语。通过掌握对有关信息概念不同观点的解释和了解以主要哲学概念的讨论和他们对于信息管理方法的理解而展开的每篇文章，能够助于我们进行抽象理解。&lt;br/&gt;
2、	实验：我们通过提供信息管理的方法和技术来改变读者进行信息的管理时运用的观念，并且将其记录在册.&lt;br/&gt;
3、	具体经验：我们证明抽象哲学概念，相关信息管理方法和解决每日具体问题方法的适用性。这在本书中通过提供具体事例和任务得以证明，读者也需要在学习完本书后能过使用现有的高质量软件工具（例如微软的办公软件和谷歌的工具）。&lt;br/&gt;
4、	思考：我们致力于让读者能批判性的看待他们所知道的，他们所完成的任务。我们邀请他们为日后学习生涯找寻挑战。团队合作能很好的完成这件事，同时这也恰恰能的让读者们找到一个讨论他们阅读和行为的通知平台。完成这件事难度系数并不高，也是了解通知的难处的第一步，例如，避免错误和无用的通知，共同利用电子设备创造实用的知识。谷歌在这一块提供了很多的机会（详情在本章最后）。&lt;br/&gt;
&lt;br/&gt;
&lt;font color="black" face="黑体" size="4"&gt;读完本书后，读者将会：&lt;/font&gt; &lt;br/&gt;
&lt;br/&gt;
•理解并指导不同的信息管理的方法，它们的优势与弱势，还有独特方法的附加价值。&lt;br/&gt;
•学会建立事件的简单模型，真正掌握对信息需求的说明，商业管理和公共管理的执行。&lt;br/&gt;
•明白解释抽象信息重点在于收集，处理和陈述具体信息这些步骤。&lt;br/&gt;
•了解在组织中一些复杂信息的支配地位和信息使用系统的挑战。这可能是最重要的一点。&lt;br/&gt;
•培养思考和善于分析的习惯来质疑信息，通知，信息管理和信息技术的运用。这些能力将会在你的工作生涯中极具意义，并且日后能很大程度上帮助你判断和获得任何有关新的短暂的信息技术的机会。正因如此，我致力于将信息管理看做一项人类与生俱来的本能而不是一项支持性的技术。&lt;br/&gt;
&lt;br/&gt;&lt;br/&gt;

&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp这些教训，洞察力和技巧对于任何企业管理、公共管理、社会科学和经济学的大学生而言都是极为重要的。但是本书可能只会对在信息和通知基础领域有兴趣的人有帮助。&lt;br/&gt;

&lt;/body&gt;

&lt;/html&gt;</pre>
</div>
<div title="TiddlySpaceLinkPlugin" server.title="TiddlySpaceLinkPlugin" server.page.revision="1521865" server.etag="&quot;system-plugins_public/TiddlySpaceLinkPlugin/1521865:785d001a05b4d707f555e22e72793d51a680909a&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch systemConfig" _hash="b88cfa8ccd99b328c34b54aa9371c8f9ce02ffaf">
<pre>/***
|''Name:''|TiddlySpaceLinkPlugin|
|''Description:''|Formatter to reference other spaces from wikitext |
|''Author:''|PaulDowney (psd (at) osmosoft (dot) com) |
|''Source:''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceLinkPlugin.js|
|''Version:''|1.4.2|
|''License:''|[[BSD License|http://www.opensource.org/licenses/bsd-license.php]] |
|''Comments:''|Please make comments at http://groups.google.co.uk/group/TiddlyWikiDev |
|''~CoreVersion:''|2.4|
!!Documentation
This plugin provides wikitext formatters for referencing another [[space|Space]] on the same TiddlySpace server, as in the following examples:
&lt;&lt;&lt;
  {{{@space}}} -- @space 
  {{{~@space}}} -- ~@space 
  {{{Tiddler@space}}} -- Tiddler@space
  {{{[[Tiddler Title]]@space}}} -- [[Tiddler Title]]@space 
  {{{[[Link text|Tiddler Title]]@space}}} -- [[Link text|Tiddler Title]]@space
&lt;&lt;&lt;
Links to tiddlers with a title begining with an "@" remain as tiddlyLinks:
&lt;&lt;&lt;
  {{{[[@tiddler]]}}} -- [[@tiddler]]
&lt;&lt;&lt;
and these may be changed into a space link using {{{@@}}}:
&lt;&lt;&lt;
  {{{[[@@space]]}}} -- [[@@space]]
  {{{[[Link to an another space|@@space]]}}} -- [[Link to another space|@@space]]
  {{{[[@space|@@space]]}}} -- [[@space|@@space]]
&lt;&lt;&lt;
TiddlySpace includes the [[TiddlySpaceLinkPlugin]] which provides WikiText markup for linking to other spaces on the same server. For example @glossary is a link to the {{{glossary}}} space and [[Small Trusted Group]]@glossary a link to an individual tiddler in the @glossary space. Prefixing the link with a tilde escapes the link, for example {{{~@space}}}.
Email addresses, for example joe.bloggs@example.com and mary@had.a.little.lamb.org should be unaffected.
!!Features
The plugin provides external links decorated so that other plugins may be included to add features such as the ability to dynamically pull externally linked tiddlers into the current TiddlyWiki.
Wikitext linking to a space on another server, for example from a tiddler in a space on tiddlyspace.com to a tiddler or a space on example.com, isn't currently supported. 
!!Code
***/
//{{{
/*jslint onevar: false nomen: false plusplus: false */
/*global jQuery config createTiddlyText createExternalLink createTiddlyLink */

function createSpaceLink(place, spaceName, title, alt, isBag) {
	var link, a, currentSpaceName, label;
	try {
		if (spaceName === config.extensions.tiddlyspace.currentSpace.name) {
			title = title || spaceName;
			a = createTiddlyLink(place, title, false);
			jQuery(a).text(alt || title);
			return a;
		}
	} catch (ex1) {
		currentSpaceName = false;
	}

	a = jQuery("&lt;a /&gt;").addClass('tiddlySpaceLink externalLink').appendTo(place)[0];
	if(title) {
		jQuery(a).attr('tiddler', title);
	}
	if(isBag) {
		jQuery(a).attr('bag', spaceName);
	} else {
		jQuery(a).attr('tiddlyspace', spaceName);
	}

	config.extensions.tiddlyweb.getStatus(function(status) {
		link = status.server_host.url;
		if (title) {
			label = alt || title;
			link = link + "/" + encodeURIComponent(title);
		} else {
			label = alt || spaceName;
		}
		// assumes a http URI without user:pass@ prefix
		if(!isBag) {
			link = link.replace("http://", "http://" + spaceName.toLowerCase() + ".");
		} else {
			link += "/bags/" + spaceName + "/tiddlers.wiki";
		}
		jQuery(a).attr("href", link).text(label);
	});
	return a;
}

(function ($) {

	config.textPrimitives.spaceName = "[a-zA-Z][a-zA-Z0-9-]*[a-zA-Z0-9]";
	config.textPrimitives.spaceNameStrict = "[a-z][a-z0-9-]*";
	config.textPrimitives.bareTiddlerLetter = config.textPrimitives.anyLetterStrict;

	config.formatters.splice(0, 0, {
		name: "spacenameLink",
		match: config.textPrimitives.unWikiLink + "?" + config.textPrimitives.bareTiddlerLetter + "*@" + config.textPrimitives.spaceName + "\\.?.?",
		lookaheadRegExp: new RegExp(config.textPrimitives.unWikiLink + "?(" + config.textPrimitives.bareTiddlerLetter + "*)@(" + config.textPrimitives.spaceName + ")", "mg"),
		handler: function (w) {
			if (w.matchText.substr(w.matchText.length - 2, 1) === '.' &amp;&amp; w.matchText.substr(w.matchText.length - 1, 1).match(/[a-zA-Z]/)) {
				w.outputText(w.output, w.matchStart, w.nextMatch);
				return;
			}
			if (w.matchText.substr(0, 1) === config.textPrimitives.unWikiLink) {
				w.outputText(w.output, w.matchStart + 1, w.nextMatch);
				return;
			}
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if (lookaheadMatch &amp;&amp; lookaheadMatch.index === w.matchStart) {
				createSpaceLink(w.output, lookaheadMatch[2], lookaheadMatch[1]);
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	},
	{
		name: "tiddlySpaceLink",
		match: "\\[\\[[^\\|\\]]*\\|*@@" + config.textPrimitives.spaceName + "\\]",
		lookaheadRegExp: new RegExp("\\[\\[(.*?)(?:\\|@@(.*?))?\\]\\]", "mg"),
		handler: function (w) {
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if (lookaheadMatch &amp;&amp; lookaheadMatch.index === w.matchStart) {
				var alt = lookaheadMatch[2] ? lookaheadMatch[1] : lookaheadMatch[1].replace(/^@@/, "");
				var space = lookaheadMatch[2] || alt;
				createSpaceLink(w.output, space, "", alt);
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	},
	{
		name: "tiddlyLinkSpacenameLink",
		match: "\\[\\[[^\\[]*\\]\\]@",
		lookaheadRegExp: new RegExp("\\[\\[(.*?)(?:\\|(.*?))?\\]\\]@(" + config.textPrimitives.spaceName + ")", "mg"),
		handler: function (w) {
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if (lookaheadMatch &amp;&amp; lookaheadMatch.index === w.matchStart) {
				var title = lookaheadMatch[2] || lookaheadMatch[1];
				var alt = lookaheadMatch[1] || lookaheadMatch[2];
				createSpaceLink(w.output, lookaheadMatch[3], title, alt);
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	});

	// ensure space links don't appear as missing links
	config.textPrimitives.brackettedLink = "\\[\\[([^\\]][^@\\]][^\\]]*)\\]\\](?=[^@])";
	config.textPrimitives.titledBrackettedLink = "\\[\\[([^\\[\\]\\|]+)\\|([^\\[\\]\\|]+)\\]\\](?=[^@])";

	// reevaluate derrived expressions ..
	config.textPrimitives.tiddlerForcedLinkRegExp = new RegExp("(?:" + config.textPrimitives.titledBrackettedLink + ")|(?:" +
		config.textPrimitives.brackettedLink + ")|(?:" +
		config.textPrimitives.urlPattern + ")","mg");
	config.textPrimitives.tiddlerAnyLinkRegExp = new RegExp("("+ config.textPrimitives.wikiLink + ")|(?:" +
		config.textPrimitives.titledBrackettedLink + ")|(?:" +
		config.textPrimitives.brackettedLink + ")|(?:" +
		config.textPrimitives.urlPattern + ")","mg");

	// treat space links in titledBracketedLink as external links
	var missingTiddlySpaceLink = new RegExp("^@@" + config.textPrimitives.spaceName + "$", "");
	var isExternalLink = config.formatterHelpers.isExternalLink;
	config.formatterHelpers.isExternalLink = function(link) {
		return missingTiddlySpaceLink.test(link) || isExternalLink(link);
	};

}(jQuery));
//}}}</pre>
</div>
<div title="ToolbarCommands" server.title="ToolbarCommands" server.page.revision="1521884" server.etag="&quot;tiddlyspace/ToolbarCommands/1521884:195dcc86a3fb4513da96c87a7435434661512877&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="" modified="20131111192334" created="20131111192334" tags="excludeLists excludeSearch" _hash="b4c48a116434073fe3dd125db8ac7616ac920c98">
<pre>|~ViewToolbar|+editTiddler +cloneTiddler &gt; fields refreshTiddler changeToPublic changeToPrivate revisions syncing permalink references jump closeOthers &lt; closeTiddler|
|~EditToolbar|+saveTiddler saveDraft -cancelTiddler deleteTiddler|
|~RevisionToolbar|&gt; fields revert|</pre>
</div>
<div title="unsyncedIcon" server.title="unsyncedIcon" server.page.revision="1521924" server.etag="&quot;system-images_public/unsyncedIcon/1521924:3af752024d12e3612479a46f4b32275d67a20caf&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-images_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-images_public" server.permissions="read" server.content-type="image/png" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch" _hash="f130b8a5de4a2cd9ab4d23a6fc3e9a8d83d1b7b3">
<pre>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</pre>
</div>
<div title="SiteSubtitle" server.title="SiteSubtitle" server.page.revision="2587333" server.etag="&quot;zhucebuliaogyx_public/SiteSubtitle/2587333:2cb048663229d3036e78ebf5c4c11ea915726853&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161125071301" created="20160907122403" tags="GOT7" _hash="1713c06b3a4c1cd04877d8e5bf4975de65bcb891">
<pre>GOT7的迷妹

</pre>
</div>
<div title="TiddlySpaceRevisionView" server.title="TiddlySpaceRevisionView" server.page.revision="1521859" server.etag="&quot;system-plugins_public/TiddlySpaceRevisionView/1521859:d51c812874b880c383ff342caee32e0e90ca5550&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeMissing excludeSearch systemConfig" _hash="be83cfafd902bff89908e6f74d71228655be3490">
<pre>/***
|''Name''|TiddlySpaceRevisionView|
|''Description''|Show tiddler revisions in a stack of cards view|
|''Author''|BenGillies|
|''Version''|0.2.0|
|''Status''|beta|
|''Source''|http://github.com/TiddlySpace/tiddlyspace|
|''CodeRepository''|http://github.com/TiddlySpace/tiddlyspace|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.6.0|
|''Requires''|TiddlyWebAdaptor|
!Usage
The viewRevisions macro can be attached to any element, which should be passed
in as a parameter.

For example:

&amp;lt;&amp;lt;viewRevisions page:10 link:"&lt;&lt;view modified date&gt;&gt;"&amp;gt;&amp;gt;

would show the revisions "stack of cards" view, 10 at a time, when the modified
date is clicked.
!Code
***/
//{{{
(function($) {

var me = config.macros.viewRevisions = {
	revisionTemplate: "RevisionTemplate",
	revSuffix: " [rev. #%0]", // text to append to each tiddler title
	defaultPageSize: 5, // default number of revisions to show
	defaultLinkText: "View Revisions", // when there's nothing else to use
	offsetTop: 30, // in px
	offsetLeft: 10, // in px
	shiftDownDelay: 50, // in ms
	visibleSlideAmount: 20, // amount of revisions to show on left hand edge after sliding
	zIndex: 100, // default z-index
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		params = paramString.parseParams(null, null, true)[0];
		var tiddlerElem = story.findContainingTiddler(place);

		var revButton;
		var pageSize = parseInt(params.page[0], 10) || me.defaultPageSize;
		var linkObj = params.link ? params.link[0] || me.defaultLinkText : false;
		if(linkObj) {
			revButton = $('&lt;span class="button openRevisions" /&gt;')
				.appendTo(place);
			wikify(linkObj, revButton[0], null, tiddler);
		} else {
			revButton = place;
		}

		$(revButton).click(function() {
			if (!$(tiddlerElem).hasClass("revisions")) {
				me.showRevisions(tiddlerElem, tiddler, pageSize);
			} else {
				me.closeRevisions(tiddlerElem);
			}
		});
	},

	// initialisation for revision view
	showRevisions: function(tiddlerElem, tiddler, pageSize) {
		var context = {
			host: tiddler.fields["server.host"],
			workspace: tiddler.fields["server.workspace"]
		};
		$(tiddlerElem).addClass("revisions").attr("revName", tiddler.title);
		// ensure toolbar commands deactivate RevisionsView
		$("a", ".toolbar", tiddlerElem).each(function(index, btn) {
			var _onclick = btn.onclick;
			btn.onclick = function(e) {
				me.closeRevisions(tiddlerElem);
				_onclick.apply(this, arguments);
			};
		});
		// ensure default action deactivates RevisionsView
		var _ondblclick = tiddlerElem.ondblclick;
		tiddlerElem.ondblclick = function(e) {
			me.closeRevisions(tiddlerElem);
			_ondblclick.apply(this, arguments);
		};
		var type = tiddler.fields["server.type"];
		var adaptor = new config.adaptors[type]();
		var userParams = {
			tiddlerElem: tiddlerElem,
			pageSize: pageSize,
			title: tiddler.title
		};
		me.createCloak(tiddlerElem);
		adaptor.getTiddlerRevisionList(tiddler.title, null, context, userParams,
				function(context, userParams) {
					// strip the current revision
					context.revisions.shift();
					me.expandStack(context, userParams);
				});
	},

	// fetch the actual revision and put it in the tiddler div
	showRevision: function(place, revision, callback) {
		var context = {
			host: revision.fields["server.host"],
			workspace: revision.fields["server.workspace"]
		};
		var userParams = {
			revElem: place
		};
		var type = revision.fields["server.type"];
		var adaptor = new config.adaptors[type]();
		var revNo = revision.fields["server.page.revision"];
		adaptor.getTiddlerRevision(revision.title, revNo, context, userParams,
			function(context, userParams) {
				var tiddler = context.tiddler;
				tiddler.title += me.revSuffix
					.format([$(place).attr("revision")]);
				tiddler.fields.doNotSave = true;
				if (store.getTiddler(tiddler.title)) {
					store.deleteTiddler(tiddler.title);
				}
				store.addTiddler(tiddler);

				//now, populate the existing div
				var revElem = userParams.revElem;
				$(revElem).attr("id", story.tiddlerId(tiddler.title));
				$(revElem).attr("refresh", "tiddler");
				var getTemplate = function() {
					var themeName = config.options.txtTheme;
					if (themeName) {
						return store.getTiddlerSlice(themeName,
							me.revisionTemplate) || me.revisionTemplate ||
							"ViewTemplate";
					} else {
						return (store.getTiddler(me.revisionTemplate)) ?
							me.revisionTemplate : "ViewTemplate";
					}
				};
				var template = getTemplate();
				story.refreshTiddler(tiddler.title, template, true);
				callback(tiddler);
			});
	},

	createCloak: function(promoteElem) {
		var el = $(promoteElem);
		// cache styles for resetting later
		el.data({
			top: el.css("top"),
			left: el.css("left"),
			zIndex: el.css("z-index")
		});

		$('&lt;div class="revisionCloak" /&gt;').css("z-index", me.zIndex)
			.click(function() {
				me.closeRevisions(promoteElem);
			})
			.appendTo(document.body);

		el.css("z-index", me.zIndex + 1);
	},

	// clean up, removing all evidence of revision view
	closeRevisions: function(promoteElem) {
		var el = $(promoteElem);
		// revert the original tiddler back to its previous state
		el.removeAttr("revName").removeClass("revisions").css({
			top: el.data("top"),
			left: el.data("left"),
			zIndex: el.data("zIndex")
		});

		// remove any revisions still in the store
		var revisions = $(".revisions");
		revisions.each(function(index, revision) {
			var revAttributes = revision.attributes;
			if ((revAttributes.revname) &amp;&amp;
					(revAttributes.revision)) {
				var revName = revAttributes.revname.value;
				var revNo = revAttributes.revision.value;
				var title = revName + me.revSuffix.format([revNo]);

				if (store.getTiddler(title)) {
					store.deleteTiddler(title);
				}
			}
		});

		// delete the previous revisions
		revisions.remove();

		// remove the cloak
		$(".revisionCloak").remove();
	},

	// calback from getting list of revisions
	expandStack: function(context, userParams) {
		var pageSize = userParams.pageSize;

		var from = userParams.from || 0;
		var tiddlerElem = userParams.tiddlerElem;

		userParams.defaultHeight = $(tiddlerElem).height();
		userParams.defaultWidth = $(tiddlerElem).width();
		if (from &lt; context.revisions.length) {
			me.displayNextRevision(tiddlerElem, userParams, context, from,
				from + pageSize - 1);
		}
	},

	// place the next div above and behind the previous one
	displayNextRevision: function(tiddlerElem, userParams, context, from, to) {
		var revision = context.revisions[from];
		var callback = function() {
			var revText = revBtn.getRevisionText(tiddlerElem, revision);
			tiddlerElem = me.createRevisionObject(tiddlerElem, context,
				userParams, revText);
			$(tiddlerElem)
				.attr("revision", (context.revisions.length - from));
			if ((from &lt; to) &amp;&amp; ((from + 1) &lt; context.revisions.length)){
				me.displayNextRevision(tiddlerElem, userParams, context,
					from + 1, to);
			} else if ((context.revisions.length - 1) &gt; to) {
				me.showMoreButton(tiddlerElem, context, userParams, to + 1);
			}
		};
		me.shiftVisibleDown(userParams.title, callback);
	},

	createRevisionObject: function(tiddlerElem, context, userParams, text) {
		var newPosition = me.calculatePosition(tiddlerElem, context);
		return $('&lt;div class="revisions tiddler" /&gt;')
			.css({
				position: "absolute",
				top: newPosition.top,
				left: newPosition.left,
				"z-index": me.zIndex + 1,
				height: userParams.defaultHeight,
				width: userParams.defaultWidth
			})
			.attr("revName", userParams.title)
			.append(text)
			.insertBefore(tiddlerElem);
	},

	// move the already present revisions down by 1 to fit the next one in
	shiftVisibleDown: function(title, callback) {
		var revisions = $("[revName='%0'].revisions".format([title]));
		var revisionCount = revisions.length;

		$(revisions).animate({top: "+=" + me.offsetTop},
				me.shiftDownDelay, function() {
					revisionCount -= 1;
					if ((callback) &amp;&amp; (!revisionCount)) {
						callback();
					}
				});
	},

	// where we put the new revision
	calculatePosition: function(elem, context) {
		var offset = $(elem).offset();
		var currentPosition = $(elem).position();
		var newPosition = {
			top: currentPosition.top - me.offsetTop
		};
		if ((context.restrictLeft) ||
				((offset.left - me.offsetLeft) &lt;
				$("#contentWrapper").offset().left)) {
			newPosition.left = $(elem).position().left;
			context.restrictLeft = true;
		} else {
			newPosition.left = currentPosition.left - me.offsetLeft;
		}
		return newPosition;
	},

	// equivalent of displayNextRevision, but for the more button
	showMoreButton: function(tiddlerElem, context, userParams, moreIndex) {
		userParams.from = moreIndex + 1;
		me.shiftVisibleDown(userParams.title, function() {
			var btn = me.createRevisionObject(tiddlerElem, context, userParams,
				"");

			var more = createTiddlyButton(btn[0], "more...", "show more revisions",
				function() {
					if ($(".viewRevision").length) {
						return;
					}
					userParams.tiddlerElem = btn[0];
					$(btn).text("")
						.append(revBtn
							.getRevisionText(btn[0], context.revisions[moreIndex]))
						.attr("revision", context.revisions.length - moreIndex);
					me.expandStack(context, userParams);
				});
			$(more).css("float", "right");
		});
	},

	stripRevFromTitle: function(revisionTitle) {
		return revisionTitle.split(/ ?\[rev\. #[0-9]+\]$/)[0];
	},

	onClickRevision: function(revElem, revision, callback) {
		// don't do anything if we are still loading
		if ($(".revisions").hasClass("loading")) {
			return null;
		}

		var origTitle = me.stripRevFromTitle(revision.title);
		if ($(revElem).hasClass("viewRevision")) {
			$(".revisions").addClass("loading");
			me.slideIn(revElem, revision, origTitle, function() {
				store.deleteTiddler(revision.title);
				revision.title = origTitle;
				$(revElem).text("").append(revBtn.getRevisionText(revElem,
						revision))
					.removeAttr("tags").removeAttr("tiddler")
					.removeAttr("refresh").removeAttr("template")
					.removeAttr("id");
				$(".revisions").removeClass("loading");
				if (callback) {
					callback();
				}
			});
			$(revElem).removeAttr("prevPos").removeClass("viewRevision");
		} else {
			var viewRevision = function() {
				var prevPos = $(revElem).position().left;
				$(revElem).addClass("viewRevision").attr("prevPos", prevPos);
				$(".revisions").addClass("loading");
				me.showRevision(revElem, revision, function(rev) {
					me.slideOut(revElem, rev, origTitle, function() {
						$(".revisions").removeClass("loading");
					});
				});
			};
			// make sure another revision isn't already out
			if ($(".viewRevision").length) {
				var newRevElem = $(".viewRevision")[0];
				var newRevision = store.getTiddler($(newRevElem)
					.attr("tiddler"));
				me.onClickRevision(newRevElem, newRevision, viewRevision);
			} else {
				viewRevision();
			}
		}
	},

	slideOut: function(revElem, revision, title, callback) {
		var leftMostPos = $("[revName='%0'].revisions".format([title]))
			.offset().left;
		var width = $(revElem).width();
		var originalLeftPos = $(story.getTiddler(title))
			.position().left;

		var slideAmount = leftMostPos + width - me.visibleSlideAmount;
		$("[revName='%0'].revisions:not(.viewRevision)".format([title]))
			.animate({left: "-=" + slideAmount}, 1000);
		$(revElem)
			.attr("baseHeight", $(revElem).css("height"))
			.css("height", "auto")
			.animate({left: originalLeftPos}, 1000, callback);
	},

	slideIn: function(revElem, revision, title, callback) {
		var slideAmount = $(revElem).offset().left -
			$(story.getTiddler(title)).offset().left;
		var origRevPos = $(revElem).attr("prevPos");

		$("[revName='%0'].revisions:not(.viewRevision)".format([title]))
			.animate({left: "+=" + slideAmount}, 1000);
		$(revElem).animate({left: origRevPos}, 1000, function() {
			$(revElem)
				.css("height", $(revElem).attr("baseHeight"))
				.removeAttr("baseHeight");
			callback();
		});
	}
};

var revBtn;
config.macros.slideRevision = revBtn = {
	btnText: "created by %0 at %1 on %2",
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var btn = revBtn.getRevisionText(place, tiddler);
		$(place).append(btn);
	},

	getRevisionText: function(place, revision) {
		var text = revBtn.btnText.format([revision.modifier,
			revision.modified.formatString("0hh:0mm"),
			revision.modified.formatString("0DD MMM YYYY")]);
		var btn = $('&lt;a href="javascript:;" class="button revButton" /&gt;')
			.text(text)
			.click(function() {
				var revElem = story.findContainingTiddler(this);
				me.onClickRevision(revElem, revision);
			});
		return btn;
	}
};

})(jQuery);
//}}}</pre>
</div>
<div title="StyleSheet" server.title="StyleSheet" server.page.revision="1521913" server.etag="&quot;system-theme_public/StyleSheet/1521913:c1aed07c8515e65594c04f3a1bfa87af1849ef3e&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-theme_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-theme_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch" _hash="c5c2e73087cfd75aca63dcb28adc965de9a15baa">
<pre>[[StyleSheetTiddlySpace]]</pre>
</div>
<div title="问卷" server.title="问卷" server.page.revision="2586968" server.etag="&quot;zhucebuliaogyx_public/%E9%97%AE%E5%8D%B7/2586968:c9880c499cbc4c2ed6e4490687b55e5bcc3c2191&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161124011131" created="20161124011131" tags="基于大学生视角 教学范式 问卷" _hash="11169fe696363ad5cce2b0f51cfb69c0de78b85a">
<pre>大学视角下的教学范式改革调查问卷
  	

1. 你的专业是: [填空题] [必答题]

  _________________________________

2. 你的年级是： [单选题] [必答题]
   ○ 2013
   ○ 2014
   ○ 2015
   ○ 2016

3. 你了解教学范式吗？ [单选题] [必答题]
   ○ 了解
   ○ 不了解

4. 你上过教学范式课程吗？（注：教学范式强调学生和老师的协作，注重学生拓展能力） [单选题] [必答题]
   ○ 有  (请跳至第5题)
   ○ 没有  (请跳至第6题)

5. 你本学期接触教学范式课程数目是？ [单选题] [必答题]
   ○ 0
   ○ 1
   ○ 2
   ○ 3及以上

6. 你认为目前课程教学以什么为中心？ [单选题] [必答题]
   ○ 教师
   ○ 学生
   ○ 教师和学生

7. 课程教学在你心中应该以什么为中心？ [单选题] [必答题]
   ○ 教师
   ○ 学生
   ○ 教师和学生

8. 你所上教学范式课程中教师教学的主要目的是？ [单选题] [必答题]
   ○ 教导学习方法
   ○ 传授学生知识
   ○ 培养学生能力
   ○ 提高学生素质
   ○ 激发学习兴趣
   ○ 其它 _________________

9. 你心中认为教学主要目的应该是？ [单选题] [必答题]
   ○ 教导学习方法
   ○ 传授学生知识
   ○ 培养学生能力
   ○ 提高学生素质
   ○ 激发学习兴趣
   ○ 其它 _________________

10. 你所上教学范式课程的授课方式是？ [单选题] [必答题]
   ○ 教师直接向学生传授知识
   ○ 教师和学生讨论获得知识
   ○ 教师引导，学生和学生之间讨论获得知识
   ○ 其它 _________________

11. 你心中认为教学范式课程应该是怎样进行授课的？ [单选题] [必答题]
   ○ 教师直接向学生教授知识
   ○ 教师和学生讨论获得知识
   ○ 教师引导，学生和学生之间讨论获得知识
   ○ 其它 _________________

12. 你所上教学范式课程中师生互动情况如何？ [单选题] [必答题]
   ○ 积极互动
   ○ 较少互动
   ○ 没有互动

13. 你愿意主动参与课程合作交流与展示环节吗？ [单选题] [必答题]
   ○ 愿意
   ○ 不愿意

14. 你所上教学范式课堂对于实践成绩的侧重点在于？ [单选题] [必答题]
   ○ 完成课程论文来锻炼思维
   ○ 进行课外实践来拓展能力
   ○ 其他 _________________

15. 你心中认为实践成绩的评定应该侧重于？ [单选题] [必答题]
   ○ 完成课程论文来锻炼思维
   ○ 进行课外实践来拓展能力
   ○ 其他 _________________

16. 你心中认为教学范式课程的教师做到了以下几点？ [多选题] [必答题]
   □ 有针对性地设计教学方案
   □ 巧用教学技术
   □ 活跃教学氛围
   □ 教学方法灵活
   □ 与学生互动交流
   □ 以上均无

17. 你认为你学习过程中存在的最大问题是什么？ [单选题] [必答题]
   ○ 缺乏学习兴趣
   ○ 缺乏教学资源
   ○ 缺乏师生互动
   ○ 课堂活动设置不当
   ○ 其他 _________________

18. 你认为教学范式课程对你学习是否有帮助？ [单选题] [必答题]
   ○ 很大帮助
   ○ 适当帮助
   ○ 没有帮助

19. 你认为教学范式课程相较于传统课程的改变在哪里？ [多选题] [必答题]
   □ 拓宽了学习视野
   □ 局限了学习视野
   □ 提高了学习积极性
   □ 降低了学习积极性
   □ 减轻了学习负担
   □ 增重了学习负担
   □ 其他

20. 你认为以什么样的方式与教师进行互动比较好？ [多选题] [必答题]
   □ 课上课下面对面交流
   □ 课后通过媒介交流
   □ 其它 _________________

21. 谈谈你对教学范式改革的看法和意见 [填空题]

  _________________________________


</pre>
</div>
<div title="SiteTitle" server.title="SiteTitle" server.page.revision="2587360" server.etag="&quot;zhucebuliaogyx_public/SiteTitle/2587360:ee8cf7c6b9d0d437014dc7e2aa3d106469062035&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161125073102" created="20160907122403" tags="excludeLists excludeSearch" _hash="0b8f00ce2c3b59334f999ccb0160113b51af4788">
<pre>zhucebuliao G Y X
&lt;html&gt;
&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp
&lt;embed src="http://music.163.com/style/swf/widget.swf?sid=431855661&amp;type=2&amp;auto=1&amp;width=320&amp;height=66" width="340" height="86"  loop="true" autostart="true"allowNetworking="all"&gt;&lt;/embed&gt;
&lt;/html&gt;</pre>
</div>
<div title="TiddlySpaceToolbar" server.title="TiddlySpaceToolbar" server.page.revision="1521861" server.etag="&quot;system-plugins_public/TiddlySpaceToolbar/1521861:92cb37922a19d947a1693eced1bdc0b1afcda55d&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch systemConfig" _hash="f1d6038be5d1ecd8d107d604b0f0dce76bc901da">
<pre>/***
|''Name''|TiddlySpaceToolbar|
|''Description''|augments tiddler toolbar commands with SVG icons|
|''Author''|Osmosoft|
|''Version''|0.6.6|
|''Status''|@@beta@@|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceToolbar.js|
|''CodeRepository''|http://github.com/TiddlySpace/tiddlyspace|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.5.0|
|''Requires''|ImageMacroPlugin|
|''Keywords''|toolbar icons SVG|
!Description
replaces tiddler toolbar commands with SVG icons if available
!Notes
requires [[ImageMacroPlugin|http://svn.tiddlywiki.org/Trunk/contributors/JonRobson/plugins/ImageMacroPlugin/plugins/ImageMacroPlugin.tid]]

SVG icons are drawn from tiddlers titled {{{&lt;command&gt;.svg}}}
In readonly mode a tiddler called {{{&lt;command&gt;ReadOnly.svg}}} will be used if it exists.
!TODO
* rename (IconToolbarPlugin?)
* support more than one more popup menu in the toolbar.
!Code
***/
//{{{
(function($) {

if(!config.macros.image) {
	throw "Missing dependency: ImageMacroPlugin";
}

var macro = config.macros.toolbar;

macro.icons = {
	cloneTiddler: "editTiddler"
};

var _handler = macro.handler;
macro.handler = function(place, macroName, params, wikifier,
		paramString, tiddler) {
	var toolbar = $(place);
	toolbar.attr({
		refresh: "macro",
		macroName: macroName
	}).data("args", arguments);
	var status = _handler.apply(this, arguments);
	if(tiddler.isReadOnly()) {
		toolbar.addClass("toolbarReadOnly");
	} else {
		toolbar.removeClass("toolbarReadOnly");
	}
	var parsedParams = paramString.parseParams("name")[0];
	if(parsedParams.icons &amp;&amp; parsedParams.icons == "yes") {
		this.augmentCommandButtons(place);
	}
	if(parsedParams.more &amp;&amp; parsedParams.more == "popup") {
		// note we must override the onclick event like in createTiddlyButton
		// otherwise the click event is the popup AND the slider
		$(".moreCommand", place).each(function(i, el) {
			el.onclick = macro.onClickMorePopUp;
		});
		// buttons that are after a less command should not be in more menu.
		$(".lessCommand ~ .button", place).appendTo(place);
		$(".lessCommand", place).remove();
	}
	return status;
};

macro.refresh = function(place, params) {
	var args = $(place).empty().data("args");
	this.handler.apply(this, args);
};

var imageMacro = config.macros.image;
macro.augmentCommandButtons = function(toolbar) {
	$(".button", toolbar).each(function(i, el) {
		var cmd = $(el).attr("commandname");
		cmd = cmd ? cmd : "moreCommand"; // XXX: special-casing of moreCommand due to ticket #1234
		var icon = store.tiddlerExists(cmd) ? cmd : macro.icons[cmd];
		var text = $(el).text();
		if(readOnly) {
			var readOnlyAlternative = "%0ReadOnly".format([icon]);
			if(store.tiddlerExists(readOnlyAlternative)) {
				icon = readOnlyAlternative;
			}
		}
		if(store.tiddlerExists(icon)) {
			$(el).css({display: "inline-block"}).empty();
			imageMacro.renderImage(el, icon, { alt: text });
		}
	});
};

// provide onClickMore to provide extra commands in a popup
macro.onClickMorePopUp = function(ev) {
	ev = ev || window.event;
	var sibling = this.nextSibling;
	if(sibling) {
		var commands = sibling.childNodes;
		var popup = Popup.create(this);
		$(popup).addClass("taggedTiddlerList");
		for(var i = 0; i &lt; commands.length; i++) {
			var li = createTiddlyElement(popup, "li", null);
			var oldCommand = commands[i];
			var command = oldCommand.cloneNode(true);
			command.onclick = oldCommand.onclick;
			li.appendChild(command);
		}
		Popup.show();
	}
	ev.cancelBubble = true;
	if(ev.stopPropagation) {
		ev.stopPropagation();
	}
	return false;
};

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceSearcher" server.title="TiddlySpaceSearcher" server.page.revision="1521908" server.etag="&quot;tiddlyspace/TiddlySpaceSearcher/1521908:e6f6320f85c5623c30630beccff43ef2afa9fecb&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/javascript" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch systemConfig" _hash="e3762c200fa4b897f6e7bbb9e0e7d83f860a89a5">
<pre>/***
|''Name''|TiddlySpaceSearcher|
|''Version''|0.2.5|
|''Requires''|TiddlySpaceConfig TiddlySpaceFollowingPlugin|
***/
//{{{
(function($) {
var tiddlyspace = config.extensions.tiddlyspace;
var tsScan = config.macros.tsScan;

config.shadowTiddlers.SearchTemplate = "&lt;&lt;view server.bag SiteIcon label:no width:24 height:24 preserveAspectRatio:yes&gt;&gt; &lt;&lt;view server.bag spaceLink title external:no&gt;&gt; in space &lt;&lt;view server.bag spaceLink&gt;&gt;";
config.shadowTiddlers.StyleSheetSearch = [".resultsArea .siteIcon { display: inline; }",
	".searchForm {text-align: left;}"].join("\n");
store.addNotification("StyleSheetSearch", refreshStyles);

var search = config.macros.tsSearch = {
	locale: {
		advanced: "Advanced Options",
		header: "Search",
		resultsHeader: "Results (%0)",
		find: "find",
		noResults: "No tiddlers matched your search query",
		query: "QUERY: ",
		error: "please provide a search query or a tag, modifier or title!",
		titleAdvanced: "where the title is",
		modifierAdvanced: "where the last modifier is",
		spaceAdvanced: "only in the space: ",
		notspaceAdvanced: "but not in the spaces: ",
		tagsAdvanced: "with the tags: "
	},
	andConstructor: function(container, label, fieldname, negationMode) {
		var tags = $("&lt;div /&gt;").appendTo(container);
		$('&lt;span /&gt;').text(label).appendTo(tags);
		var id = "area" + Math.random();
		container = $("&lt;span /&gt;").attr("id", id).appendTo(tags)[0];
		function add(container) {
			var el = $('&lt;input type="text" /&gt;').attr("field", fieldname).appendTo(container);
			if(negationMode) {
				el.attr("negation", "true");
			}
		}
		add(container);
		var el = $("&lt;button /&gt;").text("AND").click(function(ev) {
			add($(ev.target).data("container"));
			ev.preventDefault();
		}).appendTo(tags);
		$(el).data("container", container);
	},
	fieldConstructor: function(container, label, field) {
		container = $("&lt;div /&gt;").appendTo(container)[0];
		$("&lt;span /&gt;").text(label).appendTo(container);
		$("&lt;input /&gt;").attr("text", "input").attr("field", field).appendTo(container);
	},
	advancedOptions: function(form) {
		var locale = search.locale;
		var container = $("&lt;div /&gt;").addClass("tsAdvancedOptions").appendTo(form)[0];
		$("&lt;h2/ &gt;").text(search.locale.advanced).appendTo(container);
		$("&lt;div /&gt;").addClass("separator").appendTo(container);
		search.fieldConstructor(container, locale.titleAdvanced, "title");
		search.fieldConstructor(container, locale.modifierAdvanced, "modifier");
		search.fieldConstructor(container, locale.spaceAdvanced, "space");
		search.andConstructor(container, locale.notspaceAdvanced, "space", true);
		search.andConstructor(container, locale.tagsAdvanced, "tag");
	},
	constructSearchQuery: function(form) {
		var data = [], select = [];
		var query = $("[name=q]", form).val();
		if(query) {
			data.push("q=%0".format(query));
		}

		// add tags, fields etc..
		$("[field]", form).each(function(i, el) {
			var val = $(el).val();
			var name = $(el).attr("field");
			var negate = $(el).attr("negation") == "true";
			if(val &amp;&amp; name) {
				val = encodeURIComponent(val);
				val = negate ? "!" + val : val;
				if(name == "space") {
					val += "_public";
					name = "bag";
				}
				if(negate) {
					select.push("select=%0:%1".format(name,val));
				} else {
					var prefix = data.length === 0 ? "q=" : "";
					data.push('%0%1:"%2"'.format(prefix, name, val));
				}
			}
		});
		var dataString = data.join(" ");
		if(dataString.length === 0 &amp;&amp; !query) {
			return false;
		}
		var selectStatement = select.join("&amp;");
		if(dataString.length &gt; 0 &amp;&amp; selectStatement.length &gt; 0) {
			dataString += "&amp;";
		}
		dataString += selectStatement;
		return "/search?%0".format(dataString);
	},
	constructForm: function(place) {
		var locale = search.locale;
		$("&lt;h1 /&gt;").text(locale.header).appendTo(place);
		var form = $("&lt;form /&gt;").appendTo(place)[0];
		$('&lt;input type="text" name="q" /&gt;').appendTo(form);
		$('&lt;input type="submit" /&gt;').val(locale.find).appendTo(form);
		search.advancedOptions(form);
		var query = $('&lt;h2 class="query"/&gt;').appendTo(place)[0];
		var results = $("&lt;div /&gt;").appendTo(place).addClass("resultsArea")[0];
		var lookup = function(url) {
			if(!url) {
				results.empty().addClass("error").text(locale.error);
				return;
			}
			config.extensions.tiddlyweb.getStatus(function(status) {
				$(query).text(locale.query);
				var href = status.server_host.url + url;
				$("&lt;a /&gt;").attr("href", href).text(href).appendTo(query);
				tsScan.scan(results, { url: url, emptyMessage: search.locale.noResults, cache: true,
					template: "SearchTemplate", sort: "title", callback: function(tiddlers) {
						$("&lt;h2 /&gt;").text(locale.resultsHeader.format(tiddlers.length)).prependTo(results);
					}
				});
			});
		};
		$(form).submit(function(ev) {
			ev.preventDefault();
			var url = search.constructSearchQuery(form);
			config.macros.tsSearch.lastSearch = url;
			lookup(url);
		});
		if(search.lastSearch) {
			lookup(search.lastSearch);
		}
		return form;
	},
	handler: function(place) {
		var container = $("&lt;div /&gt;").addClass("searchForm").appendTo(place)[0];
		search.constructForm(container);
	}
};

})(jQuery);
//}}}</pre>
</div>
<div title="你看过了许多美女" server.title="你看过了许多美女" server.page.revision="2567112" server.etag="&quot;zhucebuliaogyx_public/%E4%BD%A0%E7%9C%8B%E8%BF%87%E4%BA%86%E8%AE%B8%E5%A4%9A%E7%BE%8E%E5%A5%B3/2567112:14ce0c8269893bcbd1991f124219afd0f78ec0f6&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20160927154109" created="20160927131654" tags="kristtps 小栗旬" _hash="75fa8b70285a08f2a82714880169f93f74948989">
<pre>
&lt;html&gt;
&lt;embed src="http://music.baidu.com/song/s/40069d07920857e67d01" type="application/x-shockwave-flash" width="257" height="33" wmode="transparent"&gt;&lt;/embed&gt;
&lt;body&gt;
&lt;div align="center"&gt;
&lt;embed src="http://ww1.sinaimg.cn/mw690/005Kd0gKgw1ezd0ignyfkj30bw0goq4c.jpg" &gt;&lt;/embed&gt;


&lt;/div&gt;
&lt;div align="center"&gt;
&lt;embed src="http://ww4.sinaimg.cn/mw690/005Kd0gKgw1ezcrts7y4hj318g0p0jwx.jpg" &gt;&lt;/embed&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div align="center"&gt;
&lt;embed src="http://ww1.sinaimg.cn/mw690/005Kd0gKgw1f88kbaewjej30ss0qowhl.jpg" &gt;&lt;/embed&gt;
&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="Start writing" server.title="Start writing" server.page.revision="1521876" server.etag="&quot;system-info_public/Start%20writing/1521876:5f1c8153d496b1703bd908697aa26faf05b0ef2f&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-info_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-info_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeMissing excludeSearch" _hash="7d1a54121ab3a090a54dd263b3e45c3f7699f8ed">
<pre>Click the "new tiddler" button towards the top right of the screen to write something in your space. You'll need to give it a title, some content and, optionally, some tags that will help you identify it later.

!Stuck for ideas?
Not sure what to write about? Not sure what to keep in your space? Other people use ~TiddlySpace for almost anything. How about some of the following:

* [[Save interesting sites|http://bookmarks.tiddlyspace.com]], images or articles from around the web so that you can refer back to them.
* [[Record your family tree|http://familytree.tiddlyspace.com]], store notes on long lost relatives or ancestors and map their relationship to you.
* [[Make up a pocketbook|http://pocketbook.tiddlyspace.com]] to store some useful information in, then print it out, [[fold it up|http://www.pocketmod.com/]], and take it with you.
* [[Plan your holiday|http://the-web-is-your-oyster.tiddlyspace.com/]], record where you're planning to go, note down places of interest and refer back to it later.
* [[Create a mindmap|http://mindmaps.tiddlyspace.com/]] to visualise your inner thoughts and see how they relate to each other.
* [[Set up a questionnaire|http://questionnaire.tiddlyspace.com/]] and get all your friends to answer it.

If you don't like any of those ideas, you can still use this space directly to keep notes and link them together, make a todo list and keep track of everything you're doing, or any one of a hundred million other things.

Still stuck? Check out the @featured space for more suggestions.

You can also [[socialise with others|How to socialise]].</pre>
</div>
<div title="EditTemplate" server.title="EditTemplate" server.page.revision="1521922" server.etag="&quot;system-theme_public/EditTemplate/1521922:89e08780949af8df37281a5336dd706b8629967f&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-theme_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-theme_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch" _hash="bb2ebcb9880f563a789711fbbbec5d3bfcb1b248">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar'
	macro='toolbar [[ToolbarCommands::EditToolbar]] icons:yes'&gt;
&lt;/div&gt;
&lt;div class='heading editorHeading'&gt;
	&lt;div class='editor title' macro='edit title'&gt;&lt;/div&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='annotationsBox' macro='annotations'&gt;
	&lt;div class='editSpaceSiteIcon'
		macro='tiddlerOrigin height:16 width:16 label:no interactive:no'&gt;
	&lt;/div&gt;
	&lt;div class="privacyEdit" macro='setPrivacy label:no interactive:no'&gt;&lt;/div&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='editor' macro='edit text'&gt;&lt;/div&gt;
&lt;div class='editorFooter'&gt;
	&lt;div class='tagTitle'&gt;tags&lt;/div&gt;
	&lt;div class='editor' macro='edit tags'&gt;&lt;/div&gt;
	&lt;div class='tagAnnotation'&gt;
		&lt;span macro='message views.editor.tagPrompt'&gt;&lt;/span&gt;
		&lt;span macro='tagChooser excludeLists'&gt;&lt;/span&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="TiddlySpaceFilters" server.title="TiddlySpaceFilters" server.page.revision="1521906" server.etag="&quot;tiddlyspace/TiddlySpaceFilters/1521906:f8643247d08b861e5a2e206851e3e1f2cbab597d&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/javascript" modified="20131111192334" created="20131111192334" tags="excludeLists excludeSearch systemConfig" _hash="3b6e75a776f9a07498220fe23b305bc97b531afc">
<pre>/***
|''Name''|TiddlySpaceFilters|
|''Description''|provide TiddlySpace-specific filter extensions|
|''Author''|Jon Robson|
|''Version''|0.6.1|
|''Status''|@@beta@@|
|''CoreVersion''|2.6.2|
|''Requires''|TiddlySpaceConfig|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
!Usage
{{{
&lt;&lt;tsList Private&gt;&gt;
&lt;&lt;tsList Public&gt;&gt;
&lt;&lt;tsList Draft&gt;&gt;
}}}
!Code
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;
var privateBag = tiddlyspace.getCurrentBag("private");
var publicBag = tiddlyspace.getCurrentBag("public");

config.filterHelpers = {
	is: {
		"private": function(tiddler) {
			var bag = tiddler.fields["server.bag"];
			return bag == privateBag;
		},
		"public": function(tiddler) {
			var bag = tiddler.fields["server.bag"];
			return bag == publicBag;
		},
		draft: function(tiddler) {
			var fields = tiddler.fields;
			var bag = fields["server.bag"];
			return (privateBag == bag &amp;&amp; fields["publish.name"]) ? true : false;
		},
		local: function(tiddler) {
			return config.filterHelpers.is["public"](tiddler) ||
				config.filterHelpers.is["private"](tiddler);
		},
		unsynced: function(tiddler) {
			return tiddler ? tiddler.isTouched() : false;
		}
	}
};

config.filters.is = function(results, match) {
	var candidates = store.getTiddlers("title");
	var type = match[3];
	for (var i = 0; i &lt; candidates.length; i++) {
		var tiddler = candidates[i];
		var helper = config.filterHelpers.is[type];
		if(helper &amp;&amp; helper(tiddler)) {
			results.pushUnique(tiddler);
		}
	}
	return results;
};

})(jQuery);
//}}}</pre>
</div>
<div title="deleteTiddler" server.title="deleteTiddler" server.page.revision="1521929" server.etag="&quot;system-images_public/deleteTiddler/1521929:008f10d60ff9afff4b4c93adcb9eb37a771d59db&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-images_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-images_public" server.permissions="read" server.content-type="image/svg+xml" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch" _hash="cdf65cc5eb8e6665817a04cc764cd8797947f799">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="450 366 38 57"
width="30" height="30"&gt;
	&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;
		&lt;g&gt;
			&lt;path d="M 452.1094 421.2422 L 450 421.2422 L 450 423 L 487.9688 423 L 487.9688 421.2422 L 485.8595 421.2422 
			L 485.8595 377.29688 L 487.9688 377.29688 L 487.9688 375.53906 L 485.8595 375.53906 
			C 485.8595 375.53906 481.12463 371.59341 473.02023 370.52802 C 472.6824 368.9689 471.72098 366.75 468.9844 366.75 
			C 466.24783 366.75 465.28638 368.9689 464.94864 370.52802 
			C 456.84418 371.59341 452.1094 375.53906 452.1094 375.53906 L 450 375.53906 L 450 377.29688 L 452.1094 377.29688 
			Z M 467.12247 370.32086 L 467.12247 370.32086 C 467.3805 369.42395 467.90762 368.50781 468.9844 368.50781 
			C 470.0612 368.50781 470.5883 369.42395 470.84634 370.32086 
			C 470.24136 370.2848 469.62054 370.26562 468.9844 370.26562 
			C 468.34827 370.26562 467.72748 370.2848 467.12247 370.32086 Z M 454.21875 420.92804 L 454.21875 420.92804 
			C 455.46762 420.42087 456.32816 419.35281 456.32816 418.11716 L 456.32816 377.29688 L 458.4375 377.29688 
			L 458.4375 421.2422 L 454.21875 421.2422 Z M 460.5469 420.92804 L 460.5469 420.92804 
			C 461.79578 420.42087 462.65625 419.35281 462.65625 418.11716 L 462.65625 377.29688 L 464.76566 377.29688 
			L 464.76566 421.2422 L 460.5469 421.2422 Z M 466.87503 420.92804 L 466.87503 420.92804 
			C 468.1239 420.42087 468.9844 419.35281 468.9844 418.11716 L 468.9844 377.29688 L 471.09378 377.29688 
			L 471.09378 421.2422 L 466.87503 421.2422 Z M 473.2032 420.92804 L 473.2032 420.92804 
			C 474.45203 420.42087 475.31256 419.35281 475.31256 418.11716 L 475.31256 377.29688 L 477.4219 377.29688 
			L 477.4219 421.2422 L 473.2032 421.2422 Z M 479.5313 420.92804 L 479.5313 420.92804 
			C 480.78018 420.42087 481.64066 419.35281 481.64066 418.11716 L 481.64066 377.29688 L 483.75006 377.29688 
			L 483.75006 421.2422 L 479.5313 421.2422 Z" fill="black" class="glyph"/&gt;
		&lt;/g&gt;
	&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="RandomColorPalettePlugin" server.title="RandomColorPalettePlugin" server.page.revision="1521872" server.etag="&quot;system-plugins_public/RandomColorPalettePlugin/1521872:03ab696edf6f4c913810fe8d9ed65b5e55faeb42&quot;" modifier="jon" creator="jon" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch systemConfig" _hash="c5b359abab5a1446d12be89e6ea608d2d73e4822">
<pre>/***
|''Name''|RandomColorPalettePlugin|
|''Description''|Adds a random color palette to TiddlyWiki|
|''Author''|Jon Robson|
|''Version''|1.4.0|
|''Status''|stable|
|''Source''|https://github.com/jdlrobson/TiddlyWikiPlugins/raw/master/plugins/RandomColorPalettePlugin/RandomColorPalettePlugin.js|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
!Usage
{{{
&lt;&lt;RandomColorPalette&gt;&gt;
}}}
Sets and saves a random color palette on execution

{{{
&lt;&lt;RandomColorPaletteButton&gt;&gt;
}}}
Creates a button, which when clicked will change the color palette
More information at http://macros.tiddlyspace.com/#%5B%5BRandomColorPaletteButton%20macro%5D%5D
!Code
***/
//{{{
RGB.prototype.toRGBString = function() {
	return "rgb(%0,%1,%2)".format(parseInt(this.r * 255, 10),
		parseInt(this.g * 255, 10), parseInt(this.b * 255, 10))
}
function HSL_TO_RGB(h, s, l) { // h (hue) between 0 and 360, s (saturation) &amp; l (lightness) between 0 and 1
	var c = l &lt;= 0.5 ? 2 * l * s : ( 2 - (2 * l)) * s;
	var h1 = h / 60;
	var x = c * (1 - Math.abs((h1 % 2) - 1)); 
	var r, g, b;
	if(typeof(h) == 'undefined') {
		r = 0;
		g = 0;
		b = 0;
	} else if(0 &lt;= h1 &amp;&amp; h1 &lt; 1) {
		r = c;
		g = x;
		b = 0;
	} else if(1 &lt;= h1 &amp;&amp; h1 &lt; 2) {
		r = x;
		g = c;
		b = 0;
	} else if(2 &lt;= h1 &amp;&amp; h1 &lt; 3) {
		r = 0;
		g = c;
		b = x;
	} else if(3 &lt;= h1 &amp;&amp; h1 &lt; 4) {
		r = 0;
		g = x;
		b = c;
	} else if(4 &lt;= h1 &amp;&amp; h1 &lt; 5) {
		r = x;
		g = 0;
		b = c;
	} else if(5 &lt;= h1 &amp;&amp; h1 &lt; 6) {
		r = c;
		g = 0;
		b = x;
	}
	m = l - (0.5 * c);
	return new RGB(r + m, g + m, b + m);
}

(function($){
	var macro = config.macros.RandomColorPalette = {
		messagesOn: false, 
		changedPaletteText: "We have assigned you a random theme by adjusting the [[ColorPalette]] tiddler.\nDon't like it? Click &lt;&lt;RandomColorPalette&gt;&gt; for another one.", 
		handler: function(place, macroName, params, wikifier, paramString, tiddler) {
			paramString = paramString || "";
			var options = macro.getOptions(paramString);
			macro.generatePalette(options, true);
		},
		optionTypes: {
			floats: ["hue", "saturation", "darkest", "lightness", "huevariance", "dark", "pale", "light", "mid",
				"saturation_light", "saturation_pale", "saturation_mid", "saturation_dark"
			]
		},
		getOptions: function(paramString) {
			var args = paramString.parseParams("name", null, true, false, true)[0];
			var options = {};
			var numbers = macro.optionTypes.floats;
			for(var i in args) {
				options[i] = numbers.indexOf(i) &gt; -1 ? parseFloat(args[i][0], 10) : args[i][0];
			}
			return options;
		},
		generateRandomNumber: function(min, max, info) {
			var num = (Math.random() * 1);
			info = !info ? { attempts:0 } : info;
			info.attempts += 1;
			var good = true;
			if(min == max) {
				return max;
			}
			if(min &amp;&amp; num &lt; min) {
				good = false;
			} else if(max &amp;&amp; num &gt; max) {
				good = false;
			}
			if(!good) {
				if(info.attempts &lt; 5) {
					return macro.generateRandomNumber(min, max, info);
				} else {
					if(max) {
						return max;
					} else if(min) {
						return min;
					} else {
						return 1;
					}
				}
			}
			return num;
		},
		getExistingPalette: function(asJSON) {
			var title = "ColorPalette";
			var tiddlerText;
			if(store.tiddlerExists(title)) {
				tiddlerText = store.getTiddlerText(title);
			} else if(store.isShadowTiddler(title)){
				tiddlerText = config.shadowTiddlers[title];
			}
			if(asJSON) {
				var json = {};
				if(tiddlerText) {
					var lines = tiddlerText.split("\n");
					for(var i = 0; i &lt; lines.length; i++) {
						var definition = lines[i].split(":");
						if(definition.length == 2) {
							var name = definition[0].trim();
							var value = definition[1].trim();
							json[name] = value;
						}
					}
				}
				return json;
			} else {
				return tiddlerText;
			}
		},
		generatePalette: function(options, save) {
			var outputRGB = options.rgb;
			var palette = macro.getExistingPalette(true);
			var hue = options.hue || Math.floor(Math.random() * 359);
			var saturation = options.saturation || macro.generateRandomNumber(0.3, 0.7);
			var dark = options.dark || options.darkest || macro.generateRandomNumber(0, 0.10);
			var pale = options.pale || options.lightness || macro.generateRandomNumber(0.90, 1);
			var delta = ( ( pale - dark ) / 3 );
			var mid = options.mid || dark + delta;
			var light = options.light || dark + (delta * 2);
			var lightness_values = {Dark: dark, Mid: mid, Light: light, Pale: pale};
			var saturation_values = {};
			for(i in lightness_values) {
				if(true) {
					saturation_values[i] = options["saturation_" + i.toLowerCase()] || saturation;
				}
			}

			var opposite_hue = (hue + 180) % 360;
			var seed = options.huevariance || Math.floor((85 * Math.random()) + 5); // we want it to be at least 5 degrees
			var huetwo = (opposite_hue + seed) % 360;
			var huethree = (opposite_hue - seed) % 360;
			if(huetwo &lt; 0) {
				huetwo = 360 + huetwo;
			}
			if(huethree &lt; 0) {
				huethree = 360 + huethree;
			}
			for(var j in lightness_values) {
				if(true) {
					var saturation = saturation_values[j];
					palette["Primary" + j] = HSL_TO_RGB(hue, saturation, lightness_values[j]);
					palette["Secondary" + j] = HSL_TO_RGB(huetwo, saturation, lightness_values[j]);
					palette["Tertiary" + j] = HSL_TO_RGB(huethree, saturation, lightness_values[j]);
				}
			}
			palette.Background = HSL_TO_RGB(hue, saturation, 0.92);
			palette.Foreground = HSL_TO_RGB(hue, saturation, 0.08);
			palette.ColorPaletteParameters = ["HSL([", hue, "|", seed, "], [", saturation_values.Pale, "|",
				saturation_values.Light, "|", saturation_values.Mid, "|", saturation_values.Dark, "],",
				"[", dark, "|", mid, "|", light, "|", pale, "])"].join("");
			// construct new ColorPalette
			var text = ["/*{{{*/\n"];
			var colorcode;
			for(var id in palette) {
				if(true) {
					var color = palette[id];
					colorcode = outputRGB ? color.toRGBString() : color.toString();
					text.push("%0: %1\n".format(id, colorcode));
				}
			}
			text.push("/*}}}*/");
			text = text.join("");
			if(save) {
				macro.saveColorPalette(text);
			}
			return text;
		},
		saveColorPalette: function(text) {
			var tid = store.getTiddler("ColorPalette");
			if(!tid) {
				tid = new Tiddler("ColorPalette");
				tid.fields = merge({}, config.defaultCustomFields);
			} // TODO: detect that the ColorPalette in the space comes from outside recipe
			tid.fields["server.page.revision"] = "false"; // edit conflicts dont matter

			// save the color palette in tid
			tid = store.saveTiddler(tid.title, tid.title, text, tid.modifier, tid.modified,
				tid.tags, tid.fields, false, tid.created, tid.creator);
			// an interval is used to cope with users clicking on the palette button quickly.
			if(macro._nextSave) {
				window.clearTimeout(macro._nextSave);
			}
			macro._nextSave = window.setTimeout(function() {
					autoSaveChanges(null, [tid]);
				}, 2000);
			// temporary workaround for IE.
			$.twStylesheet.remove({ id: "StyleSheetColors" });
			$.twStylesheet.remove({ id: "StyleSheet" });
			refreshAll();
			macro.reportChange();
			return tid;
		},
		reportChange: function() {
			if(macro.messagesOn) { // only display message once..
				var msgPlace = getMessageDiv();
				if(!$(".changedPalette", msgPlace)[0]) {
					var tempPlace = document.createElement("div");
					wikify("{{changedPalette{" + macro.changedPaletteText + "}}}", tempPlace);
					msgPlace.appendChild(tempPlace);
				}
			}
		}
	};
	var btnMacro = config.macros.RandomColorPaletteButton = {
			text: "New ColorPalette",
			tooltip: "Generate a random colour scheme for your TiddlyWiki",
			makeButton: function(place, options) {
				var btnHandler = function(ev) {
					var t = $(ev.target);
					var options = t.data("options");
					macro.generatePalette(options, true);
					ev.preventDefault();
					return false;
				};
				var btn = createTiddlyButton(place, this.text, this.tooltip, btnHandler);
				$(btn).data("options", options);
				return btn;
			},
			handler: function(place, macroName, params, wikifier, paramString, tiddler) {
				var options = macro.getOptions(paramString);
				btnMacro.makeButton(place, options);
			}
	};
})(jQuery);
//}}}</pre>
</div>
<div title="closeTiddler" server.title="closeTiddler" server.page.revision="1521934" server.etag="&quot;system-images_public/closeTiddler/1521934:6b27a9a362dda508f433dae83f6ef10167c40919&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-images_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-images_public" server.permissions="read" server.content-type="image/svg+xml" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch" _hash="1ddacf68b541cb91b7b896c9c2934ec79e8997a0">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="78 222 60 60" 
width="30" height="30"&gt;
&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;
	&lt;g&gt;
		&lt;path d="M 107.92718 244.14815 L 86.651474 222.89253 L 78.85206 230.69925 L 100.120415 251.9476 L 78.774 273.27396 
		L 86.57342 281.08075 L 107.927216 259.74707 L 129.39981 281.19946 L 137.19922 273.39267 L 115.73397 251.94763 
		L 137.121155 230.58054 L 129.32175 222.77374 Z" fill="black" class="glyph"/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="TiddlyWebConfig" server.title="TiddlyWebConfig" server.page.revision="1521857" server.etag="&quot;system/TiddlyWebConfig/1521857:09fcb5a66e5a747ed1515d34b24d22e67402846c&quot;" modifier="FND" creator="FND" server.workspace="bags/system" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system" server.permissions="read" server.content-type="text/javascript" modified="20130924180405" created="20130924180405" tags="excludeLists excludeSearch systemConfig" _hash="29e43eb7496ba0572556029d183cb3f434369f04">
<pre>/***
|''Name''|TiddlyWebConfig|
|''Description''|configuration settings for TiddlyWebWiki|
|''Author''|FND|
|''Version''|1.3.2|
|''Status''|stable|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/plugins/TiddlyWebConfig.js|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''Requires''|TiddlyWebAdaptor ServerSideSavingPlugin|
|''Keywords''|serverSide TiddlyWeb|
!Code
***/
//{{{
(function($) {

if(!config.extensions.ServerSideSavingPlugin) {
	throw "Missing dependency: ServerSideSavingPlugin";
}
if(!config.adaptors.tiddlyweb) {
	throw "Missing dependency: TiddlyWebAdaptor";
}

if(window.location.protocol != "file:") {
	config.options.chkAutoSave = true;
}

var adaptor = tiddler.getAdaptor();
var recipe = tiddler.fields["server.recipe"];
var workspace = recipe ? "recipes/" + recipe : "bags/common";

var plugin = config.extensions.tiddlyweb = {
	host: tiddler.fields["server.host"].replace(/\/$/, ""),
	username: null,
	status: {},

	getStatus: null, // assigned later
	getUserInfo: function(callback) {
		this.getStatus(function(status) {
			callback({
				name: plugin.username,
				anon: plugin.username ? plugin.username == "GUEST" : true
			});
		});
	},
	hasPermission: function(type, tiddler) {
		var perms = tiddler.fields["server.permissions"];
		if(perms) {
			return perms.split(", ").contains(type);
		} else {
			return true;
		}
	}
};

config.defaultCustomFields = {
	"server.type": tiddler.getServerType(),
	"server.host": plugin.host,
	"server.workspace": workspace
};

// modify toolbar commands

config.shadowTiddlers.ToolbarCommands = config.shadowTiddlers.ToolbarCommands.
	replace("syncing ", "revisions syncing ");

config.commands.saveTiddler.isEnabled = function(tiddler) {
	return plugin.hasPermission("write", tiddler) &amp;&amp; !tiddler.isReadOnly();
};

config.commands.deleteTiddler.isEnabled = function(tiddler) {
	return !readOnly &amp;&amp; plugin.hasPermission("delete", tiddler);
};

// hijack option macro to disable username editing
var _optionMacro = config.macros.option.handler;
config.macros.option.handler = function(place, macroName, params, wikifier,
		paramString) {
	if(params[0] == "txtUserName") {
		params[0] = "options." + params[0];
		var self = this;
		var args = arguments;
		args[0] = $("&lt;span /&gt;").appendTo(place)[0];
		plugin.getUserInfo(function(user) {
			config.macros.message.handler.apply(self, args);
		});
	} else {
		_optionMacro.apply(this, arguments);
	}
};

// hijack isReadOnly to take into account permissions and content type
var _isReadOnly = Tiddler.prototype.isReadOnly;
Tiddler.prototype.isReadOnly = function() {
	return _isReadOnly.apply(this, arguments) ||
		!plugin.hasPermission("write", this);
};

var getStatus = function(callback) {
	if(plugin.status.version) {
		callback(plugin.status);
	} else {
		var self = getStatus;
		if(self.pending) {
			if(callback) {
				self.queue.push(callback);
			}
		} else {
			self.pending = true;
			self.queue = callback ? [callback] : [];
			var _callback = function(context, userParams) {
				var status = context.serverStatus || {};
				for(var key in status) {
					if(key == "username") {
						plugin.username = status[key];
						config.macros.option.propagateOption("txtUserName",
							"value", plugin.username, "input");
					} else {
						plugin.status[key] = status[key];
					}
				}
				for(var i = 0; i &lt; self.queue.length; i++) {
					self.queue[i](plugin.status);
				}
				delete self.queue;
				delete self.pending;
			};
			adaptor.getStatus({ host: plugin.host }, null, _callback);
		}
	}
};
(plugin.getStatus = getStatus)(); // XXX: hacky (arcane combo of assignment plus execution)

})(jQuery);
//}}}</pre>
</div>
<div title="ToggleTiddlerPrivacyPlugin" server.title="ToggleTiddlerPrivacyPlugin" server.page.revision="1521863" server.etag="&quot;system-plugins_public/ToggleTiddlerPrivacyPlugin/1521863:8266eabf84558d38e3e5a0ec6d825343b4aa372c&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch systemConfig" _hash="3acf06056e188b31bcc3c42ec673a050886d64c4">
<pre>/***
|''Name''|ToggleTiddlerPrivacyPlugin|
|''Version''|0.7.1|
|''Status''|@@beta@@|
|''Description''|Allows you to set the privacy of new tiddlers and external tiddlers within an EditTemplate, and allows you to set a default privacy setting|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/ToggleTiddlerPrivacyPlugin.js|
!Notes
When used in conjunction with TiddlySpaceTiddlerIconsPlugin changing the privacy setting will also interact with any privacy icons.

Currently use of
{{{&lt;&lt;setPrivacy defaultValue:public&gt;&gt;}}} is in conflict with {{{&lt;&lt;newTiddler fields:"server.workspace:x_private"&gt;&gt;}}}

There is an option, found in the tweak tab of the backstage, called txtPrivacyMode. Set this to either ''public'' or ''private'' depending on your security preference. If you choose not to set it then it will default to ''public''.
!Params
defaultValue:[private|public]
Allows you to set the default privacy value (Default is private)

!Code
***/
//{{{
(function($) {

	var tiddlyspace = config.extensions.tiddlyspace,
		macro;
	macro = config.macros.setPrivacy = {
		handler: function(place, macroName, params, wikifier, paramString, tiddler) {
			if(readOnly) {
				return;
			}
			var el = $(story.findContainingTiddler(place)),
				args = paramString.parseParams("name",
					null, true, false, true)[0],
				container = $("&lt;div /&gt;").
					addClass("privacySettings").
					appendTo(place)[0],
				currentSpace = tiddlyspace.currentSpace.name,
				currentBag = tiddler ? tiddler.fields["server.bag"] : false,
				// XXX: is the following reliable?
				isNewTiddler = el.hasClass("missing") || !currentBag,
				tiddlerStatus = tiddlyspace.getTiddlerStatusType(tiddler),
				customFields = el.attr("tiddlyfields"),
				defaultValue = "public",
				options = config.macros.tiddlerOrigin ?
						config.macros.tiddlerOrigin.getOptions(paramString) :
						{};
			customFields = customFields ? customFields.decodeHashMap() : {};
			if(isNewTiddler || !["public", "private", "unsyncedPrivate",
					"unsyncedPublic"].contains(tiddlerStatus)) {
				if(args.defaultValue) {
					defaultValue = args.defaultValue[0].toLowerCase();
				} else {
					defaultValue = config.options.chkPrivateMode ?
							"private" : "public";
				}
				defaultValue = defaultValue ?
						"%0_%1".format(currentSpace, defaultValue) :
						customFields["server.bag"];
				this.createRoundel(container, tiddler, currentSpace,
						defaultValue, options);
			}
		},
		updateEditFields: function(tiddlerEl, bag) {
			var saveBagField = $('[edit="server.bag"]', tiddlerEl),
				saveWorkspaceField = $('[edit="server.workspace"]', tiddlerEl),
				input = $("&lt;input /&gt;").attr("type", "hidden"),
				workspace = "bags/" + bag;
			if(saveBagField.length === 0) {
				input.clone().attr("edit", "server.bag").val(bag).
					appendTo(tiddlerEl);
			} else {
				saveBagField.val(bag);
			}
			// reset to prevent side effects
			$(tiddlerEl).attr("tiddlyFields", "");
			if(saveWorkspaceField.length === 0) {
				input.clone().attr("edit", "server.workspace").
					val(workspace).appendTo(tiddlerEl);
			} else {
				saveWorkspaceField.val(workspace);
			}
		},
		setBag: function(tiddlerEl, newBag, options) {
			var bagStatus,
				title = $(tiddlerEl).attr("tiddler"),
				tiddler = store.getTiddler(title),
				originButton = $(".originButton", tiddlerEl)[0],
				refreshIcon,
				newWorkspace = "bags/" + newBag,
				rPrivate = $("input[type=radio].isPrivate", tiddlerEl),
				rPublic = $("input[type=radio].isPublic", tiddlerEl);
			refreshIcon = function(type) {
				var originMacro = config.macros.tiddlerOrigin;
				if(originButton &amp;&amp; originMacro) {
					options.noclick = true;
					originMacro.showPrivacyRoundel(tiddler, type,
							originButton, options);
				}
			};
			macro.updateEditFields(tiddlerEl, newBag);
			if(tiddler) {
				tiddler.fields["server.bag"] = newBag;
				// for external tiddlers
				tiddler.fields["server.workspace"] = newWorkspace;
			}
			if(newBag.indexOf("_public") &gt; -1) {
				rPrivate.attr("checked", false);
				rPublic.attr("checked", true);
				bagStatus = "public";
			} else {
				rPublic.attr("checked", false); // explicitly do this for ie
				rPrivate.attr("checked", true);
				bagStatus = "private";
			}
			refreshIcon(bagStatus);
		},
		createRoundel: function(container, tiddler, currentSpace,
							   defaultValue, options) {
			var privateBag = "%0_private".format(currentSpace),
				publicBag = "%0_public".format(currentSpace),
				rbtn = $("&lt;input /&gt;").attr("type", "radio").
					attr("name", tiddler.title),
				el = story.findContainingTiddler(container);
			rbtn.clone().val("private").addClass("isPrivate").
				appendTo(container);
			$("&lt;label /&gt;").text("private").appendTo(container); // TODO: i18n
			rbtn.clone().val("public").addClass("isPublic")
				.appendTo(container);
			$("&lt;label /&gt;").text("public").appendTo(container); // TODO: i18n
			$("[type=radio]", container).click(function(ev) {
				var btn = $(ev.target);
				tiddler.fields["server.page.revision"] = "false";
				if(btn.hasClass("isPrivate")) { // private button clicked.
					$(el).addClass("isPrivate").removeClass("isPublic");
					macro.setBag(el, privateBag, options);
				} else {
					$(el).addClass("isPublic").removeClass("isPrivate");
					macro.setBag(el, publicBag, options);
				}
			});
			window.setTimeout(function() {
				macro.setBag(el, defaultValue, options);
			}, 100);
			// annoyingly this is needed as customFields are added to end of EditTemplate so are not present yet
			// and don't seem to respect any existing customFields.
		}
	};

}(jQuery));
//}}}</pre>
</div>
<div title="Backstage" server.title="Backstage" server.page.revision="1521902" server.etag="&quot;tiddlyspace/Backstage/1521902:4fa1eeb56240f66bd7cd2ed60dbfe073e69adfa3&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="" modified="20131111192332" created="20131111192332" tags="excludeLists excludeMissing excludeSearch" _hash="374716f48c21298abb095093dce2176965648975">
<pre>!SpaceUnplugged
{{unpluggedSpaceTab{
{{wizard{
&lt;&lt;image unsyncedIcon width:48&gt;&gt; Sync is currently unavailable in ~TiddlyWiki due to security constraints in modern browsers. Research is being done to build a suitable alternative. In the meantime if you have changed content in an offline ~TiddlyWiki, you can get your content back into ~TiddlySpace by using the ''import'' functionality from the backstage of the online wiki.
}}}
}}}

!Menu
&lt;&lt;message messages.memberStatus&gt;&gt; &lt;&lt;homeLink&gt;&gt;
{{unsyncedList{&lt;&lt;message messages.syncListHeading&gt;&gt; &lt;&lt;list filter [is[unsynced]]&gt;&gt;}}}

running TiddlySpace@glossary version &lt;&lt;message extensions.tiddlyweb.status.tiddlyspace_version&gt;&gt;
{{autotable{
&lt;&lt;tiddler Backstage##Resources&gt;&gt;
}}}

!Resources
[[blog|@@blog]] [[documentation|@@docs]] [[featured spaces|@@featured]] 

!ImportExport
&lt;&lt;fileImport&gt;&gt;
You can download this TiddlySpace as an offline TiddlyWiki:

{{chunkyButton{&lt;&lt;exportSpace&gt;&gt;}}}

!BackstageTiddlers
|upload a &lt;&lt;message messages.privacySetting&gt;&gt; file: &lt;&lt;binaryUpload&gt;&gt;|&lt;&lt;closeAll&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;newTiddler&gt;&gt;&lt;&lt;newJournal "DD MMM YYYY" "journal"&gt;&gt;&lt;&lt;saveChanges&gt;&gt;|
|&gt;|&lt;&lt;search&gt;&gt;|
|&gt;|&lt;&lt;tiddler Backstage##Tiddlers&gt;&gt;|

!Tiddlers
&lt;&lt;tabs
	txtMainTab
	"Recent" "Recently edited tiddlers" TabTimeline
	"All" "All tiddlers" TabAll
	"Public" "All public tiddlers" [[TiddlySpaceTabs##Public]]
	"Private" "All private tiddlers" [[TiddlySpaceTabs##Private]]
	"Tags" "All tags" TabTags
	"Spaces" "Tiddlers grouped by space" [[TiddlySpaceTabs##Spaces]]
	"Missing" "Missing tiddlers" TabMoreMissing
	"Orphans" "Orphaned tiddlers" TabMoreOrphans
	"Shadows" "Shadowed tiddlers" TabMoreShadowed
&gt;&gt;

!BatchOps
&lt;&lt;tabs
	txtPublisherTab
	"Private" "Move tiddlers from private to public" Backstage##BatchPrivate
	"Public" "Move tiddlers from public to private" Backstage##BatchPublic
&gt;&gt;

!BatchPrivate
&lt;&lt;TiddlySpacePublisher type:private&gt;&gt;

!BatchPublic
&lt;&lt;TiddlySpacePublisher type:public&gt;&gt;

!Plugins
''Note:'' Many of these plugins are core TiddlySpace plugins and cannot be changed unless first cloned.

&lt;&lt;tiddler PluginManager&gt;&gt;

!Tweaks
These options change behavior in TiddlyWiki //only// and may be ineffective in TiddlySpace.

&lt;&lt;tiddler AdvancedOptions&gt;&gt;</pre>
</div>
<div title="TiddlySpaceRevertRevision" server.title="TiddlySpaceRevertRevision" server.page.revision="1521871" server.etag="&quot;system-plugins_public/TiddlySpaceRevertRevision/1521871:a82f074e3e5cc38a51b48aeed6e067045d6313af&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeMissing excludeSearch systemConfig" _hash="db2d6dc5a63b9262d62fb6ffe02dbe10fdd31feb">
<pre>/***
|''Name''|TiddlySpaceRevertRevision|
|''Description''|Revert to a previous revision|
|''Author''|BenGillies|
|''Version''|0.1|
|''Status''|unstable|
|''Source''|http://github.com/TiddlySpace/tiddlyspace|
|''CodeRepository''|http://github.com/TiddlySpace/tiddlyspace|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.6.0|
|''Requires''|TiddlyWebAdaptor TiddlySpaceRevisionView|
!Usage
Add a control button to revert to a particular revision.

The button must be called from within a revision, as generated by TiddlySpaceRevisionView
!Code
***/
//{{{
(function($) {

config.commands.revert = {
	text: "revert",
	tooltip: "make this revision the current one",
	handler: function(ev, src, title) {
		var revElem = story.getTiddler(title);
		var tidToRevert = store.getTiddler($(revElem).attr("revName"));

		var revision = store.getTiddler(title);
		if ((revision) &amp;&amp; (tidToRevert)) {
			tidToRevert.text = revision.text;
			var newFields = merge({}, revision.fields);
			for (var fieldName in newFields) {
				if (fieldName.substr(0, 7) === "server.") {
					delete newFields[fieldName];
				}
			}
			merge(tidToRevert.fields, newFields);
			tidToRevert.tags = merge([], revision.tags);
			tidToRevert.fields.changecount = 1;
			delete tidToRevert.fields.doNotSave;

			store.saveTiddler(tidToRevert.title, tidToRevert.title,
				tidToRevert.text, null, null, tidToRevert.tags,
				tidToRevert.fields, false, tidToRevert.created, tidToRevert.creator);

			autoSaveChanges(true);
		}
	}
};

})(jQuery);
//}}}</pre>
</div>
<div title="saveTiddler" server.title="saveTiddler" server.page.revision="1521927" server.etag="&quot;system-images_public/saveTiddler/1521927:a0da0c7ec5e8dfe7c61628506c81ce716ca467a1&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-images_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-images_public" server.permissions="read" server.content-type="image/svg+xml" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch" _hash="461592520ce0f489a4d4a95f0dcb4e1e46d2f6e7">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="2 724 68 55" 
width="30" height="30"&gt;
&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;
	&lt;g&gt;
		&lt;path d="M 2.25 756 L 11.25 747 L 24.75 760.4994 L 60.750004 724.4994 L 69.75 733.49902 
		L 24.749977 778.49976 Z" fill="#101010" class="glyph"/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="setDefaultTiddlers" server.title="setDefaultTiddlers" server.page.revision="1521878" server.etag="&quot;system-info_public/setDefaultTiddlers/1521878:184aa4f0aa50cc7a3a19c6f007c2093730ef4dfb&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-info_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-info_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch" _hash="c632865df818925daec0d5040975797a27218e81">
<pre>Once you have some content then you may choose to determine a tiddler, or set of tiddlers to display each time you load ~TiddlySpace. This is determined by the [[DefaultTiddlers]].</pre>
</div>
<div title="_space" server.title="_space" server.page.revision="1521890" server.etag="&quot;tiddlyspace/_space/1521890:0f126e92c51e50dff1e8b4656b4be8756c25ebc1&quot;" modifier="None" creator="None" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/html" modified="20131111192332" created="20131111192332" tags="excludeLists excludeMissing excludeSearch" _hash="8c535528a72c980d5c68cc9ca28ef21cb040b270">
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;meta http-equiv="Content-Type" content="text/html;charset=utf-8"&gt;
	&lt;title&gt;This Space&lt;/title&gt;
	&lt;link href="/bags/common/tiddlers/profile.css" type='text/css' rel='stylesheet' &gt;
	&lt;link href="/bags/common/tiddlers/admin.css" type='text/css' rel='stylesheet' &gt;
	&lt;!--[if lte IE 8]&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/json2.js"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/es5-shim.min.js"&gt;&lt;/script&gt;
	&lt;![endif]--&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="container"&gt;
	&lt;div id="text-html" class="main section"&gt;
		&lt;a class="app" href="/"&gt;home&lt;/a&gt;
		&lt;div class="left"&gt;
		&lt;h2&gt;About this space &lt;button class='toggleNext'&gt;&lt;/button&gt;&lt;/h2&gt;
		&lt;div id="siteinfo"&gt;&lt;/div&gt;
		&lt;h2&gt;Site Icon&lt;/h2&gt;
		&lt;div&gt;
			&lt;img id="siteicon" class="siteicon"&gt;
			&lt;form id="upload" method="POST" enctype="multipart/form-data"&gt;
				&lt;input type="hidden" name="title" value="SiteIcon" /&gt;
				&lt;input type="hidden" name="tags" value="excludeLists"&gt;
				&lt;input type="hidden" name="csrf_token" class="csrf" /&gt;
				&lt;input type="file" name="file" accept="image/*" /&gt;
				&lt;input class="btn" type="submit" value="upload" /&gt;
			&lt;/form&gt;
			&lt;div id="dropzone"&gt;Drop file here
				&lt;img class="notloading" src="/bags/common/tiddlers/ajax-loader.gif" alt="submitting SiteIcon" /&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;h2&gt;Vital Statistics&lt;/h2&gt;
		&lt;div id="info"&gt;please wait while information is loaded about this space...&lt;/div&gt;
		&lt;button class="spacereset"&gt;Reset Space&lt;/button&gt;
		&lt;div class="reset-confirm-wrap messageArea"&gt;
			&lt;button class="close-btn" title="cancel reset"&gt;×&lt;/button&gt;
			&lt;p&gt;Are you sure you want to reset the space? You can't go back! This will remove all the content from the space!&lt;/p&gt;
			&lt;form class="cf"&gt;
				&lt;label for="reset-confirm"&gt;Enter the space name to confirm.&lt;/label&gt;
				&lt;input type="text" name="reset-confirm" class="reset-confirm-input inputBox" /&gt;
				&lt;button type="submit"&gt;Reset Now&lt;/button&gt;
			&lt;/form&gt;
			&lt;div class="reset-message-area"&gt;
				&lt;p class="performing"&gt;Resetting...&lt;/p&gt;
				&lt;p class="finished"&gt;Reset Done!&lt;/p&gt;
				&lt;p class="recipe-error-msg"&gt;Error removing includes. Please remove manually.&lt;/p&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;/div&gt;
		&lt;div class="right"&gt;
		&lt;div class="ts-membership"&gt;
			&lt;h2&gt;
				Add Member
				&lt;a href="http://docs.tiddlyspace.com/What%20is%20a%20member%3F" title="What is a Member?" class="help"&gt;What is a Member?&lt;/a&gt;
			&lt;/h2&gt;
			&lt;div&gt;
				&lt;p&gt;Add a new member to your space by entering their name below. Enter a space name instead and prefix with @ to add everyone who is already a member of that space.&lt;/p&gt;
				&lt;form class="ts-members"&gt;
					&lt;input class="inputBox" type="text" name="username"&gt;
					&lt;input type="submit" value="Add Member" class="btn" /&gt;
				&lt;/form&gt;
			&lt;/div&gt;
			&lt;h2&gt;
				Existing Members &lt;button class='toggleNext'&gt;&lt;/button&gt;
			&lt;/h2&gt;
			&lt;div&gt;
				Your space currently has the following members: 
				&lt;ul class="ts-members"&gt;&lt;/ul&gt;
			&lt;/div&gt;
			&lt;h2&gt;
				Include Space
				&lt;a class="help" href="http://docs.tiddlyspace.com/What%20is%20space%20inclusion%3F" title="What is inclusion?"&gt;What is Inclusion?&lt;/a&gt;
			&lt;/h2&gt;
			&lt;form class="ts-includes"&gt;
				&lt;input class="inputBox" type="text" name="spacename"&gt;
				&lt;input type="submit" value="Include Space" class="btn" /&gt;
			&lt;/form&gt;
		&lt;/div&gt;
		&lt;div&gt;
			&lt;h2&gt;Included Spaces &lt;button class='toggleNext'&gt;&lt;/button&gt;&lt;/h2&gt;
			&lt;div&gt;
			This space includes the following spaces:
			&lt;ul class="ts-includes"&gt;&lt;/ul&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;/div&gt;
		&lt;div class="clear"&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;script src='/bags/common/tiddlers/backstage.js'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/jquery.js'&gt;&lt;/script&gt;
&lt;script src='/bags/tiddlyspace/tiddlers/chrjs'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.space'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.users'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.identities'&gt;&lt;/script&gt;
&lt;script src='/bags/tiddlyspace/tiddlers/TiddlySpaceCSRF'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/jquery-form.js'&gt;&lt;/script&gt;
&lt;script src="/bags/common/tiddlers/siteiconupload.js"&gt;&lt;/script&gt;
&lt;script src="/bags/common/tiddlers/ts.js"&gt;&lt;/script&gt;
&lt;script src="/status.js"&gt;&lt;/script&gt;
&lt;script src="/bags/common/tiddlers/space.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="robots" server.title="robots" server.page.revision="1521875" server.etag="&quot;system-info_public/robots/1521875:62c181acb0abd42ff9b5fefa3ec96d27caf1c663&quot;" modifier="None" creator="None" server.workspace="bags/system-info_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-info_public" server.permissions="read" server.content-type="text/plain" modified="20130530195018" created="20130530195018" tags="excludeLists excludeSearch" _hash="35333958a4be1e71dffd5f713170f41c5785914a">
<pre>User-agent: *
Disallow: /bags
Disallow: /recipes</pre>
</div>
<div title="ErrorHandler" server.title="ErrorHandler" server.page.revision="1521896" server.etag="&quot;tiddlyspace/ErrorHandler/1521896:07ea57f0adee3efd4cb4007f732768d56bbebbd9&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/javascript" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch systemConfig" _hash="ffff853197a5561dfaef34fd40efbb0c738fbc79">
<pre>/***
|''Name''|ErrorHandlerPlugin|
|''Version''|0.4.3|
|''Author''|Jon Robson|
|''Description''|Localised tiddler save errors including edit conflict resolution.|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig|
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;
var currentSpace = tiddlyspace.currentSpace.name;
tiddlyspace.getLocalTitle = function(title, workspace, suffix) {
	var endsWith = config.extensions.BinaryTiddlersPlugin.endsWith;
	if(!suffix) {
		var isPublic = endsWith(workspace, "_public");
		suffix = tiddlyspace.resolveSpaceName(workspace);
		if(currentSpace == suffix) {
			suffix = isPublic ? "public" : "private";
		} else {
			suffix = "@%0".format(suffix);
		}
	}
	return "%0 *(%1)*".format(title, suffix);
};

var sssp = config.extensions.ServerSideSavingPlugin;

var msgs = config.messages.editConflict = {
	loading: "Loading..",
	resolve: "[[Edit Conflict]]@glossary: this tiddler may have been changed by someone else.",
	reviewDiff: "review (recommended)",
	reviewDiffTooltip: "review changes made to this tiddler",
	reviewDiffError: "error retrieving revision.",
	save: "overwrite",
	saveTooltip: "make this revision the top revision of this tiddler",
	discard: "cancel",
	discardTooltip: "undo changes to this tiddler and get most recent version",
	diffTitle: "%0",
	diffFieldTitle: "%0 - fields",
	diffTextTitle: "%0 - text",
	updating: "updating your version...",
	diffHeader: ["Review the changes that have been made whilst you were editing this tiddler. ",
		"Fold relevant changes back into your version.\n",
		"{{removed{Red}}} highlight shows content removed. ",
		"{{added{Green}}} highlight shows content added.\n"].join(""),
	diffTextHeader: "View changes in text",
	diffFieldsHeader: "View changes in fields"
};

var plugin = config.extensions.errorHandler = {
	diffTags: ["excludeLists", "excludeMissing", "excludeSearch"],
	displayMessage: function(message, tiddler, context) {
		var desc = context &amp;&amp; context.httpStatus ? context.statusText :
			sssp.locale.connectionError;
		var reportArea = plugin.reportError(tiddler.title);
		var msg = $("&lt;div /&gt;").appendTo(reportArea);
		if(message == "saveConflict") {
			wikify(msgs.resolve, msg[0]);
			var choiceArea = $("&lt;div /&gt;").appendTo(reportArea)[0];
			plugin.editConflictHandler(choiceArea, tiddler);
		} else {
			msg.text(sssp.locale[message].format(tiddler.title, desc));
		}
	},
	editConflictHandler: function(container, tiddler) {
		var title = tiddler.title;
		var myrev = tiddler.fields["server.page.revision"];
		// note user now needs to edit, fix problem and save. 
		// TODO: make sure this gets reset in save callback
		store.getTiddler(title).fields["server.page.revision"] = "false";

		var diffBtn = createTiddlyButton(container, msgs.reviewDiff, msgs.reviewDiffTooltip, function(ev) {
			var title = $(ev.target).data("title");
			plugin.displayDiff(ev.target, store.getTiddler(title), myrev);
		});
		var saveBtn = createTiddlyButton(container, msgs.save, msgs.saveTooltip, function(ev) {
				var title = $(ev.target).data("title");
				var tid = store.saveTiddler(store.getTiddler(title));
				autoSaveChanges(null, [tid]);
			});
		var ignoreBtn = createTiddlyButton(container, msgs.discard, msgs.discardTooltip, function(ev) {
			var title = $(ev.target).text(msgs.updating).data("title");
			plugin.resetToServerVersion(store.getTiddler(title));
		});
		$([diffBtn, ignoreBtn, saveBtn]).data("title", title);
	},
	getDiffTiddlerTexts: function(diffText) {
		var chunks = diffText.split("\n  \n");
		if(chunks.length &lt; 2) {
			return [chunks[0], ""];
		} else {
			var diffFieldsText = "{{diff{\n%0\n}}}".format(chunks[0]);
			diffText = '{{diff{\n%0\n}}}'.format(chunks.splice(1, chunks.length).join("\n"));
			return [diffText, diffFieldsText];
		}
	},
	makeDiffTiddler: function(title, diff) {
		var newTiddler = new Tiddler(title);
		var tags = plugin.diffTags;
		newTiddler.text = msgs.loading;
		newTiddler.fields.doNotSave = true;
		newTiddler.tags = diff ? tags.concat(["diff"]) : tags;
		newTiddler = store.saveTiddler(newTiddler);
		$.extend(store.getTiddler(title).fields,
			config.defaultCustomFields); // allow option to save it
		return newTiddler;
	},
	displayDiff: function(src, tiddler, latestRevision) {
		var adaptor = tiddler.getAdaptor();
		var title = tiddler.title;
		var ts = new Date().formatString("0hh:0mm:0ss");
		var suffix = "edit conflict %0".format(ts);
		var diffTitle = tiddlyspace.getLocalTitle(msgs.diffTitle.format(title), "", suffix);
		var diffTextTitle = tiddlyspace.getLocalTitle(msgs.diffTextTitle.format(title), "", suffix);
		var diffFieldsTitle = tiddlyspace.getLocalTitle(msgs.diffFieldTitle.format(title), "", suffix);
		plugin.makeDiffTiddler(diffTextTitle, true);
		plugin.makeDiffTiddler(diffFieldsTitle, true);
		var newTiddler = plugin.makeDiffTiddler(diffTitle, false);
		newTiddler.text = ['%0\n&lt;&lt;slider chkViewDiffText "%1" "%2"&gt;&gt;\n',
			'&lt;&lt;slider chkViewDiffField "%3" "%4"&gt;&gt;'].join("").
			format(msgs.diffHeader, diffTextTitle, msgs.diffTextHeader,
				diffFieldsTitle, msgs.diffFieldsHeader);
		store.saveTiddler(newTiddler);

		var callback = function(r) {
			var text = plugin.getDiffTiddlerTexts(r);
			store.getTiddler(diffTextTitle).text = text[0];
			store.getTiddler(diffFieldsTitle).text = text[1];
			story.refreshTiddler(diffTitle, null, true);
		};
		var workspace = "bags/%0".format(tiddler.fields["server.bag"]);
		ajaxReq({
			type: "get",
			dataType: "text",
			url: "/diff?format=unified&amp;rev1=%0/%1/%2&amp;rev2=%0/%1".format(workspace, title, latestRevision),
			success: callback,
			error: function() {
				displayMessage(msgs.reviewDiffError);
			}
		});
		story.displayTiddler(src, diffTitle);
	},
	resetToServerVersion: function(tiddler) {
		var adaptor = tiddler.getAdaptor();
		var ctx = { 
			host: tiddler.fields["server.host"],
			workspace: "bags/" + tiddler.fields["server.bag"]
		};
		adaptor.getTiddler(tiddler.title, ctx, null, function(context) {
			store.saveTiddler(context.tiddler);
			story.refreshTiddler(tiddler.title);
			store.setDirty(false);
		});
	},
	reportError: function(title) {
		var el = story.getTiddler(title);
		if(!el) {
			el = story.displayTiddler(null, title);
		}
		return $("&lt;div /&gt;").addClass("error annotation").prependTo(el)[0];
	}
};

sssp.reportFailure = function(message, tiddler, context) {
	config.options.chkViewDiffText = config.options.chkViewDiffText === undefined ?
		true : config.options.chkViewDiffText;
	config.options.chkViewDiffFields = config.options.chkViewDiffFields || false;
	plugin.displayMessage(message, tiddler, context);
};

})(jQuery);
//}}}</pre>
</div>
<div title="初心" server.title="初心" server.page.revision="2586891" server.etag="&quot;zhucebuliaogyx_public/%E5%88%9D%E5%BF%83/2586891:1e5e8abdb7d7da323f5106851702b455857eb6b8&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161123114933" created="20161101152553" tags="html学习" _hash="cd32b034ec857f733e4a284a9a56f813f1a06a3c">
<pre>&lt;html&gt;
http://edu.51cto.com/course/course_id-1825.html
Dreamweaver网页制作零基础起步学习视频课程
http://www.chuanke.com/v3093033-196963-1123487.html
HTML配合Dreamweaver学习网站
http://www.chuanke.com/v5388531-153714-580170.html
DIV+CSS门户站点首页设计
&lt;/html&gt;</pre>
</div>
<div title="作业合集" server.title="作业合集" server.page.revision="2587372" server.etag="&quot;zhucebuliaogyx_public/%E4%BD%9C%E4%B8%9A%E5%90%88%E9%9B%86/2587372:6706eabdfa53ccc10cfdb6a9304b4d98e9f5b845&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161125073438" created="20161125073334" tags="14信管作业" _hash="bb9cccfbd591cd871140f74fbd80d042bb5f881e">
<pre>[[第一次作业]]|[[第二次作业]]|[[第三次作业]]|[[第四次作业]]|[[第五次作业]]|[[第六次作业]]</pre>
</div>
<div title="zhucebuliaogyx" server.title="zhucebuliaogyx" server.page.revision="2566541" server.etag="&quot;zhucebuliaogyx_public/zhucebuliaogyx/2566541:f052ce8f291c2f4e458e4739106283485bf2c394&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="201609271259" created="20160907122403" tags="excludeLists excludePublisher excludeSearch" _hash="378e7c4224d9b9ed97947eefce1fab45a0a71696" tiddlyspaceinit_version="0.6">
<pre>@@Please do not modify this tiddler; it was created automatically upon space creation.@@</pre>
</div>
<div title="HARD CARRY   MV" server.title="HARD CARRY   MV" server.page.revision="2577745" server.etag="&quot;zhucebuliaogyx_public/HARD%20CARRY%20%20%20MV/2577745:93ebe3228e67ab7afce9bc8cbaced3291519e189&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161027152132" created="20161027151737" tags="got7 [[hard carry]]" _hash="9b08e21219bb9e96c4a0f28815b2c16b97f3aad0">
<pre>&lt;html&gt;
&lt;body&gt;

&lt;embed height="500" width="600" quality="high" allowfullscreen="true" type="application/x-shockwave-flash" src="http://static.hdslb.com/miniloader.swf" flashvars="aid=6431809&amp;page=1" pluginspage="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash"&gt;&lt;/embed&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="TiddlySpaceTiddlerIconsPlugin" server.title="TiddlySpaceTiddlerIconsPlugin" server.page.revision="1521862" server.etag="&quot;system-plugins_public/TiddlySpaceTiddlerIconsPlugin/1521862:4ec6894fd9314b6a6e9df8616332f16f59df1dcc&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch systemConfig" _hash="5c6cfebcd3cc3fd2df109c0d59735aaae48850b4">
<pre>/***
|''Name''|TiddlySpaceTiddlerIconsPlugin|
|''Version''|0.8.10|
|''Status''|@@beta@@|
|''Author''|Jon Robson|
|''Description''|Provides ability to render SiteIcons and icons that correspond to the home location of given tiddlers|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceTiddlerIconsPlugin.js|
|''Requires''|TiddlySpaceConfig BinaryTiddlersPlugin ImageMacroPlugin TiddlySpacePublishingCommands|
!Notes
{{{&lt;&lt;tiddlerOrigin&gt;&gt;}}} shows the origin of the tiddler it is being run on.
In TiddlySpace terms this means it will determine whether the tiddler is external, public or private.
Where private it will analyse whether a public version exists and distinguish between the different scenarios.
If a tiddler is external, the SiteIcon of that external space will be shown

!Parameters
width / height : define a width or height of the outputted icon
label: if label parameter is set to yes, a label will accompany the icon.
!Code
***/
//{{{
(function($) {

if(!config.macros.image) {
	throw "Missing dependency: ImageMacroPlugin";
}

var imageMacro = config.macros.image;
var tiddlyspace = config.extensions.tiddlyspace;
var tweb = config.extensions.tiddlyweb;
var cmds = config.commands;
var cmd = cmds.publishTiddler;
tiddlyspace.resolveSpaceName = function(value) {
	var endsWith = config.extensions.BinaryTiddlersPlugin.endsWith;
	if(value) {
		value = value.indexOf("bags/") === 0 ? value.substr(5) : value;
		value = value.indexOf("recipes/") === 0 ? value.substr(8) : value;
		if(value.indexOf("@") === 0) {
			value = value.substr(1);
		}
		if(endsWith(value, "_public")) {
			value = value.substr(0, value.length - 7);
		} else if(endsWith(value, "_private")) {
			value = value.substr(0, value.length - 8);
		}
		value = value.toLowerCase();
	}
	return value;
};

tiddlyspace.renderAvatar = function(place, value, options) {
	options = options ? options : {};
	options.labelOptions = options.labelOptions ? options.labelOptions : { include: false, height: 48, width: 48 };
	options.imageOptions = options.imageOptions ? options.imageOptions : {};
	options.imageOptions.altImage = "/bags/common/tiddlers/defaultUserIcon";
	var container = $('&lt;div class="siteIcon" /&gt;').appendTo(place);
	value = tiddlyspace.resolveSpaceName(value);

	tweb.getStatus(function(status) {
		var link, noLabel;
		if(!value || value == config.views.wikified.defaultModifier ||
			value == config.views.wikified.shadowModifier) {
			var icon = config.views.wikified.shadowModifier == value ? "shadowIcon" : "missingIcon";
			if(store.tiddlerExists(icon)) {
				imageMacro.renderImage(container, icon, options.imageOptions);
			} else {
				noLabel = true;
			}
		} else {
			var spaceURI;
			if(value != tiddlyspace.currentSpace.name) {
				spaceURI = options.notSpace ? tiddlyspace.getHost(status.server_host) :
					tiddlyspace.getHost(status.server_host, value);
			}
			link = spaceURI ? $("&lt;a /&gt;").attr("href", spaceURI) : $("&lt;span /&gt;");
			link.text(value);

			var imageOptions = options.imageOptions;
			if(options.spaceLink &amp;&amp; !imageOptions.link) {
				imageOptions.link = spaceURI;
			}
			var avatar = options.notSpace ? false : value;
			var uri = tiddlyspace.getAvatar(status.server_host, avatar);
			imageMacro.renderImage(container, uri, options.imageOptions);
			if(!value) {
				value = "tiddlyspace";
			}
		}
		if(!noLabel &amp;&amp; options.labelOptions.include) {
			var prefix = $("&lt;span /&gt;").text(options.labelOptions.prefix || "")[0];
			var suffix = $("&lt;span /&gt;").text(options.labelOptions.suffix || "")[0];
			$('&lt;div class="label" /&gt;').append(prefix).append(link).
				append(suffix).appendTo(container);
		}
	});
	if(value) {
		var prefix = options.labelOptions.prefix || "";
		var suffix = options.labelOptions.suffix || "";
		var label = "%0%1%2".format(prefix, value, suffix);
		$(container).attr("title", label);
	}
};

var originMacro = config.macros.tiddlerOrigin = {
	locale: {
		"shadow": "shadow tiddler",
		"missing": "missing tiddler",
		"private": "private",
		"unknown": "unknown state",
		"public": "public",
		"unsyncedPrivate": "unsynced and private",
		"unsyncedPublic": "unsynced and public",
		externalPrefix: "from ",
		externalBagSuffix: " bag",
		externalSuffix: " space",
		publishPrivateDeletePrivate: "Are you sure you want to make this tiddler public?",
		moveToPrivate: "Are you sure you want to make this tiddler private? Only members will be able to see it.",
		pleaseWait: "please wait..",
		keepPublic: "keep public",
		cannotPublishDirtyTiddler: "The current tiddler is unsaved so cannot be published. Please save the tiddler first.",
		keepPrivate: "keep private",
		makePublic: "make public",
		makePrivate: "make private"
	},
	handler: function(place, macroName, params,wikifier, paramString, tiddler){
		var adaptor = tiddler.getAdaptor();
		var btn = $("&lt;div /&gt;").addClass("originButton").attr("params", paramString).
			attr("refresh", "macro").attr("macroName", macroName).appendTo(place)[0];
		$(btn).data("tiddler", tiddler);
		originMacro.refresh(btn);
	},
	refresh: function(btn) {
		$(btn).empty();
		var paramString = $(btn).attr("params");
		var tiddler = $(btn).data("tiddler");
		var options = originMacro.getOptions(paramString);
		var type = tiddlyspace.getTiddlerStatusType(tiddler);
		originMacro.renderIcon(tiddler, type, btn, options);
	},
	getOptions: function(paramString) {
		paramString = "%0 label:no width:48 height:48 spaceLink:yes preserveAspectRatio:yes".format(paramString);
		var parsedParams = paramString.parseParams("name");
		var params = parsedParams[0].name;
		var options = {
			labelOptions: originMacro._getLabelOptions(parsedParams),
			imageOptions: imageMacro.getArguments(paramString, []),
			noclick: parsedParams[0].interactive &amp;&amp;
				parsedParams[0].interactive[0] == "no" ? true : false
		};
		if(!options.noclick) {
			var spaceLink = parsedParams[0].spaceLink;
			options.spaceLink = spaceLink &amp;&amp; spaceLink[0] == "no" ? false : true;
		} else {
			options.spaceLink = false;
		}
		return options;
	},
	_getLabelOptions: function(parsedParams) {
		parsedParams = parsedParams[0];
		var includeLabel = !parsedParams.label || ( parsedParams.label &amp;&amp; parsedParams.label[0] == "yes" );
		var prefix = parsedParams.labelPrefix ? parsedParams.labelPrefix[0] : false;
		var suffix = parsedParams.labelSuffix ? parsedParams.labelSuffix[0] : false;
		return { include: includeLabel, suffix: suffix, prefix: prefix };
	},
	_isSpace: function(value) {
		value = value ? value : "";
		var endsWith = config.extensions.BinaryTiddlersPlugin.endsWith;
		if(endsWith(value, "_private") || endsWith(value, "_public")) {
			return true;
		} else {
			return false;
		}
	},
	renderIcon: function(tiddler, type, button, options) {
		var locale = originMacro.locale;
		originMacro.annotateTiddler(button, type);
		if(type != "external") {
			originMacro.showPrivacyRoundel(tiddler, type, button,
				options);
		} else {
			var prefix = options.labelOptions.prefix, suffix = options.labelOptions.suffix;
			var space = tiddler.fields["server.bag"];
			options.notSpace = !originMacro._isSpace(space);
			options.labelOptions.prefix = prefix ? prefix : locale.externalPrefix;
			options.labelOptions.suffix = suffix ? suffix : (options.notSpace ? locale.externalBagSuffix : locale.externalSuffix);

			tiddlyspace.renderAvatar(button, space, options);
		}
	},
	showPrivacyRoundel: function(thisTiddler, privacyType, button, options) {
		// there is a public tiddler as well as the current tiddler!
		// TODO: not this is not enough.. we also need to check if the public tiddler is the same as..
		// .. the private tiddler to determine whether this is a draft
		// use of hashes would be useful here.
		$(button).empty();
		var icon = "%0Icon".format(privacyType);
		if(privacyType.indexOf("unsynced") === 0 &amp;&amp; !store.tiddlerExists(icon)) {
			icon = "unsyncedIcon";
		}
		if(privacyType == "shadow") {
			if(!store.tiddlerExists(icon)) {
				icon = "bags/tiddlyspace/tiddlers/SiteIcon";
			}
		}
		if(privacyType == "missing" &amp;&amp; !store.tiddlerExists(icon)) {
			return; // the user is not making use of the missingIcon
		} else {
			imageMacro.renderImage(button, icon, options.imageOptions);
			originMacro.showLabel(button, privacyType, options.labelOptions);
			var cmd = originMacro.iconCommands[privacyType];
			if(cmd &amp;&amp; thisTiddler &amp;&amp; !options.noclick) {
				$(button).click(function(ev) {
					cmd(ev, thisTiddler);
				});
			}
		}
	},
	annotateTiddler: function(place, type) {
		var tidEl = $(story.findContainingTiddler(place));
		tidEl.
			removeClass("private public external privateAndPublic privateNotPublic shadow").
			addClass(type);
	},
	showLabel: function(button, type, options) {
		var locale = originMacro.locale;
		var label = options.label ? options.label : locale[type];
		label = label ? label : locale.unknown;
		if(options &amp;&amp; options.include) {
			$('&lt;div class="roundelLabel" /&gt;').html(label).appendTo(button);
		}
		$(button).attr("title", label);
	},
	confirm: function(ev, msg, onYes, options) {
		options = options ? options : {};
		onYes = onYes ? onYes : function(ev) {};
		var btn = $(".originButton", $(ev.target).parents())[0];
		var popup = Popup.create(btn);
		$(popup).addClass("confirmationPopup");
		$("&lt;div /&gt;").addClass("message").text(msg).appendTo(popup);
		$("&lt;button /&gt;").addClass("button").text(options.yesLabel || "yes").appendTo(popup).click(onYes);
		$("&lt;button /&gt;").addClass("button").text(options.noLabel || "no").click(function(ev) {
			Popup.remove();
		}).appendTo(popup);
		Popup.show();
		ev.stopPropagation();
		return false;
	},
	alert: function(ev, msg) {
		var popup = Popup.create(ev.target);
		$(popup).addClass("confirmationPopup alert");
		$("&lt;div /&gt;").addClass("message").text(msg).appendTo(popup);
		Popup.show();
		ev.stopPropagation();
	},
	reportDirty: function(el) {
		originMacro.alert(el, originMacro.locale.cannotPublishDirtyTiddler);
	},
	iconCommands: {
		"public": function(ev, tiddler) {
			if(!readOnly) {
				var locale = originMacro.locale;
				var msg = locale.moveToPrivate;
				if(story.isDirty(tiddler.title)) {
					originMacro.reportDirty(ev);
				} else {
					originMacro.confirm(ev, msg, function(ev) {
						var target = $(ev.target);
						var onComplete = function(info) {};
						var privateBag = cmd.toggleBag(tiddler, "private");
						cmd.moveTiddler(tiddler, {
							title: tiddler.title,
							fields: { "server.bag": privateBag }
						}, onComplete);
					}, { yesLabel: locale.makePrivate, noLabel: locale.keepPublic });
				}
			}
		},
		"private": function(ev, tiddler) {
			if(!readOnly) {
				var locale = originMacro.locale;
				var adaptor = tiddler.getAdaptor();
				var publishTo = tiddler.fields["publish.name"] || tiddler.title;
				var workspace = "bags/%0".format(tiddler.fields["server.bag"]);
				tiddler.fields["server.workspace"] = workspace;
				var publicBag = cmd.toggleBag(tiddler, "public");
				var msg;
				msg = locale.publishPrivateDeletePrivate;
				var title = tiddler.title;
				var newTitle = publishTo || tiddler.title;
				tiddler.fields["server.page.revision"] = "false";
				store.addTiddler(tiddler);
				if(story.isDirty(tiddler.title)) {
					originMacro.reportDirty(ev);
				} else {
					originMacro.confirm(ev, msg, function(ev) {
						var onComplete = function(info) {};
						cmd.moveTiddler(tiddler, {
							title: newTitle,
							fields: { "server.bag": publicBag }
						}, onComplete);
					}, { yesLabel: locale.makePublic, noLabel: locale.keepPrivate });
				}
			}
		}
	}
};

})(jQuery);
//}}}</pre>
</div>
<div title="ServerSideSavingPlugin" server.title="ServerSideSavingPlugin" server.page.revision="1521853" server.etag="&quot;system/ServerSideSavingPlugin/1521853:f7163e7cdb7794d8bdff47d242ec5924383c4fc9&quot;" modifier="FND" creator="FND" server.workspace="bags/system" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system" server.permissions="read" server.content-type="text/javascript" modified="20130924180405" created="20130924180405" tags="excludeLists excludeSearch systemConfig" _hash="d72cde071d926d9c66939444817d7e8621d24d9c">
<pre>/***
|''Name''|ServerSideSavingPlugin|
|''Description''|server-side saving|
|''Author''|FND|
|''Version''|0.6.5|
|''Status''|stable|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/plugins/ServerSideSavingPlugin.js|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.5.3|
|''Keywords''|serverSide|
!Notes
This plugin relies on a dedicated adaptor to be present.
The specific nature of this plugin depends on the respective server.
!Revision History
!!v0.1 (2008-11-24)
* initial release
!!v0.2 (2008-12-01)
* added support for local saving
!!v0.3 (2008-12-03)
* added Save to Web macro for manual synchronization
!!v0.4 (2009-01-15)
* removed ServerConfig dependency by detecting server type from the respective tiddlers
!!v0.5 (2009-08-25)
* raised CoreVersion to 2.5.3 to take advantage of core fixes
!!v0.6 (2010-04-21)
* added notification about cross-domain restrictions to ImportTiddlers
!To Do
* conflict detection/resolution
* rename to ServerLinkPlugin?
* document deletion/renaming convention
!Code
***/
//{{{
(function($) {

readOnly = false; //# enable editing over HTTP

var plugin = config.extensions.ServerSideSavingPlugin = {};

plugin.locale = {
	saved: "%0 saved successfully",
	saveError: "Error saving %0: %1",
	saveConflict: "Error saving %0: edit conflict",
	deleted: "Removed %0",
	deleteError: "Error removing %0: %1",
	deleteLocalError: "Error removing %0 locally",
	removedNotice: "This tiddler has been deleted.",
	connectionError: "connection could not be established",
	hostError: "Unable to import from this location due to cross-domain restrictions."
};

plugin.sync = function(tiddlers) {
	tiddlers = tiddlers &amp;&amp; tiddlers[0] ? tiddlers : store.getTiddlers();
	$.each(tiddlers, function(i, tiddler) {
		var changecount = parseInt(tiddler.fields.changecount, 10);
		if(tiddler.fields.deleted === "true" &amp;&amp; changecount === 1) {
			plugin.removeTiddler(tiddler);
		} else if(tiddler.isTouched() &amp;&amp; !tiddler.doNotSave() &amp;&amp;
				tiddler.getServerType() &amp;&amp; tiddler.fields["server.host"]) { // XXX: server.host could be empty string
			delete tiddler.fields.deleted;
			plugin.saveTiddler(tiddler);
		}
	});
};

plugin.saveTiddler = function(tiddler) {
	try {
		var adaptor = this.getTiddlerServerAdaptor(tiddler);
	} catch(ex) {
		return false;
	}
	var context = {
		tiddler: tiddler,
		changecount: tiddler.fields.changecount,
		workspace: tiddler.fields["server.workspace"]
	};
	var serverTitle = tiddler.fields["server.title"]; // indicates renames
	if(!serverTitle) {
		tiddler.fields["server.title"] = tiddler.title;
	} else if(tiddler.title != serverTitle) {
		return adaptor.moveTiddler({ title: serverTitle },
			{ title: tiddler.title }, context, null, this.saveTiddlerCallback);
	}
	var req = adaptor.putTiddler(tiddler, context, {}, this.saveTiddlerCallback);
	return req ? tiddler : false;
};

plugin.saveTiddlerCallback = function(context, userParams) {
	var tiddler = context.tiddler;
	if(context.status) {
		if(tiddler.fields.changecount == context.changecount) { //# check for changes since save was triggered
			tiddler.clearChangeCount();
		} else if(tiddler.fields.changecount &gt; 0) {
			tiddler.fields.changecount -= context.changecount;
		}
		plugin.reportSuccess("saved", tiddler);
		store.setDirty(false);
	} else {
		if(context.httpStatus == 412) {
			plugin.reportFailure("saveConflict", tiddler);
		} else {
			plugin.reportFailure("saveError", tiddler, context);
		}
	}
};

plugin.removeTiddler = function(tiddler) {
	try {
		var adaptor = this.getTiddlerServerAdaptor(tiddler);
	} catch(ex) {
		return false;
	}
	var context = {
		host: tiddler.fields["server.host"],
		workspace: tiddler.fields["server.workspace"],
		tiddler: tiddler
	};
	var req = adaptor.deleteTiddler(tiddler, context, {}, this.removeTiddlerCallback);
	return req ? tiddler : false;
};

plugin.removeTiddlerCallback = function(context, userParams) {
	var tiddler = context.tiddler;
	if(context.status) {
		if(tiddler.fields.deleted === "true") {
			store.deleteTiddler(tiddler.title);
		} else {
			plugin.reportFailure("deleteLocalError", tiddler);
		}
		plugin.reportSuccess("deleted", tiddler);
		store.setDirty(false);
	} else {
		plugin.reportFailure("deleteError", tiddler, context);
	}
};

plugin.getTiddlerServerAdaptor = function(tiddler) { // XXX: rename?
	var type = tiddler.fields["server.type"] || config.defaultCustomFields["server.type"];
	return new config.adaptors[type]();
};

plugin.reportSuccess = function(msg, tiddler) {
	displayMessage(plugin.locale[msg].format([tiddler.title]));
};

plugin.reportFailure = function(msg, tiddler, context) {
	var desc = (context &amp;&amp; context.httpStatus) ? context.statusText :
		plugin.locale.connectionError;
	displayMessage(plugin.locale[msg].format([tiddler.title, desc]));
};

config.macros.saveToWeb = { // XXX: hijack existing sync macro?
	locale: { // TODO: merge with plugin.locale?
		btnLabel: "save to web",
		btnTooltip: "synchronize changes",
		btnAccessKey: null
	},

	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		createTiddlyButton(place, this.locale.btnLabel, this.locale.btnTooltip,
			plugin.sync, null, null, this.locale.btnAccessKey);
	}
};

// hijack saveChanges to trigger remote saving
var _saveChanges = saveChanges;
saveChanges = function(onlyIfDirty, tiddlers) {
	if(window.location.protocol == "file:") {
		_saveChanges.apply(this, arguments);
	} else {
		plugin.sync(tiddlers);
	}
};

// override removeTiddler to flag tiddler as deleted -- XXX: use hijack to preserve compatibility?
TiddlyWiki.prototype.removeTiddler = function(title) { // XXX: should override deleteTiddler instance method?
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		tiddler.tags = ["excludeLists", "excludeSearch", "excludeMissing"];
		tiddler.text = plugin.locale.removedNotice;
		tiddler.fields.deleted = "true"; // XXX: rename to removed/tiddlerRemoved?
		tiddler.fields.changecount = "1";
		this.notify(title, true);
		this.setDirty(true);
	}
};

// hijack ImportTiddlers wizard to handle cross-domain restrictions
var _onOpen = config.macros.importTiddlers.onOpen;
config.macros.importTiddlers.onOpen = function(ev) {
	var btn = $(resolveTarget(ev));
	var url = btn.closest(".wizard").find("input[name=txtPath]").val();
	if(window.location.protocol != "file:" &amp;&amp; url.indexOf("://") != -1) {
		var host = url.split("/")[2];
		var macro = config.macros.importTiddlers;
		if(host != window.location.host) {
			btn.text(macro.cancelLabel).attr("title", macro.cancelPrompt);
			btn[0].onclick = macro.onCancel;
			$('&lt;span class="status" /&gt;').text(plugin.locale.hostError).insertAfter(btn);
			return false;
		}
	}
	return _onOpen.apply(this, arguments);
};

})(jQuery);
//}}}</pre>
</div>
<div title="GroupByPlugin" server.title="GroupByPlugin" server.page.revision="1521873" server.etag="&quot;system-plugins_public/GroupByPlugin/1521873:f70e1a0b8d6052cd55c8715f78983c98faea1d76&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch systemConfig" _hash="d4f41fa53916a920347fbe97303966ebeed68945">
<pre>/***
|''Name''|GroupByPlugin|
|''Description''|Mimics allTags macro to provide ways of creating lists grouping tiddlers by any field|
|''Version''|0.6.1|
|''Author''|Jon Robson|
|''Status''|beta|
!Usage
{{{&lt;&lt;groupBy tags&gt;&gt;}}}
mimics allTags macro

{{{&lt;&lt;groupBy server.bag&gt;&gt;}}}
groups by the server.bag field (this version contains TiddlySpace specific code for turning a bag into a space name)

{{{groupBy modified dateFormat:"YYYY"}}}
group tiddlers by year.

{{{&lt;&lt;groupBy tags exclude:excludeLists exclude:systemConfig&gt;&gt;}}}
group tiddlers by tag but exclude the tags with values excludeLists and systemConfig

Within that group you can also exclude things by filter
{{{groupBy modifier filter:[tag[film]]}}}
will group tiddlers tagged with film by modifier.
***/
//{{{
(function($) {
var taglocale = config.views.wikified.tag;
var macro = config.macros.groupBy = {
	locale: {
		tooltip: "all tiddlers in group %0",
		noTiddlers: "no tiddlers",
		openAllText: taglocale.openAllText,
		openAllTooltip: taglocale.openAllTooltip,
		openTiddler: "open tiddler with title %0"
	},
	morpher: {
		// TODO: note currently the following 2 morphers are TiddlySpace specific and probably should be in separate plugin
		"server.workspace": function(value, options) {
			return macro.morpher["server.bag"](value.replace("bags/", "").replace("recipes/", ""));
		},
		"server.bag": function(value, options) {
			if(typeof(value) !== "string") {
				return false;
			} else if(value.indexOf("_public") === -1 &amp;&amp; value.indexOf("_private") === -1) {
				value = "*%0".format(value); // add star for non-space bags.
			}
			return value.replace("_public", "").replace("_private", "");
		},
		created: function(value, options) {
			return value.formatString(options.dateFormat || "DD MMM YYYY");
		},
		modified: function(value, options) {
			return macro.morpher.created(value, options);
		}
	},

	handler: function(place, macroName, params, wikifier, paramString) {
		var field = params[0] || "server.workspace";
		var dateFormat = params[1] || "DD MMM YYYY";
		var container = $("&lt;div /&gt;").attr("macroName", macroName).addClass("groupBy").
			attr("refresh", "macro").attr("fieldName", field).
			attr("paramString", paramString).
			attr("dateFormat", dateFormat).appendTo(place)[0];
		macro.refresh(container);
	},
	isTypeArray: function(value) {
		var valueType = typeof value;
		if(valueType === "object" &amp;&amp; typeof value.length === "number" &amp;&amp;
			!(value.propertyIsEnumerable("length")) &amp;&amp;
			typeof value.splice === "function") { //is Array
			return true;
		} else {
			return false;
		}
	},
	_onClickGroup: function(ev, options) {
		var i, target = ev.target, locale = macro.locale;
		var tiddlers = $(target).closest(".templateContainer").data("tiddlers");
		var popup = $(Popup.create(target)).addClass("taggedTiddlerList")[0];
		var value = $(target).attr("value");
		var openAll = createTiddlyButton($("&lt;li /&gt;").appendTo(popup)[0],
			locale.openAllText.format(value), locale.openAllTooltip);
		$(openAll).click(function(ev) {
			story.displayTiddlers(ev.target, tiddlers);
			return false;
		});
		var listBreak = $("&lt;li /&gt;").addClass("listBreak").html("&lt;div /&gt;").appendTo(popup);
		for(i = 0; i &lt; tiddlers.length; i++) {
			var item = $("&lt;li /&gt;").appendTo(popup)[0];
			var template = store.getTiddlerText(options.template) || macro.template;
			wikify(template, item, null, tiddlers[i]);
		}
		listBreak.clone().appendTo(popup);
		$(createTiddlyLink($("&lt;li /&gt;").appendTo(popup)[0], value, false)).
			text(locale.openTiddler.format(value));
		Popup.show();
		ev.stopPropagation();
		return false;
	},
	_refresh: function(container, tiddlers, options) {
		var totalGroups = 0, locale = macro.locale, i, j;
		var excludeValues = options.exclude;
		var values = {}, value_ids = [];
		var field = options.field;
		var morpher = macro.morpher[field] || function(value) {
			return value;
		};
		for(i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = tiddlers[i];
			var value = tiddler[field] || tiddler.fields[field];
			value = macro.isTypeArray(value) ? value : [ value ];
			for(j = 0; j &lt; value.length; j++) {
				var v = morpher(value[j], options);
				if(v &amp;&amp; $.inArray(v, excludeValues) === -1) {
					totalGroups += 1;
					if(!values[v]) {
						values[v] = [];
					}
					values[v].push(tiddler);
					value_ids.pushUnique(v);
				}
			}
		}
		var ul = $("&lt;ul /&gt;").appendTo(container)[0];
		if(totalGroups === 0) {
			$("&lt;li /&gt;").addClass("listTitle").text(locale.noTiddlers);
		}
		value_ids = value_ids.sort();
		var groupTemplate = store.getTiddlerText(options.groupTemplate);
		var onClick = function(ev) {
			macro._onClickGroup(ev, options);
		};
		for(i = 0; i &lt; value_ids.length; i++) {
			var title = value_ids[i];
			var info = getTiddlyLinkInfo(title);
			tiddlers = values[title];
			var btn = createTiddlyButton($("&lt;li /&gt;").appendTo(ul)[0],
				"%0 (%1)".format(title, tiddlers.length), locale.tooltip.format(title), null, info.classes);
			if(groupTemplate) {
				$(btn).empty();
				wikify(groupTemplate, btn, null, tiddlers[0]);
			}
			$(btn).click(onClick).attr("value", title).attr("refresh", "link").attr("tiddlyLink", title);
			$(btn).addClass("templateContainer").data("tiddlers", tiddlers);
		}
	},
	refresh: function(container) {
		container = $(container).empty();
		var paramString = container.attr("paramString");
		var args = paramString.parseParams("name", null, true, false, true)[0];
		var options = { field: container.attr("fieldName"), dateFormat: container.attr("dateFormat"), exclude: args.exclude || [],
			template: args.template ? args.template[0] : false, groupTemplate: args.groupTemplate ? args.groupTemplate[0] : "" };
		var tiddlers = args.filter ? store.filterTiddlers(args.filter[0]) : store.getTiddlers("title");
		macro._refresh(container, tiddlers, options);
	},
	template: "&lt;&lt;view title link&gt;&gt;"
};

}(jQuery));
//}}}</pre>
</div>
<div title="TiddlySpaceViewTypes" server.title="TiddlySpaceViewTypes" server.page.revision="1521869" server.etag="&quot;system-plugins_public/TiddlySpaceViewTypes/1521869:dfe8ef57e2db00ca7a431f8e419c1e5dcceca397&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-plugins_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-plugins_public" server.permissions="read" server.content-type="text/javascript" modified="20131111192330" created="20131111192330" tags="excludeLists excludeSearch systemConfig" _hash="0a5a070cb32ab7b3dc724809555448e9948cf232">
<pre>/***
|''Name''|TiddlySpaceViewTypes|
|''Version''|0.6.0|
|''Status''|@@beta@@|
|''Description''|Provides TiddlySpace specific view types|
|''Author''|Jon Robson|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceViewTypes.js|
|''Requires''|TiddlySpaceConfig TiddlySpaceTiddlerIconsPlugin|
!Usage
Provides replyLink, spaceLink and SiteIcon view types.
!!SiteIcon view parameters
* labelPrefix / labelSuffix : prefix or suffix the label with additional text. eg. labelPrefix:'modified by '
* spaceLink: if set to "yes" will make any avatars link to the corresponding space. {{{&lt;&lt;originMacro spaceLink:yes&gt;&gt;}}}

!Code
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;
var originMacro = config.macros.tiddlerOrigin;
var tweb = config.extensions.tiddlyweb;

config.macros.view.replyLink = {
	locale: {
		label: "Reply to this tiddler"
	}
};

var _replyButtons = [];
var _replyInitialised, _replyScriptLoaded;
config.macros.view.views.replyLink = function(value, place, params, wikifier,
		paramString, tiddler) {
	var valueField = params[0];
	var imported;
	if(valueField == "title") { // special casing for imported tiddlers
		var localTitle = tiddler.title;
		var serverTitle = tiddler.fields["server.title"];
		if(serverTitle &amp;&amp; localTitle != serverTitle) {
			value = serverTitle ? serverTitle : localTitle;
			imported = true;
		}
	} else {
		title = tiddler[valueField] ? tiddler[valueField] : tiddler.fields[valueField];
	}
	var args = paramString.parseParams("anon")[0];
	var label = (args.label) ? args.label : config.macros.view.replyLink.locale.label;
	var space;
	if(tiddler) {
		var bag = tiddler.fields["server.bag"];
		space = tiddlyspace.resolveSpaceName(bag);
	}
	var container = $('&lt;span class="replyLink" /&gt;').appendTo(place)[0];

	tweb.getUserInfo(function(user) {
		if ((!user.anon) &amp;&amp; ((space &amp;&amp; user.name != space &amp;&amp;
				user.name != tiddlyspace.currentSpace.name) || imported)) {
			var link = $("&lt;a /&gt;")
				.text(config.macros.view.replyLink.locale.label)
				.appendTo(container)[0];

			if(typeof(createReplyButton) === "undefined") {
				_replyButtons.push(link);
			}
			if(_replyInitialised) {
				createReplyButton(link);
			} else if(!_replyScriptLoaded) {
				_replyScriptLoaded = true;
				$.getScript("/bags/common/tiddlers/_reply-button.js",
					function() {
						_replyInitialised = true;
						for(var i = 0; i &lt; _replyButtons.length; i++) {
							createReplyButton(_replyButtons[i]);
						}
						_replyButtons = [];
					});
			}
		}
	});

};

config.macros.view.views.spaceLink = function(value, place, params, wikifier,
		paramString, tiddler) {
		var spaceName = tiddlyspace.resolveSpaceName(value);
		var isBag = params[0] == "server.bag" &amp;&amp; value === spaceName ? true : false;
		var args = paramString.parseParams("anon")[0];
		var titleField = args.anon[2];
		var labelField = args.labelField ? args.labelField[0] : false;
		var label;
		if(labelField) {
			label = tiddler[labelField] ? tiddler[labelField] : tiddler.fields[labelField];
		} else {
			label = args.label ? args.label[0] : false;
		}
		var title = tiddler[titleField] ? tiddler[titleField] : tiddler.fields[titleField];

		var link = createSpaceLink(place, spaceName, title, label, isBag);
		if(args.external &amp;&amp; args.external[0] == "no") {
			$(link).click(function(ev) {
				var el = $(ev.target);
				var title = el.attr("tiddler");
				var bag = el.attr("bag");
				var space = el.attr("tiddlyspace");
				bag = space ? space + "_public" : bag;
				if(title &amp;&amp; bag) {
					ev.preventDefault();
					tiddlyspace.displayServerTiddler(el[0], title,
						"bags/" + bag);
				}
				return false;
			});
		}
};

config.macros.view.views.SiteIcon = function(value, place, params, wikifier,
		paramString, tiddler) {
	var options = originMacro.getOptions(paramString);
	if(!tiddler || value == "None") { // some core tiddlers lack modifier
		value = false;
	}
	var field = params[0];
	if(field == "server.bag") {
		options.notSpace = !originMacro._isSpace(value);
	}
	tiddlyspace.renderAvatar(place, value, options);
};

})(jQuery);
//}}}</pre>
</div>
<div title="DiffFormatter" server.title="DiffFormatter" server.page.revision="1521854" server.etag="&quot;system/DiffFormatter/1521854:fcf2fa0663bd2bc2627bccc41944adc0607fe51e&quot;" modifier="FND" creator="FND" server.workspace="bags/system" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system" server.permissions="read" server.content-type="text/javascript" modified="20130924180405" created="20130924180405" tags="excludeLists excludeSearch systemConfig" _hash="2232cd0549946d29c475cec846de3378177301ae">
<pre>/***
|''Name''|DiffFormatter|
|''Description''|highlighting of text comparisons|
|''Author''|FND|
|''Version''|0.9.0|
|''Status''|beta|
|''Source''|http://svn.tiddlywiki.org/Trunk/contributors/FND/formatters/DiffFormatter.js|
|''CodeRepository''|http://svn.tiddlywiki.org/Trunk/contributors/FND/|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''Keywords''|formatting|
!Description
Highlights changes in a unified [[diff|http://en.wikipedia.org/wiki/Diff#Unified_format]].
!Notes
Based on Martin Budden's [[DiffFormatterPlugin|http://svn.tiddlywiki.org/Trunk/contributors/MartinBudden/formatters/DiffFormatterPlugin.js]].
!Usage
The formatter is applied to blocks wrapped in &lt;html&gt;&lt;code&gt;{{{diff{..}}}&lt;/code&gt;&lt;/html&gt; within tiddlers tagged with "diff".
!Revision History
!!v0.9 (2010-04-07)
* initial release; fork of DiffFormatterPlugin
!StyleSheet
.diff { white-space: pre; font-family: monospace; }
.diff ins, .diff del { display: block; text-decoration: none; }
.diff ins { background-color: #dfd; }
.diff del { background-color: #fdd; }
.diff .highlight { background-color: [[ColorPalette::SecondaryPale]]; }
!Code
***/
//{{{
(function() {

config.shadowTiddlers.StyleSheetDiffFormatter = store.getTiddlerText(tiddler.title + "##StyleSheet");
store.addNotification("StyleSheetDiffFormatter", refreshStyles);

var formatters = [{
		name: "diffWrapper",
		match: "^\\{\\{diff\\{\n", // XXX: suboptimal
		termRegExp: /(.*\}\}\})$/mg,
		handler: function(w) {
			var el = createTiddlyElement(w.output, "div", null, "diff");
			w.subWikifyTerm(el, this.termRegExp);
		}
	}, {
		name: "diffRange",
		match: "^(?:@@|[+\\-]{3}) ",
		lookaheadRegExp: /^(?:@@|[+\-]{3}) .*\n/mg,
		handler: function(w) {
			createTiddlyElement(w.output, "div", null, "highlight").
				innerHTML = "&amp;#8230;";
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	}, {
		name: "diffAdded",
		match: "^\\+",
		termRegExp: /(\n)/mg,
		handler: function(w) {
			var el = createTiddlyElement(w.output, "ins", null, "added");
			w.subWikifyTerm(el, this.termRegExp);
		}
	}, {
		name: "diffRemoved",
		match: "^-",
		termRegExp: /(\n)/mg,
		handler: function(w) {
			var el = createTiddlyElement(w.output, "del", null, "removed");
			w.subWikifyTerm(el, this.termRegExp);
		}
	}
];

config.parsers.diffFormatter = new Formatter(formatters);
config.parsers.diffFormatter.format = "diff";
config.parsers.diffFormatter.formatTag = "diff";

})();
//}}}</pre>
</div>
<div title="saveDraft" server.title="saveDraft" server.page.revision="1521925" server.etag="&quot;system-images_public/saveDraft/1521925:db0e4739c1f6a6579d9824218756a71c680d477f&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-images_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-images_public" server.permissions="read" server.content-type="image/svg+xml" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch" _hash="8b5516d12e2aafb4aecd48f696fcb276e61ac468">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="364 157 64 51" width="30" height="30"&gt;&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;&lt;g&gt;&lt;path class="glyph" d="M 364.50006 184.50061 L 386.99985 207.00037 L 396 198.00002 L 373.50003 175.50066 Z M 403.02295 181.97704 C 400.38693 179.34099 396.11307 179.34099 393.47702 181.97704 C 390.841 184.61307 390.841 188.88695 393.47702 191.52298 C 396.11307 194.15903 400.38693 194.15903 403.02295 191.52298 C 405.65906 188.88695 405.65906 184.61307 403.02295 181.97704 M 414.27298 170.72704 C 411.63693 168.091 407.36307 168.091 404.72702 170.72704 C 402.091 173.36308 402.091 177.63693 404.72702 180.27296 C 407.36307 182.90901 411.63693 182.90901 414.27298 180.27296 C 416.90903 177.63693 416.90903 173.36308 414.27298 170.72704 M 425.523 159.47705 C 422.88696 156.841 418.6131 156.841 415.97705 159.47705 C 413.341 162.11308 413.341 166.38695 415.97705 169.02295 C 418.6131 171.65903 422.88696 171.65903 425.523 169.02295 C 428.15906 166.38695 428.15906 162.11308 425.523 159.47705" fill="#020202"/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;</pre>
</div>
<div title="TiddlySpaceCloneCommand" server.title="TiddlySpaceCloneCommand" server.page.revision="1521898" server.etag="&quot;tiddlyspace/TiddlySpaceCloneCommand/1521898:c6b38c14cb6ba484da1e2004d0bf1877c100a35a&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/tiddlyspace" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="tiddlyspace" server.permissions="read" server.content-type="text/javascript" modified="20131111192332" created="20131111192332" tags="excludeLists excludeSearch systemConfig" _hash="3ecfd7c955dc674752681565ad0ed68f8fcad5d9">
<pre>/***
|''Name''|TiddlySpaceCloneCommand|
|''Version''|0.5.8|
|''Description''|provides a toolbar command for cloning external tiddlers|
|''Status''|stable|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceCloneCommand.js|
|''Requires''|TiddlySpaceConfig TiddlySpaceFilters|
!Code
***/
//{{{
(function($) {

var cmd = config.commands;
var tiddlyspace = config.extensions.tiddlyspace;

var fieldsCache = {};

cmd.cloneTiddler = {
	text: cmd.editTiddler.text,
	tooltip: "Create a copy of this tiddler in the current space",
	errorMsg: "Error publishing %0: %1",

	isEnabled: function(tiddler) {
		return !config.filterHelpers.is.local(tiddler) &amp;&amp; !readOnly;
	},
	handler: function(ev, src, title) {
		var tiddler = store.getTiddler(title);
		if(tiddler) {
			fieldsCache[title] = $.extend({}, tiddler.fields);
			tiddler.fields["server.workspace"] = tiddlyspace.getCurrentWorkspace(config.options.chkPrivateMode ?
		"private" : "public");
			tiddler.fields["server.permissions"] = "read, write, create"; // no delete
			delete tiddler.fields["server.page.revision"];
			delete tiddler.fields["server.title"];
			delete tiddler.fields["server.etag"];
			// special handling for pseudo-shadow tiddlers
			if(tiddlyspace.coreBags.contains(tiddler.fields["server.bag"])) {
				tiddler.tags.remove("excludeLists");
			}
		} else { // ensure workspace is the current space
			var el = story.findContainingTiddler(src);
			el = $(el);
			var fields = el.attr("tiddlyfields");
			if(fields) { // inherited via TiddlyLink
				fields = fields.decodeHashMap();
				fields["server.workspace"] = config.
					defaultCustomFields["server.workspace"];
			} else {
				fields = config.defaultCustomFields;
			}
			fields = String.encodeHashMap(fields);
			el.attr("tiddlyfields", fields);
		}
		cmd.editTiddler.handler.apply(this, arguments);
		if(tiddler) {
			tiddler.fields["server.permissions"] += ", delete";
		}
		return false;
	}
};

cmd.editTiddler.isEnabled = function(tiddler) {
	return !cmd.cloneTiddler.isEnabled.apply(this, arguments);
};

// hijack cancelTiddler to restore original fields
var _cancelHandler = cmd.cancelTiddler.handler;
cmd.cancelTiddler.handler = function(ev, src, title) {
	var tiddler = store.getTiddler(title);
	if(tiddler) {
		tiddler.fields = fieldsCache[title] || tiddler.fields;
		delete fieldsCache[title];
	}
	return _cancelHandler.apply(this, arguments);
};

// hijack saveTiddler to clear unused fields stash
var _saveHandler = cmd.saveTiddler.handler;
cmd.saveTiddler.handler =  function(ev, src, title) {
	delete fieldsCache[title];
	return _saveHandler.apply(this, arguments);
};

})(jQuery);
//}}}</pre>
</div>
<div title="第二次作业" server.title="第二次作业" server.page.revision="2566528" server.etag="&quot;zhucebuliaogyx_public/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E4%BD%9C%E4%B8%9A/2566528:208d4b4e88c4a8fe6b2f23e1591920512e4dd165&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20160927125746" created="20160921065831" tags="14信管作业" _hash="0d81b6f43a7f5ba086e22733c05034d32318db04">
<pre>&lt;html&gt;
&lt;head&gt;
&lt;div align="center"&gt;
&lt;h1&gt;&lt;title&gt; 方法和目标&lt;/title&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/head&gt;
&lt;body&gt;



&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp这本书的目的在于提供给信息管理充足的理解，我们跟随David kolb的生命来对它有一个认识，那就是知识有两种基本的规模（抽象对具体，沉思对实验），并且学习是一个在它们之间进步的一个循环的过程。沿着这个，我们的目的如下：&lt;br/&gt;
1.抽象的理解：这就意味着一些基本的术语是能够被解释的，在每一个章节中，通过对信息和情报的见解的不同看法进行解释，为了一种信息管理的方法进行一次关于它的主要的哲学思想和含义的讨论。&lt;br/&gt;
2.实验：我们向读者发起挑战，通过提供给他们信息管理的方法和技术，来应用信息管理的概念并描述出来。&lt;br/&gt;
3.具体的经验：我们通过抽象的哲学观点和有关信息管理的方法和技术去解决实际生活中的问题，来论证它的实用性。&lt;br/&gt;
4.反思：我们向读者发起挑战，用一种批判性的方法思考他们在任务中读到和审判了什么，我们邀请他们去发现挑战为了他们未来的学习生涯，一个好的方法是通过团队的影响，当然一个适当的方法是建立一个提供情报的平台去讨论他们所读和所做的事情，这个很容易去做，并且是学习理解提供情报的挑战，也就是避免错误的和无意义的情报，而是通过电子技术的方法来获得实际的知识。谷歌就提供了一些好的机会（看这章的末尾）。&lt;br/&gt;&lt;br/&gt;

读完这本书，读者将会：&lt;br/&gt;
1.理解和分辨对信息管理的不同方法，它们的优势和劣势，并且提供独特的方法。&lt;br/&gt;
2.学习构建简单的经验和管理之间的关系的模型，说明信息需要经营管理和公共政策的共同执行。&lt;br/&gt;
3.理解一个主要的问题，就是转变抽象的信息需要具体的信息收集、处理和规程表示法。&lt;br/&gt;
4.理解一些在组织上复杂的信息管理，和在组织上用信息系统的挑战，可能是全部中最重要的。&lt;br/&gt;
5.形成思考和分析的能力去论证信息、情报、信息管理和信息技术的用法。这个能力会对你的整个职业生涯有帮助，并且使你能够精密的去判断和获得未来的新信息的机会。比如说我的目标在于讨论信息管理像是与生俱来的人类本能，而不是靠技术的支持。&lt;br/&gt;&lt;br/&gt;

&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp这些课程、洞察力和技巧是经营管理、公共管理、社会科学和经济学的大学生的基本能力，但是这本书同样也适合于每个对信息和情报的基本原来感兴趣的人。&lt;br/&gt;
&lt;/body&gt;

&lt;/html&gt;


</pre>
</div>
<div title="SideBarTabs" server.title="SideBarTabs" server.page.revision="1521918" server.etag="&quot;system-theme_public/SideBarTabs/1521918:5e4b1a326f5f3dfbc2bd8adbbf71c8dd1c0a9ff1&quot;" modifier="osmosoft" creator="osmosoft" server.workspace="bags/system-theme_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="system-theme_public" server.permissions="read" server.content-type="" modified="20131111192330" created="20131111192330" tags="excludeLists excludeMissing excludeSearch" _hash="6b74609cea4ddb529f42d3331e63b7775376af47">
<pre>&lt;&lt;tiddler Backstage##Tiddlers&gt;&gt;</pre>
</div>
<div title="翻墙" server.title="翻墙" server.page.revision="2586893" server.etag="&quot;zhucebuliaogyx_public/%E7%BF%BB%E5%A2%99/2586893:ca70cc960330f927e0bb0d30a47d2adb4628300d&quot;" modifier="zhucebuliaogyx" creator="zhucebuliaogyx" server.workspace="bags/zhucebuliaogyx_public" server.type="tiddlyweb" server.host="http://zhucebuliaogyx.tiddlyspace.com" server.recipe="zhucebuliaogyx_private" server.bag="zhucebuliaogyx_public" server.permissions="read, write, create, delete" server.content-type="" modified="20161123115348" created="20161123115348" tags="翻墙" _hash="f5cfbc07e6049a85dff03f37d70502d82eae62a8">
<pre>*代理
**使用公开的代理列表，比如[[Orzin|zotero://attachment/16123/www.orzin.com.html]]
**使用匿名代理，比如[[Anonymouse|zotero://attachment/11234/anonwww.html]]、[[proxify|zotero://attachment/3692/proxify.com.html]]
*电子邮件服务
**利用电子邮件获取网页，比如[[Web2Mail|zotero://attachment/1299/welcome.html]]
*IP地址
**将域名转换为IP地址进行访问，用于关键词屏蔽而非IP屏蔽的地址。工具如[[hcidata|zotero://attachment/3531/host2ip.html]]。网址[[在这里|http://www.hcidata.info/host2ip.cgi]]
*使用Google Cache
**即网页快照，百度的可用，但Google的不能用。我们可以通过在FF中装插件的方式使用，效果很好。我们这里以Twitter 的检索为例，[[在Google中检索Twitter inforabbi|zotero://attachment/1015/]]，我们[[进入缓存看看|zotero://attachment/1017/]]
*Firefox的各种扩展
**比如Gladder、Torbutton
*带Tor
**@@color(#ff0000):Torpark浏览器@@，[[这里可以下载|http://www.download.com/Torpark/3000-2356_4-10586816.html]]
*其他专门浏览器
**比如@@color(#ff0000):无界浏览@@、@@color(#ff0000):自由门@@</pre>
</div>
</div>
<!--POST-STOREAREA-->
<!--POST-BODY-START-->

<!--POST-BODY-END-->
<script id="jsArea" type="text/javascript">
//<![CDATA[

//
// Please note:
//
// * This code is designed to be readable but for compactness it only includes brief comments. You can see fuller comments
//   in the project repository at https://github.com/TiddlyWiki/tiddlywiki
//
// * You should never need to modify this source code directly. TiddlyWiki is carefully designed to allow deep customisation
//   without changing the core code. Please consult the development group at http://groups.google.com/group/TiddlyWikiDev
//
// JSLint directives
/*global jQuery:false, version:false */
/*jslint bitwise:true, browser:true, confusion:true, eqeq:true, evil:true, forin:true, maxerr:100, plusplus:true, regexp:true, sloppy:true, sub:true, undef:true, unparam:true, vars:true, white:true */
//--
//-- Configuration repository
//--

// Miscellaneous options
var config = {
	numRssItems: 20, // Number of items in the RSS feed
	animDuration: 400, // Duration of UI animations in milliseconds
	cascadeFast: 20, // Speed for cascade animations (higher == slower)
	cascadeSlow: 60, // Speed for EasterEgg cascade animations
	cascadeDepth: 5, // Depth of cascade animation
	locale: "en" // W3C language tag
};

// Hashmap of alternative parsers for the wikifier
config.parsers = {};

// Adaptors
config.adaptors = {};
config.defaultAdaptor = null;

// Backstage tasks
config.tasks = {};

// Annotations
config.annotations = {};

// Custom fields to be automatically added to new tiddlers
config.defaultCustomFields = {};

// Messages
config.messages = {
	messageClose: {},
	dates: {},
	tiddlerPopup: {}
};

// Options that can be set in the options panel and/or cookies
config.options = {
	chkRegExpSearch: false,
	chkCaseSensitiveSearch: false,
	chkIncrementalSearch: true,
	chkAnimate: true,
	chkSaveBackups: true,
	chkAutoSave: false,
	chkGenerateAnRssFeed: false,
	chkSaveEmptyTemplate: false,
	chkOpenInNewWindow: true,
	chkToggleLinks: false,
	chkHttpReadOnly: true,
	chkForceMinorUpdate: false,
	chkConfirmDelete: true,
	chkInsertTabs: false,
	chkUsePreForStorage: true, // Whether to use <pre> format for storage
	chkDisplayInstrumentation: false,
	txtBackupFolder: "",
	txtEditorFocus: "text",
	txtMainTab: "tabTimeline",
	txtMoreTab: "moreTabAll",
	txtMaxEditRows: "30",
	txtFileSystemCharSet: "UTF-8",
	txtTheme: ""
	};
config.optionsDesc = {};

config.optionsSource = {};

// Default tiddler templates
var DEFAULT_VIEW_TEMPLATE = 1;
var DEFAULT_EDIT_TEMPLATE = 2;
config.tiddlerTemplates = {
	1: "ViewTemplate",
	2: "EditTemplate"
};

// More messages (rather a legacy layout that should not really be like this)
config.views = {
	wikified: {
		tag: {}
	},
	editor: {
		tagChooser: {}
	}
};

// Backstage tasks
config.backstageTasks = ["save","importTask","tweak","upgrade","plugins"];

// Extensions
config.extensions = {};

// Macros; each has a 'handler' member that is inserted later
config.macros = {
	today: {},
	version: {},
	search: {sizeTextbox: 15},
	tiddler: {},
	tag: {},
	tags: {},
	tagging: {},
	timeline: {},
	allTags: {},
	list: {
		all: {},
		missing: {},
		orphans: {},
		shadowed: {},
		touched: {},
		filter: {}
	},
	closeAll: {},
	permaview: {},
	saveChanges: {},
	slider: {},
	option: {},
	options: {},
	newTiddler: {},
	newJournal: {},
	tabs: {},
	gradient: {},
	message: {},
	view: {defaultView: "text"},
	edit: {},
	tagChooser: {},
	toolbar: {},
	plugins: {},
	refreshDisplay: {},
	importTiddlers: {},
	upgrade: {
		source: "http://tiddlywiki-releases.tiddlyspace.com/upgrade",
		backupExtension: "pre.core.upgrade"
	},
	sync: {},
	annotations: {}
};

// Commands supported by the toolbar macro
config.commands = {
	closeTiddler: {},
	closeOthers: {},
	editTiddler: {},
	saveTiddler: {hideReadOnly: true},
	cancelTiddler: {},
	deleteTiddler: {hideReadOnly: true},
	permalink: {},
	references: {type: "popup"},
	jump: {type: "popup"},
	syncing: {type: "popup"},
	fields: {type: "popup"}
};

// Control of macro parameter evaluation
config.evaluateMacroParameters = "all";

// Basic regular expressions
config.textPrimitives = {
	upperLetter: "[A-Z\u00c0-\u00de\u0150\u0170]",
	lowerLetter: "[a-z0-9_\\-\u00df-\u00ff\u0151\u0171]",
	anyLetter:   "[A-Za-z0-9_\\-\u00c0-\u00de\u00df-\u00ff\u0150\u0170\u0151\u0171]",
	anyLetterStrict: "[A-Za-z0-9\u00c0-\u00de\u00df-\u00ff\u0150\u0170\u0151\u0171]"
};
if(!((new RegExp("[\u0150\u0170]","g")).test("\u0150"))) {
	config.textPrimitives = {
		upperLetter: "[A-Z\u00c0-\u00de]",
		lowerLetter: "[a-z0-9_\\-\u00df-\u00ff]",
		anyLetter:   "[A-Za-z0-9_\\-\u00c0-\u00de\u00df-\u00ff]",
		anyLetterStrict: "[A-Za-z0-9\u00c0-\u00de\u00df-\u00ff]"
	};
}
config.textPrimitives.sliceSeparator = "::";
config.textPrimitives.sectionSeparator = "##";
config.textPrimitives.urlPattern = "(?:file|http|https|mailto|ftp|irc|news|data):[^\\s'\"]+(?:/|\\b)";
config.textPrimitives.unWikiLink = "~";
config.textPrimitives.wikiLink = "(?:(?:" + config.textPrimitives.upperLetter + "+" +
	config.textPrimitives.lowerLetter + "+" +
	config.textPrimitives.upperLetter +
	config.textPrimitives.anyLetter + "*)|(?:" +
	config.textPrimitives.upperLetter + "{2,}" +
	config.textPrimitives.lowerLetter + "+))";

config.textPrimitives.cssLookahead = "(?:(" + config.textPrimitives.anyLetter + "+)\\(([^\\)\\|\\n]+)(?:\\):))|(?:(" + config.textPrimitives.anyLetter + "+):([^;\\|\\n]+);)";
config.textPrimitives.cssLookaheadRegExp = new RegExp(config.textPrimitives.cssLookahead,"mg");

config.textPrimitives.brackettedLink = "\\[\\[([^\\]]+)\\]\\]";
config.textPrimitives.titledBrackettedLink = "\\[\\[([^\\[\\]\\|]+)\\|([^\\[\\]\\|]+)\\]\\]";
config.textPrimitives.tiddlerForcedLinkRegExp = new RegExp("(?:" + config.textPrimitives.titledBrackettedLink + ")|(?:" +
	config.textPrimitives.brackettedLink + ")|(?:" +
	config.textPrimitives.urlPattern + ")","mg");
config.textPrimitives.tiddlerAnyLinkRegExp = new RegExp("("+ config.textPrimitives.wikiLink + ")|(?:" +
	config.textPrimitives.titledBrackettedLink + ")|(?:" +
	config.textPrimitives.brackettedLink + ")|(?:" +
	config.textPrimitives.urlPattern + ")","mg");

config.glyphs = {
	currBrowser: null,
	browsers: [],
	codes: {}
};

//--
//-- Shadow tiddlers
//--

config.shadowTiddlers = {
	StyleSheet: "",
	MarkupPreHead: "",
	MarkupPostHead: "",
	MarkupPreBody: "",
	MarkupPostBody: "",
	TabTimeline: '<<timeline>>',
	TabAll: '<<list all>>',
	TabTags: '<<allTags excludeLists>>',
	TabMoreMissing: '<<list missing>>',
	TabMoreOrphans: '<<list orphans>>',
	TabMoreShadowed: '<<list shadowed>>',
	AdvancedOptions: '<<options>>',
	PluginManager: '<<plugins>>',
	SystemSettings: '',
	ToolbarCommands: '|~ViewToolbar|closeTiddler closeOthers +editTiddler > fields syncing permalink references jump|\n|~EditToolbar|+saveTiddler -cancelTiddler deleteTiddler|',
	WindowTitle: '<<tiddler SiteTitle>> - <<tiddler SiteSubtitle>>'
};

// Browser detection... In a very few places, there's nothing else for it but to know what browser we're using.
config.userAgent = navigator.userAgent.toLowerCase();
config.browser = {
	isIE: config.userAgent.indexOf("msie") != -1 && config.userAgent.indexOf("opera") == -1,
	isGecko: navigator.product == "Gecko" && config.userAgent.indexOf("WebKit") == -1,
	ieVersion: /MSIE (\d{1,2}.\d)/i.exec(config.userAgent), // config.browser.ieVersion[1], if it exists, will be the IE version string, eg "6.0"
	isSafari: config.userAgent.indexOf("applewebkit") != -1,
	isBadSafari: !((new RegExp("[\u0150\u0170]","g")).test("\u0150")),
	firefoxDate: /gecko\/(\d{8})/i.exec(config.userAgent), // config.browser.firefoxDate[1], if it exists, will be Firefox release date as "YYYYMMDD"
	isOpera: config.userAgent.indexOf("opera") != -1,
	isChrome: config.userAgent.indexOf('chrome') > -1,
	isLinux: config.userAgent.indexOf("linux") != -1,
	isUnix: config.userAgent.indexOf("x11") != -1,
	isMac: config.userAgent.indexOf("mac") != -1,
	isWindows: config.userAgent.indexOf("win") != -1
};

merge(config.glyphs,{
	browsers: [
		function() {return config.browser.isIE;},
		function() {return true;}
		],
	codes: {
		downTriangle: ["\u25BC","\u25BE"],
		downArrow: ["\u2193","\u2193"],
		bentArrowLeft: ["\u2190","\u21A9"],
		bentArrowRight: ["\u2192","\u21AA"]
	}
});

//--
//-- Translateable strings
//--

// Strings in "double quotes" should be translated; strings in 'single quotes' should be left alone

merge(config.options,{
	txtUserName: "YourName"});

merge(config.tasks,{
	save: {text: "save", tooltip: "Save your changes to this TiddlyWiki"},
	importTask: {text: "import", tooltip: "Import tiddlers and plugins from other TiddlyWiki files and servers", content: '<<importTiddlers>>'},
	tweak: {text: "tweak", tooltip: "Tweak the appearance and behaviour of TiddlyWiki", content: '<<options>>'},
	upgrade: {text: "upgrade", tooltip: "Upgrade TiddlyWiki core code", content: '<<upgrade>>'},
	plugins: {text: "plugins", tooltip: "Manage installed plugins", content: '<<plugins>>'}
});

// Options that can be set in the options panel and/or cookies
merge(config.optionsDesc,{
	txtUserName: "Username for signing your edits",
	chkRegExpSearch: "Enable regular expressions for searches",
	chkCaseSensitiveSearch: "Case-sensitive searching",
	chkIncrementalSearch: "Incremental key-by-key searching",
	chkAnimate: "Enable animations",
	chkSaveBackups: "Keep backup file when saving changes",
	chkAutoSave: "Automatically save changes",
	chkGenerateAnRssFeed: "Generate an RSS feed when saving changes",
	chkSaveEmptyTemplate: "Generate an empty template when saving changes",
	chkOpenInNewWindow: "Open external links in a new window",
	chkToggleLinks: "Clicking on links to open tiddlers causes them to close",
	chkHttpReadOnly: "Hide editing features when viewed over HTTP",
	chkForceMinorUpdate: "Don't update modifier username and date when editing tiddlers",
	chkConfirmDelete: "Require confirmation before deleting tiddlers",
	chkInsertTabs: "Use the tab key to insert tab characters instead of moving between fields",
	txtBackupFolder: "Name of folder to use for backups",
	txtMaxEditRows: "Maximum number of rows in edit boxes",
	txtTheme: "Name of the theme to use",
	txtFileSystemCharSet: "Default character set for saving changes (Firefox/Mozilla only)"});

merge(config.messages,{
	customConfigError: "Problems were encountered loading plugins. See PluginManager for details",
	pluginError: "Error: %0",
	pluginDisabled: "Not executed because disabled via 'systemConfigDisable' tag",
	pluginForced: "Executed because forced via 'systemConfigForce' tag",
	pluginVersionError: "Not executed because this plugin needs a newer version of TiddlyWiki",
	nothingSelected: "Nothing is selected. You must select one or more items first",
	savedSnapshotError: "It appears that this TiddlyWiki has been incorrectly saved. Please see http://www.tiddlywiki.com/#Download for details",
	subtitleUnknown: "(unknown)",
	undefinedTiddlerToolTip: "The tiddler '%0' doesn't yet exist",
	shadowedTiddlerToolTip: "The tiddler '%0' doesn't yet exist, but has a pre-defined shadow value",
	tiddlerLinkTooltip: "%0 - %1, %2",
	externalLinkTooltip: "External link to %0",
	noTags: "There are no tagged tiddlers",
	notFileUrlError: "You need to save this TiddlyWiki to a file before you can save changes",
	cantSaveError: "It's not possible to save changes. Possible reasons include:\n- your browser doesn't support saving (Firefox, Internet Explorer, Safari and Opera all work if properly configured)\n- the pathname to your TiddlyWiki file contains illegal characters\n- the TiddlyWiki HTML file has been moved or renamed",
	invalidFileError: "The original file '%0' does not appear to be a valid TiddlyWiki",
	backupSaved: "Backup saved",
	backupFailed: "Failed to save backup file",
	rssSaved: "RSS feed saved",
	rssFailed: "Failed to save RSS feed file",
	emptySaved: "Empty template saved",
	emptyFailed: "Failed to save empty template file",
	mainSaved: "Main TiddlyWiki file saved",
	mainDownload: "Downloading/saving main TiddlyWiki file",
	mainDownloadManual: "RIGHT CLICK HERE to download/save main TiddlyWiki file",
	mainFailed: "Failed to save main TiddlyWiki file. Your changes have not been saved",
	macroError: "Error in macro <<%0>>",
	macroErrorDetails: "Error while executing macro <<%0>>:\n%1",
	missingMacro: "No such macro",
	overwriteWarning: "A tiddler named '%0' already exists. Choose OK to overwrite it",
	unsavedChangesWarning: "WARNING! There are unsaved changes in TiddlyWiki\n\nChoose OK to save\nChoose CANCEL to discard",
	confirmExit: "--------------------------------\n\nThere are unsaved changes in TiddlyWiki. If you continue you will lose those changes\n\n--------------------------------",
	saveInstructions: "SaveChanges",
	unsupportedTWFormat: "Unsupported TiddlyWiki format '%0'",
	tiddlerSaveError: "Error when saving tiddler '%0'",
	tiddlerLoadError: "Error when loading tiddler '%0'",
	wrongSaveFormat: "Cannot save with storage format '%0'. Using standard format for save.",
	invalidFieldName: "Invalid field name %0",
	fieldCannotBeChanged: "Field '%0' cannot be changed",
	loadingMissingTiddler: "Attempting to retrieve the tiddler '%0' from the '%1' server at:\n\n'%2' in the workspace '%3'",
	upgradeDone: "The upgrade to version %0 is now complete\n\nClick 'OK' to reload the newly upgraded TiddlyWiki",
	invalidCookie: "Invalid cookie '%0'"});

merge(config.messages.messageClose,{
	text: "close",
	tooltip: "close this message area"});

config.messages.backstage = {
	open: {text: "backstage", tooltip: "Open the backstage area to perform authoring and editing tasks"},
	close: {text: "close", tooltip: "Close the backstage area"},
	prompt: "backstage: ",
	decal: {
		edit: {text: "edit", tooltip: "Edit the tiddler '%0'"}
	}
};

config.messages.listView = {
	tiddlerTooltip: "Click for the full text of this tiddler",
	previewUnavailable: "(preview not available)"
};

config.messages.dates.months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November","December"];
config.messages.dates.days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
config.messages.dates.shortMonths = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
config.messages.dates.shortDays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
// suffixes for dates, eg "1st","2nd","3rd"..."30th","31st"
config.messages.dates.daySuffixes = ["st","nd","rd","th","th","th","th","th","th","th",
		"th","th","th","th","th","th","th","th","th","th",
		"st","nd","rd","th","th","th","th","th","th","th",
		"st"];
config.messages.dates.am = "am";
config.messages.dates.pm = "pm";

merge(config.messages.tiddlerPopup,{
	});

merge(config.views.wikified.tag,{
	labelNoTags: "no tags",
	labelTags: "tags: ",
	openTag: "Open tag '%0'",
	tooltip: "Show tiddlers tagged with '%0'",
	openAllText: "Open all",
	openAllTooltip: "Open all of these tiddlers",
	popupNone: "No other tiddlers tagged with '%0'"});

merge(config.views.wikified,{
	defaultText: "The tiddler '%0' doesn't yet exist. Double-click to create it",
	defaultModifier: "(missing)",
	shadowModifier: "(built-in shadow tiddler)",
	dateFormat: "DD MMM YYYY",
	createdPrompt: "created"});

merge(config.views.editor,{
	tagPrompt: "Type tags separated with spaces, [[use double square brackets]] if necessary, or add existing",
	defaultText: "Type the text for '%0'"});

merge(config.views.editor.tagChooser,{
	text: "tags",
	tooltip: "Choose existing tags to add to this tiddler",
	popupNone: "There are no tags defined",
	tagTooltip: "Add the tag '%0'"});

merge(config.messages,{
	sizeTemplates:
		[
		{unit: 1024*1024*1024, template: "%0\u00a0GB"},
		{unit: 1024*1024, template: "%0\u00a0MB"},
		{unit: 1024, template: "%0\u00a0KB"},
		{unit: 1, template: "%0\u00a0B"}
		]});

merge(config.macros.search,{
	label: "search",
	prompt: "Search this TiddlyWiki",
	placeholder: "",
	accessKey: "F",
	successMsg: "%0 tiddlers found matching %1",
	failureMsg: "No tiddlers found matching %0"});

merge(config.macros.tagging,{
	label: "tagging: ",
	labelNotTag: "not tagging",
	tooltip: "List of tiddlers tagged with '%0'"});

merge(config.macros.timeline,{
	dateFormat: "DD MMM YYYY"});

merge(config.macros.allTags,{
	tooltip: "Show tiddlers tagged with '%0'",
	noTags: "There are no tagged tiddlers"});

config.macros.list.all.prompt = "All tiddlers in alphabetical order";
config.macros.list.missing.prompt = "Tiddlers that have links to them but are not defined";
config.macros.list.orphans.prompt = "Tiddlers that are not linked to from any other tiddlers";
config.macros.list.shadowed.prompt = "Tiddlers shadowed with default contents";
config.macros.list.touched.prompt = "Tiddlers that have been modified locally";

merge(config.macros.closeAll,{
	label: "close all",
	prompt: "Close all displayed tiddlers (except any that are being edited)"});

merge(config.macros.permaview,{
	label: "permaview",
	prompt: "Link to an URL that retrieves all the currently displayed tiddlers"});

merge(config.macros.saveChanges,{
	label: "save changes",
	prompt: "Save all tiddlers to create a new TiddlyWiki",
	accessKey: "S"});

merge(config.macros.newTiddler,{
	label: "new tiddler",
	prompt: "Create a new tiddler",
	title: "New Tiddler",
	accessKey: "N"});

merge(config.macros.newJournal,{
	label: "new journal",
	prompt: "Create a new tiddler from the current date and time",
	accessKey: "J"});

merge(config.macros.options,{
	wizardTitle: "Tweak advanced options",
	step1Title: "These options are saved in cookies in your browser",
	step1Html: "<input type='hidden' name='markList'></input><br><input type='checkbox' checked='false' name='chkUnknown'>Show unknown options</input>",
	unknownDescription: "//(unknown)//",
	listViewTemplate: {
		columns: [
			{name: 'Option', field: 'option', title: "Option", type: 'String'},
			{name: 'Description', field: 'description', title: "Description", type: 'WikiText'},
			{name: 'Name', field: 'name', title: "Name", type: 'String'}
			],
		rowClasses: [
			{className: 'lowlight', field: 'lowlight'}
			]}
	});

merge(config.macros.plugins,{
	wizardTitle: "Manage plugins",
	step1Title: "Currently loaded plugins",
	step1Html: "<input type='hidden' name='markList'></input>", // DO NOT TRANSLATE
	skippedText: "(This plugin has not been executed because it was added since startup)",
	noPluginText: "There are no plugins installed",
	confirmDeleteText: "Are you sure you want to delete these plugins:\n\n%0",
	removeLabel: "remove systemConfig tag",
	removePrompt: "Remove systemConfig tag",
	deleteLabel: "delete",
	deletePrompt: "Delete these tiddlers forever",
	listViewTemplate: {
		columns: [
			{name: 'Selected', field: 'Selected', rowName: 'title', type: 'Selector'},
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Description', field: 'Description', title: "Description", type: 'String'},
			{name: 'Version', field: 'Version', title: "Version", type: 'String'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Forced', field: 'forced', title: "Forced", tag: 'systemConfigForce', type: 'TagCheckbox'},
			{name: 'Disabled', field: 'disabled', title: "Disabled", tag: 'systemConfigDisable', type: 'TagCheckbox'},
			{name: 'Executed', field: 'executed', title: "Loaded", type: 'Boolean', trueText: "Yes", falseText: "No"},
			{name: 'Startup Time', field: 'startupTime', title: "Startup Time", type: 'String'},
			{name: 'Error', field: 'error', title: "Status", type: 'Boolean', trueText: "Error", falseText: "OK"},
			{name: 'Log', field: 'log', title: "Log", type: 'StringList'}
			],
		rowClasses: [
			{className: 'error', field: 'error'},
			{className: 'warning', field: 'warning'}
			]},
	listViewTemplateReadOnly: {
		columns: [
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Description', field: 'Description', title: "Description", type: 'String'},
			{name: 'Version', field: 'Version', title: "Version", type: 'String'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Executed', field: 'executed', title: "Loaded", type: 'Boolean', trueText: "Yes", falseText: "No"},
			{name: 'Startup Time', field: 'startupTime', title: "Startup Time", type: 'String'},
			{name: 'Error', field: 'error', title: "Status", type: 'Boolean', trueText: "Error", falseText: "OK"},
			{name: 'Log', field: 'log', title: "Log", type: 'StringList'}
			],
		rowClasses: [
			{className: 'error', field: 'error'},
			{className: 'warning', field: 'warning'}
			]}
	});

merge(config.macros.toolbar,{
	moreLabel: "more",
	morePrompt: "Show additional commands",
	lessLabel: "less",
	lessPrompt: "Hide additional commands",
	separator: "|"
	});

merge(config.macros.refreshDisplay,{
	label: "refresh",
	prompt: "Redraw the entire TiddlyWiki display"
	});

merge(config.macros.importTiddlers,{
	readOnlyWarning: "You cannot import into a read-only TiddlyWiki file. Try opening it from a file:// URL",
	wizardTitle: "Import tiddlers from another file or server",
	step1Title: "Step 1: Locate the server or TiddlyWiki file",
	step1Html: "Specify the type of the server: <select name='selTypes'><option value=''>Choose...</option></select><br>Enter the URL or pathname here: <input type='text' size=50 name='txtPath'><br>...or browse for a file: <input type='file' size=50 name='txtBrowse'><br><hr>...or select a pre-defined feed: <select name='selFeeds'><option value=''>Choose...</option></select>",
	openLabel: "open",
	openPrompt: "Open the connection to this file or server",
	statusOpenHost: "Opening the host",
	statusGetWorkspaceList: "Getting the list of available workspaces",
	step2Title: "Step 2: Choose the workspace",
	step2Html: "Enter a workspace name: <input type='text' size=50 name='txtWorkspace'><br>...or select a workspace: <select name='selWorkspace'><option value=''>Choose...</option></select>",
	cancelLabel: "cancel",
	cancelPrompt: "Cancel this import",
	statusOpenWorkspace: "Opening the workspace",
	statusGetTiddlerList: "Getting the list of available tiddlers",
	errorGettingTiddlerList: "Error getting list of tiddlers, click Cancel to try again",
	errorGettingTiddlerListHttp404: "Error retrieving tiddlers from url, please ensure the url exists. Click Cancel to try again.",
	errorGettingTiddlerListHttp: "Error retrieving tiddlers from url, please ensure this url exists and is <a href='http://enable-cors.org/'>CORS</a> enabled",
	errorGettingTiddlerListFile: "Error retrieving tiddlers from local file, please make sure the file is in the same directory as your TiddlyWiki. Click Cancel to try again.",
	step3Title: "Step 3: Choose the tiddlers to import",
	step3Html: "<input type='hidden' name='markList'></input><br><input type='checkbox' checked='true' name='chkSync'>Keep these tiddlers linked to this server so that you can synchronise subsequent changes</input><br><input type='checkbox' name='chkSave'>Save the details of this server in a 'systemServer' tiddler called:</input> <input type='text' size=25 name='txtSaveTiddler'>",
	importLabel: "import",
	importPrompt: "Import these tiddlers",
	confirmOverwriteText: "Are you sure you want to overwrite these tiddlers:\n\n%0",
	step4Title: "Step 4: Importing %0 tiddler(s)",
	step4Html: "<input type='hidden' name='markReport'></input>", // DO NOT TRANSLATE
	doneLabel: "done",
	donePrompt: "Close this wizard",
	statusDoingImport: "Importing tiddlers",
	statusDoneImport: "All tiddlers imported",
	systemServerNamePattern: "%2 on %1",
	systemServerNamePatternNoWorkspace: "%1",
	confirmOverwriteSaveTiddler: "The tiddler '%0' already exists. Click 'OK' to overwrite it with the details of this server, or 'Cancel' to leave it unchanged",
	serverSaveTemplate: "|''Type:''|%0|\n|''URL:''|%1|\n|''Workspace:''|%2|\n\nThis tiddler was automatically created to record the details of this server",
	serverSaveModifier: "(System)",
	listViewTemplate: {
		columns: [
			{name: 'Selected', field: 'Selected', rowName: 'title', type: 'Selector'},
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Tags', field: 'tags', title: "Tags", type: 'Tags'}
			],
		rowClasses: [
			]}
	});

merge(config.macros.upgrade,{
	wizardTitle: "Upgrade TiddlyWiki core code",
	step1Title: "Update or repair this TiddlyWiki to the latest release",
	step1Html: "You are about to upgrade to the latest release of the TiddlyWiki core code (from <a href='%0' class='externalLink' target='_blank'>%1</a>). Your content will be preserved across the upgrade.<br><br>Note that core upgrades have been known to interfere with older plugins. If you run into problems with the upgraded file, see <a href='http://www.tiddlywiki.org/wiki/CoreUpgrades' class='externalLink' target='_blank'>http://www.tiddlywiki.org/wiki/CoreUpgrades</a>",
	errorCantUpgrade: "Unable to upgrade this TiddlyWiki. You can only perform upgrades on TiddlyWiki files stored locally",
	errorNotSaved: "You must save changes before you can perform an upgrade",
	step2Title: "Confirm the upgrade details",
	step2Html_downgrade: "You are about to downgrade to TiddlyWiki version %0 from %1.<br><br>Downgrading to an earlier version of the core code is not recommended",
	step2Html_restore: "This TiddlyWiki appears to be already using the latest version of the core code (%0).<br><br>You can continue to upgrade anyway to ensure that the core code hasn't been corrupted or damaged",
	step2Html_upgrade: "You are about to upgrade to TiddlyWiki version %0 from %1",
	upgradeLabel: "upgrade",
	upgradePrompt: "Prepare for the upgrade process",
	statusPreparingBackup: "Preparing backup",
	statusSavingBackup: "Saving backup file",
	errorSavingBackup: "There was a problem saving the backup file",
	statusLoadingCore: "Loading core code",
	errorLoadingCore: "Error loading the core code",
	errorCoreFormat: "Error with the new core code",
	statusSavingCore: "Saving the new core code",
	statusReloadingCore: "Reloading the new core code",
	startLabel: "start",
	startPrompt: "Start the upgrade process",
	cancelLabel: "cancel",
	cancelPrompt: "Cancel the upgrade process",
	step3Title: "Upgrade cancelled",
	step3Html: "You have cancelled the upgrade process"
	});

merge(config.macros.annotations,{
	});

merge(config.commands.closeTiddler,{
	text: "close",
	tooltip: "Close this tiddler"});

merge(config.commands.closeOthers,{
	text: "close others",
	tooltip: "Close all other tiddlers"});

merge(config.commands.editTiddler,{
	text: "edit",
	tooltip: "Edit this tiddler",
	readOnlyText: "view",
	readOnlyTooltip: "View the source of this tiddler"});

merge(config.commands.saveTiddler,{
	text: "done",
	tooltip: "Save changes to this tiddler"});

merge(config.commands.cancelTiddler,{
	text: "cancel",
	tooltip: "Undo changes to this tiddler",
	warning: "Are you sure you want to abandon your changes to '%0'?",
	readOnlyText: "done",
	readOnlyTooltip: "View this tiddler normally"});

merge(config.commands.deleteTiddler,{
	text: "delete",
	tooltip: "Delete this tiddler",
	warning: "Are you sure you want to delete '%0'?"});

merge(config.commands.permalink,{
	text: "permalink",
	tooltip: "Permalink for this tiddler"});

merge(config.commands.references,{
	text: "references",
	tooltip: "Show tiddlers that link to this one",
	popupNone: "No references"});

merge(config.commands.jump,{
	text: "jump",
	tooltip: "Jump to another open tiddler"});

merge(config.commands.fields,{
	text: "fields",
	tooltip: "Show the extended fields of this tiddler",
	emptyText: "There are no extended fields for this tiddler",
	listViewTemplate: {
		columns: [
			{name: 'Field', field: 'field', title: "Field", type: 'String'},
			{name: 'Value', field: 'value', title: "Value", type: 'String'}
			],
		rowClasses: [
			],
		buttons: [
			]}});

merge(config.shadowTiddlers,{
	DefaultTiddlers: "[[GettingStarted]]",
	MainMenu: "[[GettingStarted]]",
	SiteTitle: "My TiddlyWiki",
	SiteSubtitle: "a reusable non-linear personal web notebook",
	SiteUrl: "",
	SideBarOptions: '<<search>><<closeAll>><<permaview>><<newTiddler>><<newJournal "DD MMM YYYY" "journal">><<saveChanges>><<slider chkSliderOptionsPanel OptionsPanel "options \u00bb" "Change TiddlyWiki advanced options">>',
	SideBarTabs: '<<tabs txtMainTab "Timeline" "Timeline" TabTimeline "All" "All tiddlers" TabAll "Tags" "All tags" TabTags "More" "More lists" TabMore>>',
	TabMore: '<<tabs txtMoreTab "Missing" "Missing tiddlers" TabMoreMissing "Orphans" "Orphaned tiddlers" TabMoreOrphans "Shadowed" "Shadowed tiddlers" TabMoreShadowed>>'
	});

merge(config.annotations,{
	AdvancedOptions: "This shadow tiddler provides access to several advanced options",
	ColorPalette: "These values in this shadow tiddler determine the colour scheme of the ~TiddlyWiki user interface",
	DefaultTiddlers: "The tiddlers listed in this shadow tiddler will be automatically displayed when ~TiddlyWiki starts up",
	EditTemplate: "The HTML template in this shadow tiddler determines how tiddlers look while they are being edited",
	GettingStarted: "This shadow tiddler provides basic usage instructions",
	ImportTiddlers: "This shadow tiddler provides access to importing tiddlers",
	MainMenu: "This shadow tiddler is used as the contents of the main menu in the left-hand column of the screen",
	MarkupPreHead: "This tiddler is inserted at the top of the <head> section of the TiddlyWiki HTML file",
	MarkupPostHead: "This tiddler is inserted at the bottom of the <head> section of the TiddlyWiki HTML file",
	MarkupPreBody: "This tiddler is inserted at the top of the <body> section of the TiddlyWiki HTML file",
	MarkupPostBody: "This tiddler is inserted at the end of the <body> section of the TiddlyWiki HTML file immediately after the script block",
	OptionsPanel: "This shadow tiddler is used as the contents of the options panel slider in the right-hand sidebar",
	PageTemplate: "The HTML template in this shadow tiddler determines the overall ~TiddlyWiki layout",
	PluginManager: "This shadow tiddler provides access to the plugin manager",
	SideBarOptions: "This shadow tiddler is used as the contents of the option panel in the right-hand sidebar",
	SideBarTabs: "This shadow tiddler is used as the contents of the tabs panel in the right-hand sidebar",
	SiteSubtitle: "This shadow tiddler is used as the second part of the page title",
	SiteTitle: "This shadow tiddler is used as the first part of the page title",
	SiteUrl: "This shadow tiddler should be set to the full target URL for publication",
	StyleSheetColors: "This shadow tiddler contains CSS definitions related to the color of page elements. ''DO NOT EDIT THIS TIDDLER'', instead make your changes in the StyleSheet shadow tiddler",
	StyleSheet: "This tiddler can contain custom CSS definitions",
	StyleSheetLayout: "This shadow tiddler contains CSS definitions related to the layout of page elements. ''DO NOT EDIT THIS TIDDLER'', instead make your changes in the StyleSheet shadow tiddler",
	StyleSheetLocale: "This shadow tiddler contains CSS definitions related to the translation locale",
	StyleSheetPrint: "This shadow tiddler contains CSS definitions for printing",
	SystemSettings: "This tiddler is used to store configuration options for this TiddlyWiki document",
	TabAll: "This shadow tiddler contains the contents of the 'All' tab in the right-hand sidebar",
	TabMore: "This shadow tiddler contains the contents of the 'More' tab in the right-hand sidebar",
	TabMoreMissing: "This shadow tiddler contains the contents of the 'Missing' tab in the right-hand sidebar",
	TabMoreOrphans: "This shadow tiddler contains the contents of the 'Orphans' tab in the right-hand sidebar",
	TabMoreShadowed: "This shadow tiddler contains the contents of the 'Shadowed' tab in the right-hand sidebar",
	TabTags: "This shadow tiddler contains the contents of the 'Tags' tab in the right-hand sidebar",
	TabTimeline: "This shadow tiddler contains the contents of the 'Timeline' tab in the right-hand sidebar",
	ToolbarCommands: "This shadow tiddler determines which commands are shown in tiddler toolbars",
	ViewTemplate: "The HTML template in this shadow tiddler determines how tiddlers look"
	});
//--
//-- Main
//--

var params = null; // Command line parameters
var store = null; // TiddlyWiki storage
var story = null; // Main story
var formatter = null; // Default formatters for the wikifier
var anim = typeof Animator == "function" ? new Animator() : null; // Animation engine
var readOnly = false; // Whether we're in readonly mode
var highlightHack = null; // Embarrassing hack department...
var hadConfirmExit = false; // Don't warn more than once
var safeMode = false; // Disable all plugins and cookies
var showBackstage; // Whether to include the backstage area
var installedPlugins = []; // Information filled in when plugins are executed
var startingUp = false; // Whether we're in the process of starting up
var pluginInfo,tiddler; // Used to pass information to plugins in loadPlugins()

// Whether this file can be saved back to the same location [Preemption]
window.allowSave = window.allowSave || function(l)
{
	return true;
}

// Whether this file is being viewed locally
window.isLocal = function()
{
	return (document.location.protocol == "file:");
}

// Whether to use the JavaSaver applet
var useJavaSaver = window.isLocal() && (config.browser.isSafari || config.browser.isOpera);

// Allow preemption code a chance to tweak config and useJavaSaver [Preemption]
if (window.tweakConfig) window.tweakConfig();

if(!window || !window.console) {
	console = {tiddlywiki:true,log:function(message) {displayMessage(message);}};
}

// Starting up
function main()
{
	window.originalHTML=recreateOriginal();

	var t10,t9,t8,t7,t6,t5,t4,t3,t2,t1,t0 = new Date();
	startingUp = true;
	var doc = jQuery(document);
	jQuery.noConflict();
	window.onbeforeunload = function(e) {if(window.confirmExit) return confirmExit();};
	params = getParameters();
	if(params)
		params = params.parseParams("open",null,false);
	store = new TiddlyWiki({config:config});
	invokeParamifier(params,"oninit");
	story = new Story("tiddlerDisplay","tiddler");
	addEvent(document,"click",Popup.onDocumentClick);
	saveTest();
	var s;
	for(s=0; s<config.notifyTiddlers.length; s++)
		store.addNotification(config.notifyTiddlers[s].name,config.notifyTiddlers[s].notify);
	t1 = new Date();
	loadShadowTiddlers();
	doc.trigger("loadShadows");
	t2 = new Date();
	store.loadFromDiv("storeArea","store",true);
	doc.trigger("loadTiddlers");
	loadOptions();
	t3 = new Date();
	invokeParamifier(params,"onload");
	t4 = new Date();
	readOnly = window.isLocal() ? false : config.options.chkHttpReadOnly;
	var pluginProblem = loadPlugins("systemConfig");
	doc.trigger("loadPlugins");
	t5 = new Date();
	formatter = new Formatter(config.formatters);
	invokeParamifier(params,"onconfig");
	story.switchTheme(config.options.txtTheme);
	showBackstage = showBackstage !== undefined ? showBackstage : !readOnly;
	t6 = new Date();
	var m;
	for(m in config.macros) {
		if(config.macros[m].init)
			config.macros[m].init();
	}
	t7 = new Date();
	store.notifyAll();
	t8 = new Date();
	restart();
	refreshDisplay();
	t9 = new Date();
	if(pluginProblem) {
		story.displayTiddler(null,"PluginManager");
		displayMessage(config.messages.customConfigError);
	}
	if(showBackstage)
		backstage.init();
	t10 = new Date();
	if(config.options.chkDisplayInstrumentation) {
		displayMessage("LoadShadows " + (t2-t1) + " ms");
		displayMessage("LoadFromDiv " + (t3-t2) + " ms");
		displayMessage("LoadPlugins " + (t5-t4) + " ms");
		displayMessage("Macro init " + (t7-t6) + " ms");
		displayMessage("Notify " + (t8-t7) + " ms");
		displayMessage("Restart " + (t9-t8) + " ms");
		displayMessage("Total: " + (t10-t0) + " ms");
	}
	startingUp = false;
	doc.trigger("startup");
}

// Called on unload. All functions called conditionally since they themselves may have been unloaded.
function unload()
{
	if(window.checkUnsavedChanges)
		checkUnsavedChanges();
	if(window.scrubNodes)
		scrubNodes(document.body);
}

// Restarting
function restart()
{
	invokeParamifier(params,"onstart");
	if(story.isEmpty()) {
		story.displayDefaultTiddlers();
	}
	window.scrollTo(0,0);
}

function saveTest()
{
	var s = document.getElementById("saveTest");
	if(s.hasChildNodes())
		alert(config.messages.savedSnapshotError);
	s.appendChild(document.createTextNode("savetest"));
}

function loadShadowTiddlers()
{
	var shadows = new TiddlyWiki();
	shadows.loadFromDiv("shadowArea","shadows",true);
	shadows.forEachTiddler(function(title,tiddler){config.shadowTiddlers[title] = tiddler.text;});
}

function loadPlugins(tag)
{
	if(safeMode)
		return false;
	var tiddlers = store.getTaggedTiddlers(tag);
	tiddlers.sort(function(a,b) {return a.title < b.title ? -1 : (a.title == b.title ? 0 : 1);});
	var toLoad = [];
	var nLoaded = 0;
	var map = {};
	var nPlugins = tiddlers.length;
	installedPlugins = [];
	var i;
	for(i=0; i<nPlugins; i++) {
		var p = getPluginInfo(tiddlers[i]);
		installedPlugins[i] = p;
		var n = p.Name || p.title;
		if(n)
			map[n] = p;
		n = p.Source;
		if(n)
			map[n] = p;
	}
	var visit = function(p) {
		if(!p || p.done)
			return;
		p.done = 1;
		var reqs = p.Requires;
		if(reqs) {
			reqs = reqs.readBracketedList();
			var i;
			for(i=0; i<reqs.length; i++)
				visit(map[reqs[i]]);
		}
		toLoad.push(p);
	};
	for(i=0; i<nPlugins; i++)
		visit(installedPlugins[i]);
	for(i=0; i<toLoad.length; i++) {
		p = toLoad[i];
		pluginInfo = p;
		tiddler = p.tiddler;
		if(isPluginExecutable(p)) {
			if(isPluginEnabled(p)) {
				p.executed = true;
				var startTime = new Date();
				try {
					if(tiddler.text)
						window.eval(tiddler.text);
					nLoaded++;
				} catch(ex) {
					p.log.push(config.messages.pluginError.format([exceptionText(ex)]));
					p.error = true;
					if(!console.tiddlywiki) {
						console.log("error evaluating " + tiddler.title, ex);
					}
				}
				pluginInfo.startupTime = String((new Date()) - startTime) + "ms";
			} else {
				nPlugins--;
			}
		} else {
			p.warning = true;
		}
	}
	return nLoaded != nPlugins;
}

function getPluginInfo(tiddler)
{
	var p = store.getTiddlerSlices(tiddler.title,["Name","Description","Version","Requires","CoreVersion","Date","Source","Author","License","Browsers"]);
	p.tiddler = tiddler;
	p.title = tiddler.title;
	p.log = [];
	return p;
}

// Check that a particular plugin is valid for execution
function isPluginExecutable(plugin)
{
	if(plugin.tiddler.isTagged("systemConfigForce")) {
		plugin.log.push(config.messages.pluginForced);
		return true;
	}
	if(plugin["CoreVersion"]) {
		var coreVersion = plugin["CoreVersion"].split(".");
		var w = parseInt(coreVersion[0],10) - version.major;
		if(w == 0 && coreVersion[1])
			w = parseInt(coreVersion[1],10) - version.minor;
		if(w == 0 && coreVersion[2])
			w = parseInt(coreVersion[2],10) - version.revision;
		if(w > 0) {
			plugin.log.push(config.messages.pluginVersionError);
			return false;
		}
	}
	return true;
}

function isPluginEnabled(plugin)
{
	if(plugin.tiddler.isTagged("systemConfigDisable")) {
		plugin.log.push(config.messages.pluginDisabled);
		return false;
	}
	return true;
}

//--
//-- Paramifiers
//--

function getParameters()
{
	var p = null;
	if(window.location.hash) {
		p = decodeURIComponent(window.location.hash.substr(1));
		if(config.browser.firefoxDate != null && config.browser.firefoxDate[1] < "20051111")
			p = convertUTF8ToUnicode(p);
	}
	return p;
}

function invokeParamifier(params,handler)
{
	if(!params || params.length == undefined || params.length <= 1)
		return;
	var i;
	for(i=1; i<params.length; i++) {
		var p = config.paramifiers[params[i].name];
		if(p && p[handler] instanceof Function)
			p[handler](params[i].value);
		else {
			var h = config.optionHandlers[params[i].name.substr(0,3)];
			if(h && h.set instanceof Function)
				h.set(params[i].name,params[i].value);
		}
	}
}

config.paramifiers = {};

config.paramifiers.start = {
	oninit: function(v) {
		safeMode = v.toLowerCase() == "safe";
	}
};

config.paramifiers.open = {
	onstart: function(v) {
		if(!readOnly || store.tiddlerExists(v) || store.isShadowTiddler(v))
			story.displayTiddler("bottom",v,null,false,null);
	}
};

config.paramifiers.story = {
	onstart: function(v) {
		var list = store.getTiddlerText(v,"").parseParams("open",null,false);
		invokeParamifier(list,"onstart");
	}
};

config.paramifiers.search = {
	onstart: function(v) {
		story.search(v,false,false);
	}
};

config.paramifiers.searchRegExp = {
	onstart: function(v) {
		story.prototype.search(v,false,true);
	}
};

config.paramifiers.tag = {
	onstart: function(v) {
		story.displayTiddlers(null,store.filterTiddlers("[tag["+v+"]]"),null,false,null);
	}
};

config.paramifiers.newTiddler = {
	onstart: function(v) {
		var args = v.parseParams("anon", null, null)[0];
		var title = args.title ? args.title[0] : v;
		var customFields = args.fields ? args.fields[0] : null;
		if(!readOnly) {
			story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE,false,null,customFields);
			story.focusTiddler(title,"text");
			var i,tags = args.tag || [];
			for(i=0;i<tags.length;i++) {
				story.setTiddlerTag(title,tags[i],+1);
			}
		}
	}
};

config.paramifiers.newJournal = {
	onstart: function(v) {
		if(!readOnly) {
			var now = new Date();
			var title = now.formatString(v.trim());
			story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE);
			story.focusTiddler(title,"text");
		}
	}
};

config.paramifiers.readOnly = {
	onconfig: function(v) {
		var p = v.toLowerCase();
		readOnly = p == "yes" ? true : (p == "no" ? false : readOnly);
	}
};

config.paramifiers.theme = {
	onconfig: function(v) {
		story.switchTheme(v);
	}
};

config.paramifiers.upgrade = {
	onstart: function(v) {
		upgradeFrom(v);
	}
};

config.paramifiers.recent= {
	onstart: function(v) {
		var titles=[];
		var i,tiddlers=store.getTiddlers("modified","excludeLists").reverse();
		for(i=0; i<v && i<tiddlers.length; i++)
			titles.push(tiddlers[i].title);
		story.displayTiddlers(null,titles);
	}
};

config.paramifiers.filter = {
	onstart: function(v) {
		story.displayTiddlers(null,store.filterTiddlers(v),null,false);
	}
};

//--
//-- Formatter helpers
//--

function Formatter(formatters)
{
	var n;
	this.formatters = [];
	var pattern = [];
	for(n=0; n<formatters.length; n++) {
		pattern.push("(" + formatters[n].match + ")");
		this.formatters.push(formatters[n]);
	}
	this.formatterRegExp = new RegExp(pattern.join("|"),"mg");
}

config.formatterHelpers = {

	createElementAndWikify: function(w)
	{
		w.subWikifyTerm(createTiddlyElement(w.output,this.element),this.termRegExp);
	},

	inlineCssHelper: function(w)
	{
		var styles = [];
		config.textPrimitives.cssLookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = config.textPrimitives.cssLookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			var s,v;
			if(lookaheadMatch[1]) {
				s = lookaheadMatch[1].unDash();
				v = lookaheadMatch[2];
			} else {
				s = lookaheadMatch[3].unDash();
				v = lookaheadMatch[4];
			}
			if(s=="bgcolor")
				s = "backgroundColor";
			if(s=="float")
				s = "cssFloat";
			styles.push({style: s, value: v});
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
			config.textPrimitives.cssLookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = config.textPrimitives.cssLookaheadRegExp.exec(w.source);
		}
		return styles;
	},

	applyCssHelper: function(e,styles)
	{
		var t;
		for(t=0; t< styles.length; t++) {
			try {
				e.style[styles[t].style] = styles[t].value;
			} catch (ex) {
			}
		}
	},

	enclosedTextHelper: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var text = lookaheadMatch[1];
			if(config.browser.isIE && (config.browser.ieVersion[1] < 10))
				text = text.replace(/\n/g,"\r");
			createTiddlyElement(w.output,this.element,null,null,text);
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
		}
	},

	isExternalLink: function(link)
	{
		if(store.tiddlerExists(link) || store.isShadowTiddler(link)) {
			return false;
		}
		var urlRegExp = new RegExp(config.textPrimitives.urlPattern,"mg");
		if(urlRegExp.exec(link)) {
			return true;
		}
		if(link.indexOf(".")!=-1 || link.indexOf("\\")!=-1 || link.indexOf("/")!=-1 || link.indexOf("#")!=-1) {
			return true;
		}
		return false;
	}

};

//--
//-- Standard formatters
//--

config.formatters = [
{
	name: "table",
	match: "^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",
	lookaheadRegExp: /^\|([^\n]*)\|([fhck]?)$/mg,
	rowTermRegExp: /(\|(?:[fhck]?)$\n?)/mg,
	cellRegExp: /(?:\|([^\n\|]*)\|)|(\|[fhck]?$\n?)/mg,
	cellTermRegExp: /((?:\x20*)\|)/mg,
	rowTypes: {"c":"caption", "h":"thead", "":"tbody", "f":"tfoot"},
	handler: function(w)
	{
		var table = createTiddlyElement(w.output,"table",null,"twtable");
		var prevColumns = [];
		var currRowType = null;
		var rowContainer;
		var rowCount = 0;
		var onmouseover = function() {jQuery(this).addClass("hoverRow");};
		var onmouseout = function() {jQuery(this).removeClass("hoverRow");};
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			var nextRowType = lookaheadMatch[2];
			if(nextRowType == "k") {
				table.className = lookaheadMatch[1];
				w.nextMatch += lookaheadMatch[0].length+1;
			} else {
				if(nextRowType != currRowType) {
					rowContainer = createTiddlyElement(table,this.rowTypes[nextRowType]);
					currRowType = nextRowType;
				}
				if(currRowType == "c") {
					// Caption
					w.nextMatch++;
					if(rowContainer != table.firstChild)
						table.insertBefore(rowContainer,table.firstChild);
					rowContainer.setAttribute("align",rowCount == 0?"top":"bottom");
					w.subWikifyTerm(rowContainer,this.rowTermRegExp);
				} else {
					var theRow = createTiddlyElement(rowContainer,"tr",null,rowCount%2?"oddRow":"evenRow");
					theRow.onmouseover = onmouseover;
					theRow.onmouseout = onmouseout;
					this.rowHandler(w,theRow,prevColumns);
					rowCount++;
				}
			}
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		}
	},
	rowHandler: function(w,e,prevColumns)
	{
		var col = 0;
		var colSpanCount = 1;
		var prevCell = null;
		this.cellRegExp.lastIndex = w.nextMatch;
		var cellMatch = this.cellRegExp.exec(w.source);
		while(cellMatch && cellMatch.index == w.nextMatch) {
			if(cellMatch[1] == "~") {
				// Rowspan
				var last = prevColumns[col];
				if(last) {
					last.rowSpanCount++;
					last.element.setAttribute("rowspan",last.rowSpanCount);
					last.element.setAttribute("rowSpan",last.rowSpanCount); // Needed for IE
					last.element.valign = "center";
					if(colSpanCount > 1) {
						last.element.setAttribute("colspan",colSpanCount);
						last.element.setAttribute("colSpan",colSpanCount); // Needed for IE
						colSpanCount = 1;
					}
				}
				w.nextMatch = this.cellRegExp.lastIndex-1;
			} else if(cellMatch[1] == ">") {
				// Colspan
				colSpanCount++;
				w.nextMatch = this.cellRegExp.lastIndex-1;
			} else if(cellMatch[2]) {
				// End of row
				if(prevCell && colSpanCount > 1) {
					prevCell.setAttribute("colspan",colSpanCount);
					prevCell.setAttribute("colSpan",colSpanCount); // Needed for IE
				}
				w.nextMatch = this.cellRegExp.lastIndex;
				break;
			} else {
				// Cell
				w.nextMatch++;
				var styles = config.formatterHelpers.inlineCssHelper(w);
				var spaceLeft = false;
				var chr = w.source.substr(w.nextMatch,1);
				while(chr == " ") {
					spaceLeft = true;
					w.nextMatch++;
					chr = w.source.substr(w.nextMatch,1);
				}
				var cell;
				if(chr == "!") {
					cell = createTiddlyElement(e,"th");
					w.nextMatch++;
				} else {
					cell = createTiddlyElement(e,"td");
				}
				prevCell = cell;
				prevColumns[col] = {rowSpanCount:1,element:cell};
				if(colSpanCount > 1) {
					cell.setAttribute("colspan",colSpanCount);
					cell.setAttribute("colSpan",colSpanCount); // Needed for IE
					colSpanCount = 1;
				}
				config.formatterHelpers.applyCssHelper(cell,styles);
				w.subWikifyTerm(cell,this.cellTermRegExp);
				if(w.matchText.substr(w.matchText.length-2,1) == " ") // spaceRight
					cell.align = spaceLeft ? "center" : "left";
				else if(spaceLeft)
					cell.align = "right";
				w.nextMatch--;
			}
			col++;
			this.cellRegExp.lastIndex = w.nextMatch;
			cellMatch = this.cellRegExp.exec(w.source);
		}
	}
},

{
	name: "heading",
	match: "^!{1,6}",
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		w.subWikifyTerm(createTiddlyElement(w.output,"h" + w.matchLength),this.termRegExp);
	}
},

{
	name: "list",
	match: "^(?:[\\*#;:]+)",
	lookaheadRegExp: /^(?:(?:(\*)|(#)|(;)|(:))+)/mg,
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		var stack = [w.output];
		var currLevel = 0, currType = null;
		var listLevel, listType, itemType, baseType;
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			if(lookaheadMatch[1]) {
				listType = "ul";
				itemType = "li";
			} else if(lookaheadMatch[2]) {
				listType = "ol";
				itemType = "li";
			} else if(lookaheadMatch[3]) {
				listType = "dl";
				itemType = "dt";
			} else if(lookaheadMatch[4]) {
				listType = "dl";
				itemType = "dd";
			}
			if(!baseType)
				baseType = listType;
			listLevel = lookaheadMatch[0].length;
			w.nextMatch += lookaheadMatch[0].length;
			var t;
			if(listLevel > currLevel) {
				for(t=currLevel; t<listLevel; t++) {
					var target = (currLevel == 0) ? stack[stack.length-1] : stack[stack.length-1].lastChild;
					stack.push(createTiddlyElement(target,listType));
				}
			} else if(listType!=baseType && listLevel==1) {
				w.nextMatch -= lookaheadMatch[0].length;
				return;
			} else if(listLevel < currLevel) {
				for(t=currLevel; t>listLevel; t--)
					stack.pop();
			} else if(listLevel == currLevel && listType != currType) {
				stack.pop();
				stack.push(createTiddlyElement(stack[stack.length-1].lastChild,listType));
			}
			currLevel = listLevel;
			currType = listType;
			var e = createTiddlyElement(stack[stack.length-1],itemType);
			w.subWikifyTerm(e,this.termRegExp);
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		}
	}
},

{
	name: "quoteByBlock",
	match: "^<<<\\n",
	termRegExp: /(^<<<(\n|$))/mg,
	element: "blockquote",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "quoteByLine",
	match: "^>+",
	lookaheadRegExp: /^>+/mg,
	termRegExp: /(\n)/mg,
	element: "blockquote",
	handler: function(w)
	{
		var stack = [w.output];
		var currLevel = 0;
		var newLevel = w.matchLength;
		var t,matched;
		do {
			if(newLevel > currLevel) {
				for(t=currLevel; t<newLevel; t++)
					stack.push(createTiddlyElement(stack[stack.length-1],this.element));
			} else if(newLevel < currLevel) {
				for(t=currLevel; t>newLevel; t--)
					stack.pop();
			}
			currLevel = newLevel;
			w.subWikifyTerm(stack[stack.length-1],this.termRegExp);
			createTiddlyElement(stack[stack.length-1],"br");
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			matched = lookaheadMatch && lookaheadMatch.index == w.nextMatch;
			if(matched) {
				newLevel = lookaheadMatch[0].length;
				w.nextMatch += lookaheadMatch[0].length;
			}
		} while(matched);
	}
},

{
	name: "rule",
	match: "^----+$\\n?|<hr ?/?>\\n?",
	handler: function(w)
	{
		createTiddlyElement(w.output,"hr");
	}
},

{
	name: "monospacedByLine",
	match: "^(?:/\\*\\{\\{\\{\\*/|\\{\\{\\{|//\\{\\{\\{|<!--\\{\\{\\{-->)\\n",
	element: "pre",
	handler: function(w)
	{
		switch(w.matchText) {
		case "/*{{{*/\n": // CSS
			this.lookaheadRegExp = /\/\*\{\{\{\*\/\n*((?:^[^\n]*\n)+?)(\n*^\f*\/\*\}\}\}\*\/$\n?)/mg;
			break;
		case "{{{\n": // monospaced block
			this.lookaheadRegExp = /^\{\{\{\n((?:^[^\n]*\n)+?)(^\f*\}\}\}$\n?)/mg;
			break;
		case "//{{{\n": // plugin
			this.lookaheadRegExp = /^\/\/\{\{\{\n\n*((?:^[^\n]*\n)+?)(\n*^\f*\/\/\}\}\}$\n?)/mg;
			break;
		case "<!--{{{-->\n": //template
			this.lookaheadRegExp = /<!--\{\{\{-->\n*((?:^[^\n]*\n)+?)(\n*^\f*<!--\}\}\}-->$\n?)/mg;
			break;
		default:
			break;
		}
		config.formatterHelpers.enclosedTextHelper.call(this,w);
	}
},

{
	name: "wikifyComment",
	match: "^(?:/\\*\\*\\*|<!---)\\n",
	handler: function(w)
	{
		var termRegExp = (w.matchText == "/***\n") ? (/(^\*\*\*\/\n)/mg) : (/(^--->\n)/mg);
		w.subWikifyTerm(w.output,termRegExp);
	}
},

{
	name: "macro",
	match: "<<",
	lookaheadRegExp: /<<([^>\s]+)(?:\s*)((?:[^>]|(?:>(?!>)))*)>>/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart && lookaheadMatch[1]) {
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			invokeMacro(w.output,lookaheadMatch[1],lookaheadMatch[2],w,w.tiddler);
		}
	}
},

{
	name: "prettyLink",
	match: "\\[\\[",
	lookaheadRegExp: /\[\[(.*?)(?:\|(~)?(.*?))?\]\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var e;
			var text = lookaheadMatch[1];
			if(lookaheadMatch[3]) {
				// Pretty bracketted link
				var link = lookaheadMatch[3];
				e = (!lookaheadMatch[2] && config.formatterHelpers.isExternalLink(link)) ?
						createExternalLink(w.output,link) : createTiddlyLink(w.output,link,false,null,w.isStatic,w.tiddler);
			} else {
				// Simple bracketted link
				e = createTiddlyLink(w.output,text,false,null,w.isStatic,w.tiddler);
			}
			createTiddlyText(e,text);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "wikiLink",
	match: config.textPrimitives.unWikiLink+"?"+config.textPrimitives.wikiLink,
	handler: function(w)
	{
		if(w.matchText.substr(0,1) == config.textPrimitives.unWikiLink) {
			w.outputText(w.output,w.matchStart+1,w.nextMatch);
			return;
		}
		if(w.matchStart > 0) {
			var preRegExp = new RegExp(config.textPrimitives.anyLetterStrict,"mg");
			preRegExp.lastIndex = w.matchStart-1;
			var preMatch = preRegExp.exec(w.source);
			if(preMatch.index == w.matchStart-1) {
				w.outputText(w.output,w.matchStart,w.nextMatch);
				return;
			}
		}
		if(w.autoLinkWikiWords || store.isShadowTiddler(w.matchText)) {
			var link = createTiddlyLink(w.output,w.matchText,false,null,w.isStatic,w.tiddler);
			w.outputText(link,w.matchStart,w.nextMatch);
		} else {
			w.outputText(w.output,w.matchStart,w.nextMatch);
		}
	}
},

{
	name: "urlLink",
	match: config.textPrimitives.urlPattern,
	handler: function(w)
	{
		w.outputText(createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch);
	}
},

{
	name: "image",
	match: "\\[[<>]?[Ii][Mm][Gg]\\[",
	lookaheadRegExp: /\[([<]?)(>?)[Ii][Mm][Gg]\[(?:([^\|\]]+)\|)?([^\[\]\|]+)\](?:\[([^\]]*)\])?\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var e = w.output;
			if(lookaheadMatch[5]) {
				var link = lookaheadMatch[5];
				e = config.formatterHelpers.isExternalLink(link) ? createExternalLink(w.output,link) : createTiddlyLink(w.output,link,false,null,w.isStatic,w.tiddler);
				jQuery(e).addClass("imageLink");
			}
			var img = createTiddlyElement(e,"img");
			if(lookaheadMatch[1])
				img.align = "left";
			else if(lookaheadMatch[2])
				img.align = "right";
			if(lookaheadMatch[3]) {
				img.title = lookaheadMatch[3];
				img.setAttribute("alt",lookaheadMatch[3]);
			}
			img.src = lookaheadMatch[4];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "html",
	match: "<[Hh][Tt][Mm][Ll]>",
	lookaheadRegExp: /<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			createTiddlyElement(w.output,"span").innerHTML = lookaheadMatch[1];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "commentByBlock",
	match: "/%",
	lookaheadRegExp: /\/%((?:.|\n)*?)%\//mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			w.nextMatch = this.lookaheadRegExp.lastIndex;
	}
},

{
	name: "characterFormat",
	match: "''|//|__|\\^\\^|~~|--(?!\\s|$)|\\{\\{\\{",
	handler: function(w)
	{
		switch(w.matchText) {
		case "''":
			w.subWikifyTerm(w.output.appendChild(document.createElement("strong")),/('')/mg);
			break;
		case "//":
			w.subWikifyTerm(createTiddlyElement(w.output,"em"),/(\/\/)/mg);
			break;
		case "__":
			w.subWikifyTerm(createTiddlyElement(w.output,"u"),/(__)/mg);
			break;
		case "^^":
			w.subWikifyTerm(createTiddlyElement(w.output,"sup"),/(\^\^)/mg);
			break;
		case "~~":
			w.subWikifyTerm(createTiddlyElement(w.output,"sub"),/(~~)/mg);
			break;
		case "--":
			w.subWikifyTerm(createTiddlyElement(w.output,"strike"),/(--)/mg);
			break;
		case "{{{":
			var lookaheadRegExp = /\{\{\{((?:.|\n)*?)\}\}\}/mg;
			lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
				createTiddlyElement(w.output,"code",null,null,lookaheadMatch[1]);
				w.nextMatch = lookaheadRegExp.lastIndex;
			}
			break;
		}
	}
},

{
	name: "customFormat",
	match: "@@|\\{\\{",
	handler: function(w)
	{
		switch(w.matchText) {
		case "@@":
			var e = createTiddlyElement(w.output,"span");
			var styles = config.formatterHelpers.inlineCssHelper(w);
			if(styles.length == 0)
				e.className = "marked";
			else
				config.formatterHelpers.applyCssHelper(e,styles);
			w.subWikifyTerm(e,/(@@)/mg);
			break;
		case "{{":
			var lookaheadRegExp = /\{\{[\s]*([\w]+[\s\w]*)[\s]*\{(\n?)/mg;
			lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			if(lookaheadMatch) {
				w.nextMatch = lookaheadRegExp.lastIndex;
				e = createTiddlyElement(w.output,lookaheadMatch[2] == "\n" ? "div" : "span",null,lookaheadMatch[1]);
				w.subWikifyTerm(e,/(\}\}\})/mg);
			}
			break;
		}
	}
},

{
	name: "mdash",
	match: "--",
	handler: function(w)
	{
		createTiddlyElement(w.output,"span").innerHTML = "&mdash;";
	}
},

{
	name: "lineBreak",
	match: "\\n|<br ?/?>",
	handler: function(w)
	{
		createTiddlyElement(w.output,"br");
	}
},

{
	name: "rawText",
	match: "\"{3}|<nowiki>",
	lookaheadRegExp: /(?:\"{3}|<nowiki>)((?:.|\n)*?)(?:\"{3}|<\/nowiki>)/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			createTiddlyElement(w.output,"span",null,null,lookaheadMatch[1]);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "htmlEntitiesEncoding",
	match: "(?:(?:&#?[a-zA-Z0-9]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9a-fA-F]|1D[c-fC-F][0-9a-fA-F]|20[d-fD-F][0-9a-fA-F]|FE2[0-9a-fA-F])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[a-zA-Z0-9]{2,8};)",
	handler: function(w)
	{
		createTiddlyElement(w.output,"span").innerHTML = w.matchText;
	}
}

];

//--
//-- Wikifier
//--

function getParser(tiddler,format)
{
	if(tiddler) {
		if(!format)
			format = tiddler.fields["wikiformat"];
		var i;
		if(format) {
			for(i in config.parsers) {
				if(format == config.parsers[i].format)
					return config.parsers[i];
			}
		} else {
			for(i in config.parsers) {
				if(tiddler.isTagged(config.parsers[i].formatTag))
					return config.parsers[i];
			}
		}
	}
	return formatter;
}

function Wikifier(source,formatter,highlightRegExp,tiddler)
{
	this.source = source;
	this.output = null;
	this.formatter = formatter;
	this.nextMatch = 0;
	this.autoLinkWikiWords = tiddler && tiddler.autoLinkWikiWords() == false ? false : true;
	this.highlightRegExp = highlightRegExp;
	this.highlightMatch = null;
	this.isStatic = false;
	if(highlightRegExp) {
		highlightRegExp.lastIndex = 0;
		this.highlightMatch = highlightRegExp.exec(source);
	}
	this.tiddler = tiddler;
}

Wikifier.prototype.wikifyPlain = function()
{
	var e = createTiddlyElement(document.body,"div");
	e.style.display = "none";
	this.subWikify(e);
	var text = jQuery(e).text();
	jQuery(e).remove();
	return text;
};

Wikifier.prototype.subWikify = function(output,terminator)
{
	try {
		if(terminator)
			this.subWikifyTerm(output,new RegExp("(" + terminator + ")","mg"));
		else
			this.subWikifyUnterm(output);
	} catch(ex) {
		showException(ex);
	}
};

Wikifier.prototype.subWikifyUnterm = function(output)
{
	var oldOutput = this.output;
	this.output = output;
	this.formatter.formatterRegExp.lastIndex = this.nextMatch;
	var formatterMatch = this.formatter.formatterRegExp.exec(this.source);
	while(formatterMatch) {
		// Output any text before the match
		if(formatterMatch.index > this.nextMatch)
			this.outputText(this.output,this.nextMatch,formatterMatch.index);
		// Set the match parameters for the handler
		this.matchStart = formatterMatch.index;
		this.matchLength = formatterMatch[0].length;
		this.matchText = formatterMatch[0];
		this.nextMatch = this.formatter.formatterRegExp.lastIndex;
		var t;
		for(t=1; t<formatterMatch.length; t++) {
			if(formatterMatch[t]) {
				this.formatter.formatters[t-1].handler(this);
				this.formatter.formatterRegExp.lastIndex = this.nextMatch;
				break;
			}
		}
		formatterMatch = this.formatter.formatterRegExp.exec(this.source);
	}
	if(this.nextMatch < this.source.length) {
		this.outputText(this.output,this.nextMatch,this.source.length);
		this.nextMatch = this.source.length;
	}
	this.output = oldOutput;
};

Wikifier.prototype.subWikifyTerm = function(output,terminatorRegExp)
{
	var oldOutput = this.output;
	this.output = output;
	terminatorRegExp.lastIndex = this.nextMatch;
	var terminatorMatch = terminatorRegExp.exec(this.source);
	this.formatter.formatterRegExp.lastIndex = this.nextMatch;
	var formatterMatch = this.formatter.formatterRegExp.exec(terminatorMatch ? this.source.substr(0,terminatorMatch.index) : this.source);
	while(terminatorMatch || formatterMatch) {
		if(terminatorMatch && (!formatterMatch || terminatorMatch.index <= formatterMatch.index)) {
			if(terminatorMatch.index > this.nextMatch)
				this.outputText(this.output,this.nextMatch,terminatorMatch.index);
			this.matchText = terminatorMatch[1];
			this.matchLength = terminatorMatch[1].length;
			this.matchStart = terminatorMatch.index;
			this.nextMatch = this.matchStart + this.matchLength;
			this.output = oldOutput;
			return;
		}
		if(formatterMatch.index > this.nextMatch)
			this.outputText(this.output,this.nextMatch,formatterMatch.index);
		this.matchStart = formatterMatch.index;
		this.matchLength = formatterMatch[0].length;
		this.matchText = formatterMatch[0];
		this.nextMatch = this.formatter.formatterRegExp.lastIndex;
		var t;
		for(t=1; t<formatterMatch.length; t++) {
			if(formatterMatch[t]) {
				this.formatter.formatters[t-1].handler(this);
				this.formatter.formatterRegExp.lastIndex = this.nextMatch;
				break;
			}
		}
		terminatorRegExp.lastIndex = this.nextMatch;
		terminatorMatch = terminatorRegExp.exec(this.source);
		formatterMatch = this.formatter.formatterRegExp.exec(terminatorMatch ? this.source.substr(0,terminatorMatch.index) : this.source);
	}
	if(this.nextMatch < this.source.length) {
		this.outputText(this.output,this.nextMatch,this.source.length);
		this.nextMatch = this.source.length;
	}
	this.output = oldOutput;
};

Wikifier.prototype.outputText = function(place,startPos,endPos)
{
	while(this.highlightMatch && (this.highlightRegExp.lastIndex > startPos) && (this.highlightMatch.index < endPos) && (startPos < endPos)) {
		if(this.highlightMatch.index > startPos) {
			createTiddlyText(place,this.source.substring(startPos,this.highlightMatch.index));
			startPos = this.highlightMatch.index;
		}
		var highlightEnd = Math.min(this.highlightRegExp.lastIndex,endPos);
		createTiddlyElement(place,"span",null,"highlight",this.source.substring(startPos,highlightEnd));
		startPos = highlightEnd;
		if(startPos >= this.highlightRegExp.lastIndex)
			this.highlightMatch = this.highlightRegExp.exec(this.source);
	}
	if(startPos < endPos) {
		createTiddlyText(place,this.source.substring(startPos,endPos));
	}
};

function wikify(source,output,highlightRegExp,tiddler)
{
	if(source) {
		var wikifier = new Wikifier(source,getParser(tiddler),highlightRegExp,tiddler);
		var t0 = new Date();
		wikifier.subWikify(output);
		if(tiddler && config.options.chkDisplayInstrumentation)
			displayMessage("wikify:" +tiddler.title+ " in " + (new Date()-t0) + " ms");
	}
}

function wikifyStatic(source,highlightRegExp,tiddler,format)
{
	var e = createTiddlyElement(document.body,"pre");
	e.style.display = "none";
	var html = "";
	if(source && source != "") {
		if(!tiddler)
			tiddler = new Tiddler("temp");
		var wikifier = new Wikifier(source,getParser(tiddler,format),highlightRegExp,tiddler);
		wikifier.isStatic = true;
		wikifier.subWikify(e);
		html = e.innerHTML;
		jQuery(e).remove();
	}
	return html;
}

function wikifyPlainText(text,limit,tiddler)
{
	if(limit > 0)
		text = text.substr(0,limit);
	var wikifier = new Wikifier(text,formatter,null,tiddler);
	return wikifier.wikifyPlain();
}

function highlightify(source,output,highlightRegExp,tiddler)
{
	if(source) {
		var wikifier = new Wikifier(source,formatter,highlightRegExp,tiddler);
		wikifier.outputText(output,0,source.length);
	}
}

//--
//-- Macro definitions
//--

function invokeMacro(place,macro,params,wikifier,tiddler)
{
	try {
		var m = config.macros[macro];
		if(m && m.handler) {
			var tiddlerElem = story.findContainingTiddler(place);
			window.tiddler = tiddlerElem ? store.getTiddler(tiddlerElem.getAttribute("tiddler")) : null;
			window.place = place;
			var allowEval = true;
			if(config.evaluateMacroParameters=="system") {
				if(!tiddler || tiddler.tags.indexOf("systemAllowEval") == -1) {
					allowEval = false;
				}
			}
			m.handler(place,macro,m.noPreParse?null:params.readMacroParams(!allowEval),wikifier,params,tiddler);
		} else {
			createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,config.messages.missingMacro]));
		}
	} catch(ex) {
		createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,ex.toString()]));
	}
}

config.macros.version.handler = function(place)
{
	jQuery("<span/>").text(formatVersion()).appendTo(place);
};

config.macros.today.handler = function(place,macroName,params)
{
	var now = new Date();
	var text = params[0] ? now.formatString(params[0].trim()) : now.toLocaleString();
	jQuery("<span/>").text(text).appendTo(place);
};

config.macros.list.template = "<<view title link>>";
config.macros.list.handler = function(place,macroName,params,wikifier,paramString)
{
	var list = document.createElement("ul");
	jQuery(list).attr({ refresh: "macro", macroName: macroName }).data("params", paramString);
	place.appendChild(list);
	this.refresh(list);
};

config.macros.list.refresh = function(list) {
	var paramString = jQuery(list).data("params");
	var params = paramString.readMacroParams();
	var args = paramString.parseParams("anon", null, null)[0];
	var type = args.anon ? args.anon[0] : "all";
	jQuery(list).empty().addClass("list list-" + type);
	var template = args.template ? store.getTiddlerText(args.template[0]) : false;
	if(!template) {
		template = config.macros.list.template;
	}
	if(this[type].prompt)
		createTiddlyElement(list,"li",null,"listTitle",this[type].prompt);
	var results;
	if(this[type].handler)
		results = this[type].handler(params);
	var t;
	for(t = 0; t < results.length; t++) {
		var li = document.createElement("li");
		list.appendChild(li);
		var tiddler = results[t];
		if(typeof(tiddler) == 'string') { // deal with missing etc..
				tiddler = store.getTiddler(tiddler) || new Tiddler(tiddler);
		}
		wikify(template, li, null, tiddler);
	}
	if(results.length === 0 && args.emptyMessage) {
		jQuery(list).addClass("emptyList");
		jQuery("<li />").text(args.emptyMessage[0]).appendTo(list);
	}
};

config.macros.list.all.handler = function(params)
{
	return store.reverseLookup("tags","excludeLists",false,"title");
};

config.macros.list.missing.handler = function(params)
{
	return store.getMissingLinks();
};

config.macros.list.orphans.handler = function(params)
{
	return store.getOrphans();
};

config.macros.list.shadowed.handler = function(params)
{
	return store.getShadowed();
};

config.macros.list.touched.handler = function(params)
{
	return store.getTouched();
};

config.macros.list.filter.handler = function(params)
{
	var filter = params[1];
	var results = [];
	if(filter) {
		var tiddlers = store.filterTiddlers(filter);
		var t;
		for(t=0; t<tiddlers.length; t++)
			results.push(tiddlers[t].title);
	}
	return results;
};

config.macros.allTags.handler = function(place,macroName,params)
{
	var tags = store.getTags(params[0]);
	var ul = createTiddlyElement(place,"ul");
	if(tags.length == 0)
		createTiddlyElement(ul,"li",null,"listTitle",this.noTags);
	var t;
	for(t=0; t<tags.length; t++) {
		var title = tags[t][0];
		var info = getTiddlyLinkInfo(title);
		var li = createTiddlyElement(ul,"li");
		var btn = createTiddlyButton(li,title + " (" + tags[t][1] + ")",this.tooltip.format([title]),onClickTag,info.classes);
		btn.setAttribute("tag",title);
		btn.setAttribute("refresh","link");
		btn.setAttribute("tiddlyLink",title);
		if(params[1]) {
			btn.setAttribute("sortby",params[1]);
		}
	}
};

var macro = config.macros.timeline;
merge(macro, {
	handler: function(place,macroName,params, wikifier, paramString, tiddler) {
		var container = jQuery("<div />").attr("params", paramString).
			attr("macroName", macroName).appendTo(place)[0];
		macro.refresh(container);
	},
	refresh: function(container) {
		jQuery(container).attr("refresh", "macro").empty();
		var paramString = jQuery(container).attr("params");
		var args = paramString.parseParams("anon", null, null)[0];
		var params = args.anon || [];

		var field = params[0] || "modified";
		var prefix = field.charAt(0);
		var no_prefix_field = prefix === "-" || prefix === "+" ? field.substr(1, field.length) : field;
		var dateFormat = params[2] || this.dateFormat;
		var groupTemplate = macro.groupTemplate.format(no_prefix_field, dateFormat);
		groupTemplate = args.groupTemplate ? store.getTiddlerText(args.groupTemplate[0]) || groupTemplate :
			groupTemplate;

		var itemTemplate = macro.itemTemplate;
		itemTemplate = args.template ? store.getTiddlerText(args.template[0]) || itemTemplate :
			itemTemplate;

		var tiddlers = args.filter ? store.sortTiddlers(store.filterTiddlers(args.filter[0]), field) :
			store.reverseLookup("tags", "excludeLists", false, field);
		var lastGroup = "", ul;
		var last = params[1] ? tiddlers.length-Math.min(tiddlers.length,parseInt(params[1],10)) : 0;
		var t;
		for(t=tiddlers.length-1; t>=last; t--) {
			var tiddler = tiddlers[t];
			var theGroup = wikifyPlainText(groupTemplate,0,tiddler);
			if(typeof(ul) == "undefined" || theGroup != lastGroup) {
				ul = document.createElement("ul");
				jQuery(ul).addClass("timeline");
				container.appendChild(ul);
				createTiddlyElement(ul,"li",null,"listTitle",theGroup);
				lastGroup = theGroup;
			}
			var item = createTiddlyElement(ul,"li",null,"listLink");
			wikify(itemTemplate,item,null,tiddler);
		}
	},
	groupTemplate: "<<view %0 date '%1'>>", 
	itemTemplate: "<<view title link>>"
});

config.macros.tiddler.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var allowEval = true;
	var stack = config.macros.tiddler.tiddlerStack;
	if(stack.length > 0 && config.evaluateMacroParameters == "system") {
		// included tiddler and "system" evaluation required, so check tiddler tagged appropriately
		var title = stack[stack.length-1];
		var pos = title.indexOf(config.textPrimitives.sectionSeparator);
		if(pos != -1) {
			title = title.substr(0,pos); // get the base tiddler title
		}
		var t = store.getTiddler(title);
		if(!t || t.tags.indexOf("systemAllowEval") == -1) {
			allowEval = false;
		}
	}
	params = paramString.parseParams("name",null,allowEval,false,true);
	var names = params[0]["name"];
	var tiddlerName = names[0];
	var className = names[1] || null;
	var args = params[0]["with"];
	var wrapper = createTiddlyElement(place,"span",null,className,null,{
		refresh: "content", tiddler: tiddlerName
	});
	if(args!==undefined)
		wrapper.setAttribute("args","[["+args.join("]] [[")+"]]");
	this.transclude(wrapper,tiddlerName,args);
};

config.macros.tiddler.transclude = function(wrapper,tiddlerName,args)
{
	var text = store.getTiddlerText(tiddlerName);
	if(!text)
		return;
	var stack = config.macros.tiddler.tiddlerStack;
	if(stack.indexOf(tiddlerName) !== -1)
		return;
	stack.push(tiddlerName);
	try {
		if(typeof args == "string")
			args = args.readBracketedList();
		var n = args ? Math.min(args.length,9) : 0;
		var i;
		for(i=0; i<n; i++) {
			var placeholderRE = new RegExp("\\$" + (i + 1),"mg");
			text = text.replace(placeholderRE,args[i]);
		}
		config.macros.tiddler.renderText(wrapper,text,tiddlerName);
	} finally {
		stack.pop();
	}
};

config.macros.tiddler.renderText = function(place,text,tiddlerName)
{
	wikify(text,place,null,store.getTiddler(tiddlerName));
};

config.macros.tiddler.tiddlerStack = [];

config.macros.tag.handler = function(place,macroName,params)
{
	var btn = createTagButton(place,params[0],null,params[1],params[2]);
	if(params[3]) {
		btn.setAttribute('sortby',params[3]);
	}
};

config.macros.tags.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var ul = createTiddlyElement(place,"ul");
	var title = getParam(params,"anon","");
	if(title && store.tiddlerExists(title))
		tiddler = store.getTiddler(title);
	var sep = getParam(params,"sep"," ");
	var lingo = config.views.wikified.tag;
	var label = null;
	var t;
	for(t=0; t<tiddler.tags.length; t++) {
		var tag = store.getTiddler(tiddler.tags[t]);
		if(!tag || !tag.tags.contains("excludeLists")) {
			if(!label)
				label = createTiddlyElement(ul,"li",null,"listTitle",lingo.labelTags.format([tiddler.title]));
			createTagButton(createTiddlyElement(ul,"li"),tiddler.tags[t],tiddler.title);
			if(t<tiddler.tags.length-1)
				createTiddlyText(ul,sep);
		}
	}
	if(!label)
		createTiddlyElement(ul,"li",null,"listTitle",lingo.labelNoTags.format([tiddler.title]));
};

config.macros.tagging.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var ul = createTiddlyElement(place,"ul");
	var title = getParam(params,"anon","");
	if(title == "" && tiddler instanceof Tiddler)
		title = tiddler.title;
	var sep = getParam(params,"sep"," ");
	ul.setAttribute("title",this.tooltip.format([title]));
	var sortby = getParam(params,"sortBy",false);
	var tagged = store.getTaggedTiddlers(title,sortby);
	var prompt = tagged.length == 0 ? this.labelNotTag : this.label;
	createTiddlyElement(ul,"li",null,"listTitle",prompt.format([title,tagged.length]));
	var t;
	for(t=0; t<tagged.length; t++) {
		createTiddlyLink(createTiddlyElement(ul,"li"),tagged[t].title,true);
		if(t<tagged.length-1)
			createTiddlyText(ul,sep);
	}
};

config.macros.closeAll.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.closeAll.onClick = function(e)
{
	story.closeAllTiddlers();
	return false;
};

config.macros.permaview.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.permaview.onClick = function(e)
{
	story.permaView();
	return false;
};

config.macros.saveChanges.handler = function(place,macroName,params)
{
	if(!readOnly)
		createTiddlyButton(place,params[0] || this.label,params[1] || this.prompt,this.onClick,null,null,this.accessKey);
};

config.macros.saveChanges.onClick = function(e)
{
	saveChanges();
	return false;
};

config.macros.slider.onClickSlider = function(ev)
{
	var n = this.nextSibling;
	var cookie = n.getAttribute("cookie");
	var isOpen = n.style.display != "none";
	if(config.options.chkAnimate && anim && typeof Slider == "function")
		anim.startAnimating(new Slider(n,!isOpen,null,"none"));
	else
		n.style.display = isOpen ? "none" : "block";
	config.options[cookie] = !isOpen;
	saveOption(cookie);
	return false;
};

config.macros.slider.createSlider = function(place,cookie,title,tooltip)
{
	var c = cookie || "";
	createTiddlyButton(place,title,tooltip,this.onClickSlider);
	var panel = createTiddlyElement(null,"div",null,"sliderPanel");
	panel.setAttribute("cookie",c);
	panel.style.display = config.options[c] ? "block" : "none";
	place.appendChild(panel);
	return panel;
};

config.macros.slider.handler = function(place,macroName,params)
{
	var panel = this.createSlider(place,params[0],params[2],params[3]);
	var text = store.getTiddlerText(params[1]);
	panel.setAttribute("refresh","content");
	panel.setAttribute("tiddler",params[1]);
	if(text)
		wikify(text,panel,null,store.getTiddler(params[1]));
};

// <<gradient [[tiddler name]] vert|horiz rgb rgb rgb rgb... >>
config.macros.gradient.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var panel = wikifier ? createTiddlyElement(place,"div",null,"gradient") : place;
	panel.style.position = "relative";
	panel.style.overflow = "hidden";
	panel.style.zIndex = "0";
	if(wikifier) {
		var styles = config.formatterHelpers.inlineCssHelper(wikifier);
		config.formatterHelpers.applyCssHelper(panel,styles);
	}
	params = paramString.parseParams("color");
	var locolors = [], hicolors = [];
	var t;
	for(t=2; t<params.length; t++) {
		var c = params[t].value;
		if(params[t].name == "snap") {
			hicolors[hicolors.length-1] = c;
		} else {
			locolors.push(c);
			hicolors.push(c);
		}
	}
	drawGradient(panel,params[1].value != "vert",locolors,hicolors);
	if(wikifier)
		wikifier.subWikify(panel,">>");
	if(document.all) {
		panel.style.height = "100%";
		panel.style.width = "100%";
	}
};

config.macros.message.handler = function(place,macroName,params)
{
	if(params[0]) {
		var names = params[0].split(".");
		var lookupMessage = function(root,nameIndex) {
				if(root[names[nameIndex]]) {
					if(nameIndex < names.length-1)
						return (lookupMessage(root[names[nameIndex]],nameIndex+1));
					else
						return root[names[nameIndex]];
				} else
					return null;
			};
		var m = lookupMessage(config,0);
		if(m == null)
			m = lookupMessage(window,0);
		createTiddlyText(place,m.toString().format(params.splice(1)));
	}
};


config.macros.view.depth = 0;
config.macros.view.values = [];
config.macros.view.views = {
	text: function(value,place,params,wikifier,paramString,tiddler) {
		highlightify(value,place,highlightHack,tiddler);
	},
	link: function(value,place,params,wikifier,paramString,tiddler) {
		createTiddlyLink(place,value,true);
	},
	wikified: function(value,place,params,wikifier,paramString,tiddler) {
		if(config.macros.view.depth>50)
			return;
		if(config.macros.view.depth>0) {
			if (value==config.macros.view.values[config.macros.view.depth-1]) {
				return;
			}
		}
		config.macros.view.values[config.macros.view.depth] = value;
		config.macros.view.depth++;
		if(params[2])
			value=params[2].unescapeLineBreaks().format([value]);
		wikify(value,place,highlightHack,tiddler);
		config.macros.view.depth--;
		config.macros.view.values[config.macros.view.depth] = null;
	},
	date: function(value,place,params,wikifier,paramString,tiddler) {
		value = Date.convertFromYYYYMMDDHHMM(value);
		createTiddlyText(place,value.formatString(params[2] || config.views.wikified.dateFormat));
	}
};

config.macros.view.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if((tiddler instanceof Tiddler) && params[0]) {
		var value = store.getValue(tiddler,params[0]);
		if(value) {
			var type = params[1] || config.macros.view.defaultView;
			var handler = config.macros.view.views[type];
			if(handler)
				handler(value,place,params,wikifier,paramString,tiddler);
		}
	}
};

config.macros.edit.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var field = params[0];
	var rows = params[1] || 0;
	var defVal = params[2] || '';
	if((tiddler instanceof Tiddler) && field) {
		story.setDirty(tiddler.title,true);
		var e,v;
		if(field != "text" && !rows) {
			e = createTiddlyElement(null,"input",null,null,null,{
				type: "text", edit: field, size: "40", autocomplete: "off"
			});
			e.value = store.getValue(tiddler,field) || defVal;
			place.appendChild(e);
		} else {
			var wrapper1 = createTiddlyElement(null,"fieldset",null,"fieldsetFix");
			var wrapper2 = createTiddlyElement(wrapper1,"div");
			e = createTiddlyElement(wrapper2,"textarea");
			e.value = v = store.getValue(tiddler,field) || defVal;
			rows = rows || 10;
			var lines = v.match(/\n/mg);
			var maxLines = Math.max(parseInt(config.options.txtMaxEditRows,10),5);
			if(lines != null && lines.length > rows)
				rows = lines.length + 5;
			rows = Math.min(rows,maxLines);
			e.setAttribute("rows",rows);
			e.setAttribute("edit",field);
			place.appendChild(wrapper1);
		}
		if(tiddler.isReadOnly()) {
			e.setAttribute("readOnly","readOnly");
			jQuery(e).addClass("readOnly");
		}
		return e;
	}
};

config.macros.tagChooser.onClick = function(ev)
{
	var e = ev || window.event;
	var lingo = config.views.editor.tagChooser;
	var popup = Popup.create(this);
	var tags = store.getTags(this.getAttribute("tags"));
	if(tags.length == 0)
		jQuery("<li/>").text(lingo.popupNone).appendTo(popup);
	var t;
	for(t=0; t<tags.length; t++) {
		var tag = createTiddlyButton(createTiddlyElement(popup,"li"),tags[t][0],lingo.tagTooltip.format([tags[t][0]]),config.macros.tagChooser.onTagClick);
		tag.setAttribute("tag",tags[t][0]);
		tag.setAttribute("tiddler",this.getAttribute("tiddler"));
	}
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
};

config.macros.tagChooser.onTagClick = function(ev)
{
	var e = ev || window.event;
	if(e.metaKey || e.ctrlKey) stopEvent(e); //# keep popup open on CTRL-click
	var tag = this.getAttribute("tag");
	var title = this.getAttribute("tiddler");
	if(!readOnly)
		story.setTiddlerTag(title,tag,0);
	return false;
};

config.macros.tagChooser.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(tiddler instanceof Tiddler) {
		var lingo = config.views.editor.tagChooser;
		var btn = createTiddlyButton(place,lingo.text,lingo.tooltip,this.onClick);
		btn.setAttribute("tiddler",tiddler.title);
		btn.setAttribute("tags",params[0]);
	}
};

config.macros.refreshDisplay.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.refreshDisplay.onClick = function(e)
{
	refreshAll();
	return false;
};

config.macros.annotations.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var title = tiddler ? tiddler.title : null;
	var a = title ? config.annotations[title] : null;
	if(!tiddler || !title || !a)
		return;
	var text = a.format([title]);
	wikify(text,createTiddlyElement(place,"div",null,"annotation"),null,tiddler);
};
//--
//-- NewTiddler and NewJournal macros
//--

config.macros.newTiddler.createNewTiddlerButton = function(place,title,params,label,prompt,accessKey,newFocus,isJournal)
{
	var tags = [];
	var t;
	for(t=1; t<params.length; t++) {
		if((params[t].name == "anon" && t != 1) || (params[t].name == "tag"))
			tags.push(params[t].value);
	}
	label = getParam(params,"label",label);
	prompt = getParam(params,"prompt",prompt);
	accessKey = getParam(params,"accessKey",accessKey);
	newFocus = getParam(params,"focus",newFocus);
	var customFields = getParam(params,"fields","");
	if(!customFields && !store.isShadowTiddler(title))
		customFields = String.encodeHashMap(config.defaultCustomFields);
	var btn = createTiddlyButton(place,label,prompt,this.onClickNewTiddler,null,null,accessKey);
	btn.setAttribute("newTitle",title);
	btn.setAttribute("isJournal",isJournal ? "true" : "false");
	if(tags.length > 0)
		btn.setAttribute("params",tags.join("|"));
	btn.setAttribute("newFocus",newFocus);
	btn.setAttribute("newTemplate",getParam(params,"template",DEFAULT_EDIT_TEMPLATE));
	if(customFields !== "")
		btn.setAttribute("customFields",customFields);
	var text = getParam(params,"text");
	if(text !== undefined)
		btn.setAttribute("newText",text);
	return btn;
};

config.macros.newTiddler.onClickNewTiddler = function()
{
	var title = this.getAttribute("newTitle");
	if(this.getAttribute("isJournal") == "true") {
		title = new Date().formatString(title.trim());
	}
	var params = this.getAttribute("params");
	var tags = params ? params.split("|") : [];
	var focus = this.getAttribute("newFocus");
	var template = this.getAttribute("newTemplate");
	var customFields = this.getAttribute("customFields");
	if(!customFields && !store.isShadowTiddler(title))
		customFields = String.encodeHashMap(config.defaultCustomFields);
	story.displayTiddler(null,title,template,false,null,null);
	var tiddlerElem = story.getTiddler(title);
	if(customFields)
		story.addCustomFields(tiddlerElem,customFields);
	var text = this.getAttribute("newText");
	if(typeof text == "string" && story.getTiddlerField(title,"text"))
		story.getTiddlerField(title,"text").value = text.format([title]);
	var t;
	for(t=0;t<tags.length;t++)
		story.setTiddlerTag(title,tags[t],+1);
	story.focusTiddler(title,focus);
	return false;
};

config.macros.newTiddler.handler = function(place,macroName,params,wikifier,paramString)
{
	if(!readOnly) {
		params = paramString.parseParams("anon",null,true,false,false);
		var title = params[1] && params[1].name == "anon" ? params[1].value : this.title;
		title = getParam(params,"title",title);
		this.createNewTiddlerButton(place,title,params,this.label,this.prompt,this.accessKey,"title",false);
	}
};

config.macros.newJournal.handler = function(place,macroName,params,wikifier,paramString)
{
	if(!readOnly) {
		params = paramString.parseParams("anon",null,true,false,false);
		var title = params[1] && params[1].name == "anon" ? params[1].value : config.macros.timeline.dateFormat;
		title = getParam(params,"title",title);
		config.macros.newTiddler.createNewTiddlerButton(place,title,params,this.label,this.prompt,this.accessKey,"text",true);
	}
};

//--
//-- Search macro
//--

config.macros.search.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,false,false,false);
	createTiddlyButton(place,this.label,this.prompt,this.onClick,"searchButton");
	var txt = createTiddlyElement(null,"input",null,"txtOptionInput searchField");
	txt.value = getParam(params,"anon","");
	if(config.browser.isSafari) {
		txt.setAttribute("type","search");
		txt.setAttribute("results","5");
	} else {
		txt.setAttribute("type","text");
	}
	place.appendChild(txt);
	txt.onkeyup = this.onKeyPress;
	txt.onfocus = this.onFocus;
	txt.setAttribute("size",this.sizeTextbox);
	txt.setAttribute("accessKey",getParam(params,"accesskey",this.accessKey));
	txt.setAttribute("autocomplete","off");
	txt.setAttribute("lastSearchText","");
	txt.setAttribute("placeholder",getParam(params,"placeholder",this.placeholder));
};

// Global because there's only ever one outstanding incremental search timer
config.macros.search.timeout = null;

config.macros.search.doSearch = function(txt)
{
	if(txt.value.length > 0) {
		story.search(txt.value,config.options.chkCaseSensitiveSearch,config.options.chkRegExpSearch);
		txt.setAttribute("lastSearchText",txt.value);
	}
};

config.macros.search.onClick = function(e)
{
	config.macros.search.doSearch(this.nextSibling);
	return false;
};

config.macros.search.onKeyPress = function(ev)
{
	var me = config.macros.search;
	var e = ev || window.event;
	switch(e.keyCode) {
		case 9: // Tab
			return;
		case 13: // Ctrl-Enter
		case 10: // Ctrl-Enter on IE PC
			me.doSearch(this);
			break;
		case 27: // Escape
			this.value = "";
			clearMessage();
			break;
	}
	if(config.options.chkIncrementalSearch) {
		if(this.value.length > 2) {
			if(this.value != this.getAttribute("lastSearchText")) {
				if(me.timeout) {
					clearTimeout(me.timeout);
				}
				var txt = this;
				me.timeout = setTimeout(function() {me.doSearch(txt);},500);
			}
		} else {
			if(me.timeout) {
				clearTimeout(me.timeout);
			}
		}
	}
};

config.macros.search.onFocus = function(e)
{
	this.select();
};

//--
//-- Tabs macro
//--

config.macros.tabs.handler = function(place,macroName,params)
{
	var cookie = params[0];
	var numTabs = (params.length-1)/3;
	var wrapper = createTiddlyElement(null,"div",null,"tabsetWrapper " + cookie);
	var tabset = createTiddlyElement(wrapper,"div",null,"tabset");
	tabset.setAttribute("cookie",cookie);
	var validTab = false;
	var t;
	for(t=0; t<numTabs; t++) {
		var label = params[t*3+1];
		var prompt = params[t*3+2];
		var content = params[t*3+3];
		var tab = createTiddlyButton(tabset,label,prompt,this.onClickTab,"tab tabUnselected");
		createTiddlyElement(tab,"span",null,null," ",{style:"font-size:0pt;line-height:0px"});
		tab.setAttribute("tab",label);
		tab.setAttribute("content",content);
		tab.title = prompt;
		if(config.options[cookie] == label)
			validTab = true;
	}
	if(!validTab)
		config.options[cookie] = params[1];
	place.appendChild(wrapper);
	this.switchTab(tabset,config.options[cookie]);
};

config.macros.tabs.onClickTab = function(e)
{
	config.macros.tabs.switchTab(this.parentNode,this.getAttribute("tab"));
	return false;
};

config.macros.tabs.switchTab = function(tabset,tab)
{
	var cookie = tabset.getAttribute("cookie");
	var theTab = null;
	var nodes = tabset.childNodes;
	var t;
	for(t=0; t<nodes.length; t++) {
		if(nodes[t].getAttribute && nodes[t].getAttribute("tab") == tab) {
			theTab = nodes[t];
			theTab.className = "tab tabSelected";
		} else {
			nodes[t].className = "tab tabUnselected";
		}
	}
	if(theTab) {
		if(tabset.nextSibling && tabset.nextSibling.className == "tabContents")
			jQuery(tabset.nextSibling).remove();
		var tabContent = createTiddlyElement(null,"div",null,"tabContents");
		tabset.parentNode.insertBefore(tabContent,tabset.nextSibling);
		var contentTitle = theTab.getAttribute("content");
		wikify(store.getTiddlerText(contentTitle),tabContent,null,store.getTiddler(contentTitle));
		if(cookie) {
			config.options[cookie] = tab;
			saveOption(cookie);
		}
	}
};

//--
//-- Tiddler toolbar
//--

// Create a toolbar command button
config.macros.toolbar.createCommand = function(place,commandName,tiddler,className)
{
	if(typeof commandName != "string") {
		var c = null;
		var t;
		for(t in config.commands) {
			if(config.commands[t] == commandName)
				c = t;
		}
		commandName = c;
	}
	if((tiddler instanceof Tiddler) && (typeof commandName == "string")) {
		var command = config.commands[commandName];
		if(command.isEnabled ? command.isEnabled(tiddler) : this.isCommandEnabled(command,tiddler)) {
			var text = command.getText ? command.getText(tiddler) : this.getCommandText(command,tiddler);
			var tooltip = command.getTooltip ? command.getTooltip(tiddler) : this.getCommandTooltip(command,tiddler);
			var cmd = command.type == "popup" ? this.onClickPopup : this.onClickCommand;
			var btn = createTiddlyButton(null,text,tooltip,cmd);
			btn.setAttribute("commandName",commandName);
			btn.setAttribute("tiddler",tiddler.title);
			jQuery(btn).addClass("command_" + commandName);
			if(className)
				jQuery(btn).addClass(className);
			place.appendChild(btn);
		}
	}
};

config.macros.toolbar.isCommandEnabled = function(command,tiddler)
{
	var title = tiddler.title;
	var ro = tiddler.isReadOnly();
	var shadow = store.isShadowTiddler(title) && !store.tiddlerExists(title);
	return (!ro || (ro && !command.hideReadOnly)) && !(shadow && command.hideShadow);
};

config.macros.toolbar.getCommandText = function(command,tiddler)
{
	return (tiddler.isReadOnly() && command.readOnlyText) || command.text;
};

config.macros.toolbar.getCommandTooltip = function(command,tiddler)
{
	return (tiddler.isReadOnly() && command.readOnlyTooltip) || command.tooltip;
};

config.macros.toolbar.onClickCommand = function(ev)
{
	var e = ev || window.event;
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	var command = config.commands[this.getAttribute("commandName")];
	return command.handler(e,this,this.getAttribute("tiddler"));
};

config.macros.toolbar.onClickPopup = function(ev)
{
	var e = ev || window.event;
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	var popup = Popup.create(this);
	var command = config.commands[this.getAttribute("commandName")];
	var title = this.getAttribute("tiddler");
	popup.setAttribute("tiddler",title);
	command.handlePopup(popup,title);
	Popup.show();
	return false;
};

// Invoke the first command encountered from a given place that is tagged with a specified class
config.macros.toolbar.invokeCommand = function(place,className,event)
{
	var children = place.getElementsByTagName("a");
	var t;
	for(t=0; t<children.length; t++) {
		var c = children[t];
		if(jQuery(c).hasClass(className) && c.getAttribute && c.getAttribute("commandName")) {
			if(c.onclick instanceof Function)
				c.onclick.call(c,event);
			break;
		}
	}
};

config.macros.toolbar.onClickMore = function(ev)
{
	var e = this.nextSibling;
	e.style.display = "inline";
	this.style.display = "none";
	return false;
};

config.macros.toolbar.onClickLess = function(ev)
{
	var e = this.parentNode;
	var m = e.previousSibling;
	e.style.display = "none";
	m.style.display = "inline";
	return false;
};

config.macros.toolbar.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var t;
	for(t=0; t<params.length; t++) {
		var btn;
		var c = params[t];
		switch(c) {
		case "!":
			createTiddlyText(place,this.separator);
			break;
		case "*":
			createTiddlyElement(place,"br");
			break;
		case "<":
			btn = createTiddlyButton(place,this.lessLabel,this.lessPrompt,config.macros.toolbar.onClickLess);
			jQuery(btn).addClass("lessCommand");
			break;
		case ">":
			btn = createTiddlyButton(place,this.moreLabel,this.morePrompt,config.macros.toolbar.onClickMore);
			jQuery(btn).addClass("moreCommand");
			var e = createTiddlyElement(place,"span",null,"moreCommand");
			e.style.display = "none";
			place = e;
			break;
		default:
			var className = "";
			switch(c.substr(0,1)) {
			case "+":
				className = "defaultCommand";
				c = c.substr(1);
				break;
			case "-":
				className = "cancelCommand";
				c = c.substr(1);
				break;
			}
			if(config.commands[c]) {
				this.createCommand(place,c,tiddler,className);
			} else {
				this.customCommand(place,c,wikifier,tiddler);
			}
			break;
		}
	}
};

// Overrideable function to extend toolbar handler
config.macros.toolbar.customCommand = function(place,command,wikifier,tiddler)
{
};

//--
//-- Menu and toolbar commands
//--

config.commands.closeTiddler.handler = function(event,src,title)
{
	if(story.isDirty(title) && !readOnly) {
		if(!confirm(config.commands.cancelTiddler.warning.format([title])))
			return false;
	}
	story.setDirty(title,false);
	story.closeTiddler(title,true);
	return false;
};

config.commands.closeOthers.handler = function(event,src,title)
{
	story.closeAllTiddlers(title);
	return false;
};

config.commands.editTiddler.handler = function(event,src,title)
{
	clearMessage();
	var tiddlerElem = story.getTiddler(title);
	var fields = tiddlerElem.getAttribute("tiddlyFields");
	story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE,false,null,fields);
	var e = story.getTiddlerField(title,config.options.txtEditorFocus||"text");
	if(e) {
		setCaretPosition(e,0);
	}
	return false;
};

config.commands.saveTiddler.handler = function(event,src,title)
{
	var newTitle = story.saveTiddler(title,event.shiftKey);
	if(newTitle)
		story.displayTiddler(null,newTitle);
	return false;
};

config.commands.cancelTiddler.handler = function(event,src,title)
{
	if(story.hasChanges(title) && !readOnly) {
		if(!confirm(this.warning.format([title])))
			return false;
	}
	story.setDirty(title,false);
	story.displayTiddler(null,title);
	return false;
};

config.commands.deleteTiddler.handler = function(event,src,title)
{
	var deleteIt = true;
	if(config.options.chkConfirmDelete)
		deleteIt = confirm(this.warning.format([title]));
	if(deleteIt) {
		store.removeTiddler(title);
		story.closeTiddler(title,true);
		autoSaveChanges();
	}
	return false;
};

config.commands.permalink.handler = function(event,src,title)
{
	var t = encodeURIComponent(String.encodeTiddlyLink(title));
	if(window.location.hash != t)
		window.location.hash = t;
	return false;
};

config.commands.references.handlePopup = function(popup,title)
{
	var references = store.getReferringTiddlers(title);
	var c = false;
	var r;
	for(r=0; r<references.length; r++) {
		if(references[r].title != title && !references[r].isTagged("excludeLists")) {
			createTiddlyLink(createTiddlyElement(popup,"li"),references[r].title,true);
			c = true;
		}
	}
	if(!c)
		createTiddlyElement(popup,"li",null,"disabled",this.popupNone);
};

config.commands.jump.handlePopup = function(popup,title)
{
	story.forEachTiddler(function(title,element) {
		createTiddlyLink(createTiddlyElement(popup,"li"),title,true,null,false,null,true);
		});
};

config.commands.fields.handlePopup = function(popup,title)
{
	var tiddler = store.fetchTiddler(title);
	if(!tiddler)
		return;
	var items = [];
	store.forEachField(tiddler,function(tiddler,fieldName,value){items.push({field:fieldName,value:value});},true);
	items.sort(function(a,b) {return a.field < b.field ? -1 : (a.field == b.field ? 0 : +1);});
	if(items.length > 0)
		ListView.create(popup,items,this.listViewTemplate);
	else
		createTiddlyElement(popup,"div",null,null,this.emptyText);
};

//--
//-- Tiddler() object
//--

function Tiddler(title)
{
	this.title = title;
	this.text = "";
	this.creator = null;
	this.modifier = null;
	this.created = new Date();
	this.modified = this.created;
	this.links = [];
	this.linksUpdated = false;
	this.tags = [];
	this.fields = {};
	return this;
}

Tiddler.prototype.getLinks = function()
{
	if(this.linksUpdated==false)
		this.changed();
	return this.links;
};

// Returns the fields that are inherited in string field:"value" field2:"value2" format
Tiddler.prototype.getInheritedFields = function()
{
	var f = {};
	var i;
	for(i in this.fields) {
		if(i=="server.host" || i=="server.workspace" || i=="wikiformat"|| i=="server.type") {
			f[i] = this.fields[i];
		}
	}
	return String.encodeHashMap(f);
};

// Increment the changeCount of a tiddler
Tiddler.prototype.incChangeCount = function()
{
	var c = this.fields['changecount'];
	c = c ? parseInt(c,10) : 0;
	this.fields['changecount'] = String(c+1);
};

// Clear the changeCount of a tiddler
Tiddler.prototype.clearChangeCount = function()
{
	if(this.fields['changecount']) {
		delete this.fields['changecount'];
	}
};

Tiddler.prototype.doNotSave = function()
{
	return this.fields['doNotSave'];
};

// Returns true if the tiddler has been updated since the tiddler was created or downloaded
Tiddler.prototype.isTouched = function()
{
	var changecount = this.fields.changecount || 0;
	return changecount > 0;
};

// Change the text and other attributes of a tiddler
Tiddler.prototype.set = function(title,text,modifier,modified,tags,created,fields,creator)
{
	this.assign(title,text,modifier,modified,tags,created,fields,creator);
	this.changed();
	return this;
};

// Change the text and other attributes of a tiddler without triggered a tiddler.changed() call
Tiddler.prototype.assign = function(title,text,modifier,modified,tags,created,fields,creator)
{
	if(title != undefined)
		this.title = title;
	if(text != undefined)
		this.text = text;
	if(modifier != undefined)
		this.modifier = modifier;
	if(modified != undefined)
		this.modified = modified;
	if(creator != undefined)
		this.creator = creator;
	if(created != undefined)
		this.created = created;
	if(fields != undefined)
		this.fields = fields;
	if(tags != undefined)
		this.tags = (typeof tags == "string") ? tags.readBracketedList() : tags;
	else if(this.tags == undefined)
		this.tags = [];
	return this;
};

// Get the tags for a tiddler as a string (space delimited, using [[brackets]] for tags containing spaces)
Tiddler.prototype.getTags = function()
{
	return String.encodeTiddlyLinkList(this.tags);
};

// Test if a tiddler carries a tag
Tiddler.prototype.isTagged = function(tag)
{
	return this.tags.indexOf(tag) != -1;
};

// Static method to convert "\n" to newlines, "\s" to "\"
Tiddler.unescapeLineBreaks = function(text)
{
	return text ? text.unescapeLineBreaks() : "";
};

// Convert newlines to "\n", "\" to "\s"
Tiddler.prototype.escapeLineBreaks = function()
{
	return this.text.escapeLineBreaks();
};

// Updates the secondary information (like links[] array) after a change to a tiddler
Tiddler.prototype.changed = function()
{
	this.links = [];
	var text = this.text;
	// remove 'quoted' text before scanning tiddler source
	text = text.replace(/\/%((?:.|\n)*?)%\//g,"").
		replace(/\{{3}((?:.|\n)*?)\}{3}/g,"").
		replace(/"""((?:.|\n)*?)"""/g,"").
		replace(/<nowiki\>((?:.|\n)*?)<\/nowiki\>/g,"").
		replace(/<html\>((?:.|\n)*?)<\/html\>/g,"").
		replace(/<script((?:.|\n)*?)<\/script\>/g,"");
	var t = this.autoLinkWikiWords() ? 0 : 1;
	var tiddlerLinkRegExp = t==0 ? config.textPrimitives.tiddlerAnyLinkRegExp : config.textPrimitives.tiddlerForcedLinkRegExp;
	tiddlerLinkRegExp.lastIndex = 0;
	var formatMatch = tiddlerLinkRegExp.exec(text);
	while(formatMatch) {
		var lastIndex = tiddlerLinkRegExp.lastIndex;
		if(t==0 && formatMatch[1] && formatMatch[1] != this.title) {
			// wikiWordLink
			if(formatMatch.index > 0) {
				var preRegExp = new RegExp(config.textPrimitives.unWikiLink+"|"+config.textPrimitives.anyLetter,"mg");
				preRegExp.lastIndex = formatMatch.index-1;
				var preMatch = preRegExp.exec(text);
				if(preMatch.index != formatMatch.index-1)
					this.links.pushUnique(formatMatch[1]);
			} else {
				this.links.pushUnique(formatMatch[1]);
			}
		}
		else if(formatMatch[2-t] && !config.formatterHelpers.isExternalLink(formatMatch[3-t])) // titledBrackettedLink
			this.links.pushUnique(formatMatch[3-t]);
		else if(formatMatch[4-t] && formatMatch[4-t] != this.title) // brackettedLink
			this.links.pushUnique(formatMatch[4-t]);
		tiddlerLinkRegExp.lastIndex = lastIndex;
		formatMatch = tiddlerLinkRegExp.exec(text);
	}
	this.linksUpdated = true;
};

Tiddler.prototype.getSubtitle = function()
{
	var modifier = this.modifier;
	if(!modifier)
		modifier = config.messages.subtitleUnknown || "";
	var modified = this.modified;
	if(modified)
		modified = modified.toLocaleString();
	else
		modified = config.messages.subtitleUnknown || "";
	var f = config.messages.tiddlerLinkTooltip || "%0 - %1, %2";
	return f.format([this.title,modifier,modified]);
};

Tiddler.prototype.isReadOnly = function()
{
	return readOnly;
};

Tiddler.prototype.autoLinkWikiWords = function()
{
	return !(this.isTagged("systemConfig") || this.isTagged("excludeMissing"));
};

Tiddler.prototype.getServerType = function()
{
	var serverType = null;
	if(this.fields['server.type'])
		serverType = this.fields['server.type'];
	if(!serverType)
		serverType = this.fields['wikiformat'];
	if(serverType && !config.adaptors[serverType])
		serverType = null;
	return serverType;
};

Tiddler.prototype.getAdaptor = function()
{
	var serverType = this.getServerType();
	return serverType ? new config.adaptors[serverType]() : null;
};

//--
//-- TiddlyWiki instance contains TiddlerS
//--

function TiddlyWiki(params)
{
	var tiddlers = {}; // Hashmap by name of tiddlers
	if(params && params.config) {
		this.config = config;
	}
	this.tiddlersUpdated = false;
	this.namedNotifications = []; // Array of {name:,notify:} of notification functions
	this.notificationLevel = 0;
	this.slices = {}; // map tiddlerName->(map sliceName->sliceValue). Lazy.
	this.clear = function() {
		tiddlers = {};
		this.setDirty(false);
	};
	this.fetchTiddler = function(title) {
		var t = tiddlers[title];
		return t instanceof Tiddler ? t : null;
	};
	this.deleteTiddler = function(title) {
		delete this.slices[title];
		delete tiddlers[title];
	};
	this.addTiddler = function(tiddler) {
		delete this.slices[tiddler.title];
		tiddlers[tiddler.title] = tiddler;
	};
	this.forEachTiddler = function(callback) {
		var t;
		for(t in tiddlers) {
			var tiddler = tiddlers[t];
			if(tiddler instanceof Tiddler)
				callback.call(this,t,tiddler);
		}
	};
}

TiddlyWiki.prototype.setDirty = function(dirty)
{
	this.dirty = dirty;
};

TiddlyWiki.prototype.isDirty = function()
{
	return this.dirty;
};

TiddlyWiki.prototype.tiddlerExists = function(title)
{
	var t = this.fetchTiddler(title);
	return t != undefined;
};

TiddlyWiki.prototype.isShadowTiddler = function(title)
{
	return config.shadowTiddlers[title] === undefined ? false : true;
};

TiddlyWiki.prototype.isAvailable = function(title) {
	if (!title)
		return false;
	var s = title ? title.indexOf(config.textPrimitives.sectionSeparator) : -1;
	if(s!=-1)
		title = title.substr(0,s);
	return this.tiddlerExists(title) || this.isShadowTiddler(title);
};

TiddlyWiki.prototype.createTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(!tiddler) {
		tiddler = new Tiddler(title);
		this.addTiddler(tiddler);
		this.setDirty(true);
	}
	return tiddler;
};

TiddlyWiki.prototype.getTiddler = function(title)
{
	var t = this.fetchTiddler(title);
	if(t != undefined)
		return t;
	else
		return null;
};

TiddlyWiki.prototype.getShadowTiddlerText = function(title)
{
	if(typeof config.shadowTiddlers[title] == "string")
		return config.shadowTiddlers[title];
	else
		return "";
};

// Retrieve tiddler contents
TiddlyWiki.prototype.getTiddlerText = function(title,defaultText)
{
	if(!title)
		return defaultText;
	var pos = title.indexOf(config.textPrimitives.sectionSeparator);
	var section = null;
	if(pos != -1) {
		section = title.substr(pos + config.textPrimitives.sectionSeparator.length);
		title = title.substr(0,pos);
	}
	pos = title.indexOf(config.textPrimitives.sliceSeparator);
	if(pos != -1) {
		var slice = this.getTiddlerSlice(title.substr(0,pos),title.substr(pos + config.textPrimitives.sliceSeparator.length));
		if(slice)
			return slice;
	}
	var tiddler = this.fetchTiddler(title);
	var text = tiddler ? tiddler.text : null;
	if(!tiddler && this.isShadowTiddler(title)) {
		text = this.getShadowTiddlerText(title);
	}
	if(text) {
		if(!section)
			return text;
		var re = new RegExp("(^!{1,6}[ \t]*" + section.escapeRegExp() + "[ \t]*\n)","mg");
		re.lastIndex = 0;
		var match = re.exec(text);
		if(match) {
			var t = text.substr(match.index+match[1].length);
			var re2 = /^!/mg;
			re2.lastIndex = 0;
			match = re2.exec(t); //# search for the next heading
			if(match)
				t = t.substr(0,match.index-1);//# don't include final \n
			return t;
		}
		return defaultText;
	}
	if(defaultText != undefined)
		return defaultText;
	return null;
};

TiddlyWiki.prototype.getRecursiveTiddlerText = function(title,defaultText,depth)
{
	var bracketRegExp = new RegExp("(?:\\[\\[([^\\]]+)\\]\\])","mg");
	var text = this.getTiddlerText(title,null);
	if(text == null)
		return defaultText;
	var textOut = [];
	var match,lastPos = 0;
	do {
		match = bracketRegExp.exec(text);
		if(match) {
			textOut.push(text.substr(lastPos,match.index-lastPos));
			if(match[1]) {
				if(depth <= 0)
					textOut.push(match[1]);
				else
					textOut.push(this.getRecursiveTiddlerText(match[1],"",depth-1));
			}
			lastPos = match.index + match[0].length;
		} else {
			textOut.push(text.substr(lastPos));
		}
	} while(match);
	return textOut.join("");
};

//TiddlyWiki.prototype.slicesRE = /(?:^([\'\/]{0,2})~?([\.\w]+)\:\1[\t\x20]*([^\n]+)[\t\x20]*$)|(?:^\|([\'\/]{0,2})~?([\.\w]+)\:?\4\|[\t\x20]*([^\n]+)[\t\x20]*\|$)/gm;
TiddlyWiki.prototype.slicesRE = /(?:^([\'\/]{0,2})~?([\.\w]+)\:\1[\t\x20]*([^\n]*)[\t\x20]*$)|(?:^\|([\'\/]{0,2})~?([\.\w]+)\:?\4\|[\t\x20]*([^\|\n]*)[\t\x20]*\|$)/gm;
// @internal
TiddlyWiki.prototype.calcAllSlices = function(title)
{
	var slices = {};
	var text = this.getTiddlerText(title,"");
	this.slicesRE.lastIndex = 0;
	var m = this.slicesRE.exec(text);
	while(m) {
		if(m[2])
			slices[m[2]] = m[3];
		else
			slices[m[5]] = m[6];
		m = this.slicesRE.exec(text);
	}
	return slices;
};

// Returns the slice of text of the given name
TiddlyWiki.prototype.getTiddlerSlice = function(title,sliceName)
{
	var slices = this.slices[title];
	if(!slices) {
		slices = this.calcAllSlices(title);
		this.slices[title] = slices;
	}
	return slices[sliceName];
};

// Build an hashmap of the specified named slices of a tiddler
TiddlyWiki.prototype.getTiddlerSlices = function(title,sliceNames)
{
	var t,r = {};
	for(t=0; t<sliceNames.length; t++) {
		var slice = this.getTiddlerSlice(title,sliceNames[t]);
		if(slice)
			r[sliceNames[t]] = slice;
	}
	return r;
};

TiddlyWiki.prototype.suspendNotifications = function()
{
	this.notificationLevel--;
};

TiddlyWiki.prototype.resumeNotifications = function()
{
	this.notificationLevel++;
};

// Invoke the notification handlers for a particular tiddler
TiddlyWiki.prototype.notify = function(title,doBlanket)
{
	if(!this.notificationLevel) {
	    var t;
		for(t=0; t<this.namedNotifications.length; t++) {
			var n = this.namedNotifications[t];
			if((n.name == null && doBlanket) || (n.name == title))
				n.notify(title);
		}
	}
};

// Invoke the notification handlers for all tiddlers
TiddlyWiki.prototype.notifyAll = function()
{
	if(!this.notificationLevel) {
	    var t;
		for(t=0; t<this.namedNotifications.length; t++) {
			var n = this.namedNotifications[t];
			if(n.name)
				n.notify(n.name);
		}
	}
};

// Add a notification handler to a tiddler
TiddlyWiki.prototype.addNotification = function(title,fn)
{
	var i;
	for(i=0; i<this.namedNotifications.length; i++) {
		if((this.namedNotifications[i].name == title) && (this.namedNotifications[i].notify == fn))
			return this;
	}
	this.namedNotifications.push({name: title, notify: fn});
	return this;
};

TiddlyWiki.prototype.removeTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		this.deleteTiddler(title);
		this.notify(title,true);
		this.setDirty(true);
	}
};

// Reset the sync status of a freshly synced tiddler
TiddlyWiki.prototype.resetTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		tiddler.clearChangeCount();
		this.notify(title,true);
		this.setDirty(true);
	}
};

TiddlyWiki.prototype.setTiddlerTag = function(title,status,tag)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		var t = tiddler.tags.indexOf(tag);
		if(t != -1)
			tiddler.tags.splice(t,1);
		if(status)
			tiddler.tags.push(tag);
		tiddler.changed();
		tiddler.incChangeCount();
		this.notify(title,true);
		this.setDirty(true);
	}
};

TiddlyWiki.prototype.addTiddlerFields = function(title,fields)
{
	var tiddler = this.fetchTiddler(title);
	if(!tiddler)
		return;
	merge(tiddler.fields,fields);
	tiddler.changed();
	tiddler.incChangeCount();
	this.notify(title,true);
	this.setDirty(true);
};

// Store tiddler in TiddlyWiki instance
TiddlyWiki.prototype.saveTiddler = function(title,newTitle,newBody,modifier,modified,tags,fields,clearChangeCount,created,creator)
{
	var tiddler;
	if(title instanceof Tiddler) {
		tiddler = title;
		tiddler.fields = merge(merge({},tiddler.fields),config.defaultCustomFields,true);
		title = tiddler.title;
		newTitle = title;
	} else {
		tiddler = this.fetchTiddler(title);
		if(tiddler) {
			created = created || tiddler.created; // Preserve created date
			creator = creator || tiddler.creator;
			this.deleteTiddler(title);
		} else {
			created = created || modified;
			tiddler = new Tiddler();
		}
		fields = merge(merge({},fields),config.defaultCustomFields,true);
		tiddler.set(newTitle,newBody,modifier,modified,tags,created,fields,creator);
	}
	this.addTiddler(tiddler);
	if(clearChangeCount)
		tiddler.clearChangeCount();
	else
		tiddler.incChangeCount();
	if(title != newTitle)
		this.notify(title,true);
	this.notify(newTitle,true);
	this.setDirty(true);
	return tiddler;
};

TiddlyWiki.prototype.incChangeCount = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler)
		tiddler.incChangeCount();
};

TiddlyWiki.prototype.getLoader = function()
{
	if(!this.loader)
		this.loader = new TW21Loader();
	return this.loader;
};

TiddlyWiki.prototype.getSaver = function()
{
	if(!this.saver)
		this.saver = new TW21Saver();
	return this.saver;
};

// Return all tiddlers formatted as an HTML string
TiddlyWiki.prototype.allTiddlersAsHtml = function()
{
	return this.getSaver().externalize(store);
};

// Load contents of a TiddlyWiki from an HTML DIV
TiddlyWiki.prototype.loadFromDiv = function(src,idPrefix,noUpdate)
{
	this.idPrefix = idPrefix;
	var storeElem = (typeof src == "string") ? document.getElementById(src) : src;
	if(!storeElem)
		return;
	var tiddlers = this.getLoader().loadTiddlers(this,storeElem.childNodes);
	this.setDirty(false);
	if(!noUpdate) {
		var i;
		for(i = 0;i<tiddlers.length; i++)
			tiddlers[i].changed();
	}
	jQuery(document).trigger("loadTiddlers");
};

// Load contents of a TiddlyWiki from a string
// Returns null if there's an error
TiddlyWiki.prototype.importTiddlyWiki = function(text)
{
	var posDiv = locateStoreArea(text);
	if(!posDiv)
		return null;
	var content = "<" + "html><" + "body>" + text.substring(posDiv[0],posDiv[1] + endSaveArea.length) + "<" + "/body><" + "/html>";
	// Create the iframe
	var iframe = document.createElement("iframe");
	iframe.style.display = "none";
	document.body.appendChild(iframe);
	var doc = iframe.document;
	if(iframe.contentDocument)
		doc = iframe.contentDocument; // For NS6
	else if(iframe.contentWindow)
		doc = iframe.contentWindow.document; // For IE5.5 and IE6
	// Put the content in the iframe
	doc.open();
	doc.writeln(content);
	doc.close();
	// Load the content into a TiddlyWiki() object
	var storeArea = doc.getElementById("storeArea");
	this.loadFromDiv(storeArea,"store");
	// Get rid of the iframe
	iframe.parentNode.removeChild(iframe);
	return this;
};

TiddlyWiki.prototype.updateTiddlers = function()
{
	this.tiddlersUpdated = true;
	this.forEachTiddler(function(title,tiddler) {
		tiddler.changed();
	});
};

// Return an array of tiddlers matching a search regular expression
TiddlyWiki.prototype.search = function(searchRegExp,sortField,excludeTag,match)
{
	var candidates = this.reverseLookup("tags",excludeTag,!!match);
	var t,results = [];
	for(t=0; t<candidates.length; t++) {
		if((candidates[t].title.search(searchRegExp) != -1) || (candidates[t].text.search(searchRegExp) != -1))
			results.push(candidates[t]);
	}
	if(!sortField)
		sortField = "title";
	results.sort(function(a,b) {return a[sortField] < b[sortField] ? -1 : (a[sortField] == b[sortField] ? 0 : +1);});
	return results;
};

// Returns a list of all tags in use
//   excludeTag - if present, excludes tags that are themselves tagged with excludeTag
// Returns an array of arrays where [tag][0] is the name of the tag and [tag][1] is the number of occurances
TiddlyWiki.prototype.getTags = function(excludeTag)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
	    var g,c;
		for(g=0; g<tiddler.tags.length; g++) {
			var tag = tiddler.tags[g];
			var n = true;
			for(c=0; c<results.length; c++) {
				if(results[c][0] == tag) {
					n = false;
					results[c][1]++;
				}
			}
			if(n && excludeTag) {
				var t = this.fetchTiddler(tag);
				if(t && t.isTagged(excludeTag))
					n = false;
			}
			if(n)
				results.push([tag,1]);
		}
	});
	results.sort(function(a,b) {return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : (a[0].toLowerCase() == b[0].toLowerCase() ? 0 : +1);});
	return results;
};

// Return an array of the tiddlers that are tagged with a given tag
TiddlyWiki.prototype.getTaggedTiddlers = function(tag,sortField)
{
	return this.reverseLookup("tags",tag,true,sortField);
};

TiddlyWiki.prototype.getValueTiddlers = function(field,value,sortField)
{
	return this.reverseLookup(field,value,true,sortField);
};

// Return an array of the tiddlers that link to a given tiddler
TiddlyWiki.prototype.getReferringTiddlers = function(title,unusedParameter,sortField)
{
	if(!this.tiddlersUpdated)
		this.updateTiddlers();
	return this.reverseLookup("links",title,true,sortField);
};

// Return an array of the tiddlers that do or do not have a specified entry in the specified storage array (ie, "links" or "tags")
// lookupMatch == true to match tiddlers, false to exclude tiddlers
TiddlyWiki.prototype.reverseLookup = function(lookupField,lookupValue,lookupMatch,sortField)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		var f = !lookupMatch;
		var values;
		if(["links", "tags"].contains(lookupField)) {
			values = tiddler[lookupField];
		} else {
			var accessor = TiddlyWiki.standardFieldAccess[lookupField];
			if(accessor) {
				values = [ accessor.get(tiddler) ];
			} else {
				values = tiddler.fields[lookupField] ? [tiddler.fields[lookupField]] : [];
			}
		}
		var lookup;
		for(lookup=0; lookup<values.length; lookup++) {
			if(values[lookup] == lookupValue)
				f = lookupMatch;
		}
		if(f)
			results.push(tiddler);
	});
	if(!sortField)
		sortField = "title";
	return this.sortTiddlers(results,sortField);
};

// Return the tiddlers as a sorted array
TiddlyWiki.prototype.getTiddlers = function(field,excludeTag)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		if(excludeTag == undefined || !tiddler.isTagged(excludeTag))
			results.push(tiddler);
	});
	if(field)
		results.sort(function(a,b) {return a[field] < b[field] ? -1 : (a[field] == b[field] ? 0 : +1);});
	return results;
};

// Return array of names of tiddlers that are referred to but not defined
TiddlyWiki.prototype.getMissingLinks = function()
{
	if(!this.tiddlersUpdated)
		this.updateTiddlers();
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		if(tiddler.isTagged("excludeMissing") || tiddler.isTagged("systemConfig"))
			return;
		var n;
		for(n=0; n<tiddler.links.length;n++) {
			var link = tiddler.links[n];
			if(this.getTiddlerText(link,null) == null && !this.isShadowTiddler(link) && !config.macros[link])
				results.pushUnique(link);
		}
	});
	results.sort();
	return results;
};

// Return an array of names of tiddlers that are defined but not referred to
TiddlyWiki.prototype.getOrphans = function()
{
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		if(this.getReferringTiddlers(title).length == 0 && !tiddler.isTagged("excludeLists"))
			results.push(title);
	});
	results.sort();
	return results;
};

// Return an array of names of all the shadow tiddlers
TiddlyWiki.prototype.getShadowed = function()
{
	var t,results = [];
	for(t in config.shadowTiddlers) {
		if(this.isShadowTiddler(t))
			results.push(t);
	}
	results.sort();
	return results;
};

// Return an array of tiddlers that have been touched since they were downloaded or created
TiddlyWiki.prototype.getTouched = function()
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		if(tiddler.isTouched())
			results.push(tiddler);
		});
	results.sort();
	return results;
};

// Resolves a Tiddler reference or tiddler title into a Tiddler object, or null if it doesn't exist
TiddlyWiki.prototype.resolveTiddler = function(tiddler)
{
	var t = (typeof tiddler == "string") ? this.getTiddler(tiddler) : tiddler;
	return t instanceof Tiddler ? t : null;
};

// Sort a list of tiddlers
TiddlyWiki.prototype.sortTiddlers = function(tiddlers,field)
{
	var asc = +1;
	switch(field.substr(0,1)) {
	case "-":
		asc = -1;
		field = field.substr(1);
		break;
	case "+":
		field = field.substr(1);
		break;
	}
	if(TiddlyWiki.standardFieldAccess[field]) {
		if(field=="title") {
			tiddlers.sort(function(a,b) {return a[field].toLowerCase() < b[field].toLowerCase() ? -asc : (a[field].toLowerCase() == b[field].toLowerCase() ? 0 : asc);});
		} else {
			tiddlers.sort(function(a,b) {return a[field] < b[field] ? -asc : (a[field] == b[field] ? 0 : asc);});
		}
	} else {
		tiddlers.sort(function(a,b) {return a.fields[field] < b.fields[field] ? -asc : (a.fields[field] == b.fields[field] ? 0 : +asc);});
	}
	return tiddlers;
};

//--
//-- Filter a list of tiddlers
//--

config.filters = {
	tiddler: function(results,match) {
		var title = match[1]||match[4];
		var tiddler = this.fetchTiddler(title);
		if(tiddler) {
			results.pushUnique(tiddler);
		} else if(this.isShadowTiddler(title)) {
			tiddler = new Tiddler();
			tiddler.set(title,this.getTiddlerText(title));
			results.pushUnique(tiddler);
		} else {
			results.pushUnique(new Tiddler(title));
		}
		return results;
	},
	tag: function(results,match) {
		var m,matched = this.getTaggedTiddlers(match[3]);
		for(m=0; m<matched.length; m++) {
			results.pushUnique(matched[m]);
		}
		return results;
	},
	sort: function(results,match) {
		return this.sortTiddlers(results,match[3]);
	},
	limit: function(results,match) {
		return results.slice(0,parseInt(match[3],10));
	},
	field: function(results,match) {
		var m,matched = this.getValueTiddlers(match[2],match[3]);
		for (m = 0; m < matched.length; m++) {
			results.pushUnique(matched[m]);
		}
		return results;
	}
};

// Filter a list of tiddlers
TiddlyWiki.prototype.filterTiddlers = function(filter)
{
	var re = /([^\s\[\]]+)|(?:\[([ \w\.\-]+)\[([^\]]+)\]\])|(?:\[\[([^\]]+)\]\])/mg;

	var results = [];
	if(filter) {
		var match = re.exec(filter);
		while(match) {
			var handler = (match[1]||match[4])?'tiddler':config.filters[match[2]]?match[2]:'field';
			results = config.filters[handler].call(this,results,match);
			match = re.exec(filter);
		}
	}
	return results;
};
// Returns true if path is a valid field name (path),
// i.e. a sequence of identifiers, separated by "."
TiddlyWiki.isValidFieldName = function(name)
{
	var match = /[a-zA-Z_]\w*(\.[a-zA-Z_]\w*)*/.exec(name);
	return match && (match[0] == name);
};

// Throws an exception when name is not a valid field name.
TiddlyWiki.checkFieldName = function(name)
{
	if(!TiddlyWiki.isValidFieldName(name))
		throw config.messages.invalidFieldName.format([name]);
};

function StringFieldAccess(n,readOnly)
{
	this.set = readOnly ?
			function(t,v) {if(v != t[n]) throw config.messages.fieldCannotBeChanged.format([n]);} :
			function(t,v) {if(v != t[n]) {t[n] = v; return true;}};
	this.get = function(t) {return t[n];};
}

function DateFieldAccess(n)
{
	this.set = function(t,v) {
		var d = v instanceof Date ? v : Date.convertFromYYYYMMDDHHMM(v);
		if(d != t[n]) {
			t[n] = d; return true;
		}
	};
	this.get = function(t) {return t[n].convertToYYYYMMDDHHMM();};
}

function LinksFieldAccess(n)
{
	this.set = function(t,v) {
		var s = (typeof v == "string") ? v.readBracketedList() : v;
		if(s.toString() != t[n].toString()) {
			t[n] = s; return true;
		}
	};
	this.get = function(t) {return String.encodeTiddlyLinkList(t[n]);};
}

TiddlyWiki.standardFieldAccess = {
	// The set functions return true when setting the data has changed the value.
	"title":    new StringFieldAccess("title",true),
	// Handle the "tiddler" field name as the title
	"tiddler":  new StringFieldAccess("title",true),
	"text":     new StringFieldAccess("text"),
	"modifier": new StringFieldAccess("modifier"),
	"modified": new DateFieldAccess("modified"),
	"creator":  new StringFieldAccess("creator"),
	"created":  new DateFieldAccess("created"),
	"tags":     new LinksFieldAccess("tags")
};

TiddlyWiki.isStandardField = function(name)
{
	return TiddlyWiki.standardFieldAccess[name] != undefined;
};

// Sets the value of the given field of the tiddler to the value.
// Setting an ExtendedField's value to null or undefined removes the field.
// Setting a namespace to undefined removes all fields of that namespace.
// The fieldName is case-insensitive.
// All values will be converted to a string value.
TiddlyWiki.prototype.setValue = function(tiddler,fieldName,value)
{
	TiddlyWiki.checkFieldName(fieldName);
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return;
	fieldName = fieldName.toLowerCase();
	var isRemove = (value === undefined) || (value === null);
	var accessor = TiddlyWiki.standardFieldAccess[fieldName];
	if(accessor) {
		if(isRemove)
			// don't remove StandardFields
			return;
		var h = TiddlyWiki.standardFieldAccess[fieldName];
		if(!h.set(t,value))
			return;
	} else {
		var oldValue = t.fields[fieldName];
		if(isRemove) {
			if(oldValue !== undefined) {
				// deletes a single field
				delete t.fields[fieldName];
			} else {
				// no concrete value is defined for the fieldName
				// so we guess this is a namespace path.
				// delete all fields in a namespace
				var re = new RegExp("^"+fieldName+"\\.");
				var dirty = false;
				var n;
				for(n in t.fields) {
					if(n.match(re)) {
						delete t.fields[n];
						dirty = true;
					}
				}
				if(!dirty)
					return;
			}
		} else {
			// the "normal" set case. value is defined (not null/undefined)
			// For convenience provide a nicer conversion Date->String
			value = value instanceof Date ? value.convertToYYYYMMDDHHMMSSMMM() : String(value);
			if(oldValue == value)
				return;
			t.fields[fieldName] = value;
		}
	}
	// When we are here the tiddler/store really was changed.
	this.notify(t.title,true);
	if(!fieldName.match(/^temp\./))
		this.setDirty(true);
};

// Returns the value of the given field of the tiddler.
// The fieldName is case-insensitive.
// Will only return String values (or undefined).
TiddlyWiki.prototype.getValue = function(tiddler,fieldName)
{
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return undefined;
	if(fieldName.indexOf(config.textPrimitives.sectionSeparator) === 0 || fieldName.indexOf(config.textPrimitives.sliceSeparator) === 0) {
		var sliceType = fieldName.substr(0, 2);
		var sliceName = fieldName.substring(2);
		return store.getTiddlerText("%0%1%2".format(t.title,sliceType,sliceName));
	} else {
		fieldName = fieldName.toLowerCase();
		var accessor = TiddlyWiki.standardFieldAccess[fieldName];
		if(accessor) {
			return accessor.get(t);
		}
	}
	return t.fields[fieldName];
};

// Calls the callback function for every field in the tiddler.
// When callback function returns a non-false value the iteration stops
// and that value is returned.
// The order of the fields is not defined.
// @param callback a function(tiddler,fieldName,value).
TiddlyWiki.prototype.forEachField = function(tiddler,callback,onlyExtendedFields)
{
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return undefined;
	var n,result;
	for(n in t.fields) {
		result = callback(t,n,t.fields[n]);
		if(result)
			return result;
		}
	if(onlyExtendedFields)
		return undefined;
	for(n in TiddlyWiki.standardFieldAccess) {
		if(n != "tiddler") {
			// even though the "title" field can also be referenced through the name "tiddler"
			// we only visit this field once.
			result = callback(t,n,TiddlyWiki.standardFieldAccess[n].get(t));
			if(result)
				return result;
		}
	}
	return undefined;
};

//--
//-- Story functions
//--

function Story(containerId,idPrefix)
{
	this.container = containerId;
	this.idPrefix = idPrefix;
	this.highlightRegExp = null;
	this.tiddlerId = function(title) {
		title = title.replace(/_/g, "__").replace(/ /g, "_");
		var id = this.idPrefix + title;
		return id==this.container ? this.idPrefix + "_" + title : id;
	};
	this.containerId = function() {
		return this.container;
	};
}

Story.prototype.getTiddler = function(title)
{
	return document.getElementById(this.tiddlerId(title));
};

Story.prototype.getContainer = function()
{
	return document.getElementById(this.containerId());
};

Story.prototype.forEachTiddler = function(fn)
{
	var place = this.getContainer();
	if(!place)
		return;
	var e = place.firstChild;
	while(e) {
		var n = e.nextSibling;
		var title = e.getAttribute("tiddler");
		if(title) {
			fn.call(this,title,e);
		}
		e = n;
	}
};

Story.prototype.displayDefaultTiddlers = function()
{
	this.displayTiddlers(null,store.filterTiddlers(store.getTiddlerText("DefaultTiddlers")));
};

Story.prototype.displayTiddlers = function(srcElement,titles,template,animate,unused,customFields,toggle)
{
	var t;
	for(t = titles.length-1;t>=0;t--)
		this.displayTiddler(srcElement,titles[t],template,animate,unused,customFields);
};

Story.prototype.displayTiddler = function(srcElement,tiddler,template,animate,unused,customFields,toggle,animationSrc)
{
	var title = (tiddler instanceof Tiddler) ? tiddler.title : tiddler;
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		if(toggle) {
			if(tiddlerElem.getAttribute("dirty") != "true")
				this.closeTiddler(title,true);
		} else {
			this.refreshTiddler(title,template,false,customFields);
		}
	} else {
		var place = this.getContainer();
		var before = this.positionTiddler(srcElement);
		tiddlerElem = this.createTiddler(place,before,title,template,customFields);
	}
	if(animationSrc && typeof animationSrc !== "string") {
		srcElement = animationSrc;
	}
	if(srcElement && typeof srcElement !== "string") {
		if(config.options.chkAnimate && (animate == undefined || animate == true) && anim && typeof Zoomer == "function" && typeof Scroller == "function")
			anim.startAnimating(new Zoomer(title,srcElement,tiddlerElem),new Scroller(tiddlerElem));
		else
			window.scrollTo(0,ensureVisible(tiddlerElem));
	}
	return tiddlerElem;
};

Story.prototype.positionTiddler = function(srcElement)
{
	var place = this.getContainer();
	var before = null;
	if(typeof srcElement == "string") {
		switch(srcElement) {
		case "top":
			before = place.firstChild;
			break;
		case "bottom":
			before = null;
			break;
		}
	} else {
		var after = this.findContainingTiddler(srcElement);
		if(after == null) {
			before = place.firstChild;
		} else if(after.nextSibling) {
			before = after.nextSibling;
			if(before.nodeType != 1)
				before = null;
		}
	}
	return before;
};

Story.prototype.createTiddler = function(place,before,title,template,customFields)
{
	var tiddlerElem = createTiddlyElement(null,"div",this.tiddlerId(title),"tiddler");
	tiddlerElem.setAttribute("refresh","tiddler");
	if(customFields)
		tiddlerElem.setAttribute("tiddlyFields",customFields);
	place.insertBefore(tiddlerElem,before);
	var defaultText = null;
	if(!store.tiddlerExists(title) && !store.isShadowTiddler(title))
		defaultText = this.loadMissingTiddler(title,customFields);
	this.refreshTiddler(title,template,false,customFields,defaultText);
	return tiddlerElem;
};

Story.prototype.loadMissingTiddler = function(title,fields,callback)
{
	var getTiddlerCallback = function(context)
	{
		if(context.status) {
			var t = context.tiddler;
			if(!t.created)
				t.created = new Date();
			if(!t.modified)
				t.modified = t.created;
			var dirty = store.isDirty();
			context.tiddler = store.saveTiddler(t.title,t.title,t.text,t.modifier,t.modified,t.tags,t.fields,true,t.created,t.creator);
			if(!window.allowSave())
				store.setDirty(dirty);
			autoSaveChanges();
		} else {
			story.refreshTiddler(context.title,null,true);
		}
		context.adaptor.close();
		if(callback) {
			callback(context);
		}
	};
	var tiddler = new Tiddler(title);
	tiddler.fields = typeof fields == "string" ? fields.decodeHashMap() : fields||{};
	var context = {serverType:tiddler.getServerType()};
	if(!context.serverType)
		return "";
	context.host = tiddler.fields['server.host'];
	context.workspace = tiddler.fields['server.workspace'];
	var adaptor = new config.adaptors[context.serverType]();
	adaptor.getTiddler(title,context,null,getTiddlerCallback);
	return config.messages.loadingMissingTiddler.format([title,context.serverType,context.host,context.workspace]);
};

Story.prototype.chooseTemplateForTiddler = function(title,template)
{
	if(!template)
		template = DEFAULT_VIEW_TEMPLATE;
	if(template == DEFAULT_VIEW_TEMPLATE || template == DEFAULT_EDIT_TEMPLATE)
		template = config.tiddlerTemplates[template];
	return template;
};

Story.prototype.getTemplateForTiddler = function(title,template,tiddler)
{
	return store.getRecursiveTiddlerText(template,null,10);
};

Story.prototype.refreshTiddler = function(title,template,force,customFields,defaultText)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		if(tiddlerElem.getAttribute("dirty") == "true" && !force)
			return tiddlerElem;
		template = this.chooseTemplateForTiddler(title,template);
		var currTemplate = tiddlerElem.getAttribute("template");
		if((template != currTemplate) || force) {
			var tiddler = store.getTiddler(title);
			if(!tiddler) {
				tiddler = new Tiddler();
				if(store.isShadowTiddler(title)) {
					var tags = [];
					tiddler.set(title,store.getTiddlerText(title),config.views.wikified.shadowModifier,version.date,tags,version.date);
				} else {
					var text = template=="EditTemplate" ?
								config.views.editor.defaultText.format([title]) :
								config.views.wikified.defaultText.format([title]);
					text = defaultText || text;
					var fields = customFields ? customFields.decodeHashMap() : null;
					tiddler.set(title,text,config.views.wikified.defaultModifier,version.date,[],version.date,fields);
				}
			}
			tiddlerElem.setAttribute("tags",tiddler.tags.join(" "));
			tiddlerElem.setAttribute("tiddler",title);
			tiddlerElem.setAttribute("template",template);
			tiddlerElem.onmouseover = this.onTiddlerMouseOver;
			tiddlerElem.onmouseout = this.onTiddlerMouseOut;
			tiddlerElem.ondblclick = this.onTiddlerDblClick;
			tiddlerElem[window.event?"onkeydown":"onkeypress"] = this.onTiddlerKeyPress;
			tiddlerElem.innerHTML = this.getTemplateForTiddler(title,template,tiddler);
			applyHtmlMacros(tiddlerElem,tiddler);
			if(store.getTaggedTiddlers(title).length > 0)
				jQuery(tiddlerElem).addClass("isTag");
			else
				jQuery(tiddlerElem).removeClass("isTag");
			if(store.tiddlerExists(title)) {
				jQuery(tiddlerElem).removeClass("shadow");
				jQuery(tiddlerElem).removeClass("missing");
			} else {
				jQuery(tiddlerElem).addClass(store.isShadowTiddler(title) ? "shadow" : "missing");
			}
			if(customFields)
				this.addCustomFields(tiddlerElem,customFields);
		}
	}
	return tiddlerElem;
};

Story.prototype.addCustomFields = function(place,customFields)
{
	var fields = customFields.decodeHashMap();
	var w = createTiddlyElement(place,"div",null,"customFields");
	w.style.display = "none";
	var t;
	for(t in fields) {
		var e = document.createElement("input");
		e.setAttribute("type","text");
		e.setAttribute("value",fields[t]);
		w.appendChild(e);
		e.setAttribute("edit",t);
	}
};

Story.prototype.refreshAllTiddlers = function(force)
{
	var e = this.getContainer().firstChild;
	while(e) {
		var template = e.getAttribute("template");
		if(template && e.getAttribute("dirty") != "true") {
			this.refreshTiddler(e.getAttribute("tiddler"),force ? null : template,true);
		}
		e = e.nextSibling;
	}
};

Story.prototype.onTiddlerMouseOver = function(e)
{
	jQuery(this).addClass("selected");
};

Story.prototype.onTiddlerMouseOut = function(e)
{
	jQuery(this).removeClass("selected");
};

Story.prototype.onTiddlerDblClick = function(ev)
{
	var e = ev || window.event;
	var target = resolveTarget(e);
	if(target && target.nodeName.toLowerCase() != "input" && target.nodeName.toLowerCase() != "textarea") {
		if(document.selection && document.selection.empty)
			document.selection.empty();
		config.macros.toolbar.invokeCommand(this,"defaultCommand",e);
		e.cancelBubble = true;
		if(e.stopPropagation) e.stopPropagation();
		return true;
	}
	return false;
};

Story.prototype.onTiddlerKeyPress = function(ev)
{
	var e = ev || window.event;
	clearMessage();
	var consume = false;
	var title = this.getAttribute("tiddler");
	var target = resolveTarget(e);
	switch(e.keyCode) {
	case 9: // Tab
		var ed = story.getTiddlerField(title,"text");
		if(target.tagName.toLowerCase() == "input" && ed.value==config.views.editor.defaultText.format([title])) {
			// moving from input field and editor still contains default text, so select it
			ed.focus();
			ed.select();
			consume = true;
		}
		if(config.options.chkInsertTabs && target.tagName.toLowerCase() == "textarea") {
			replaceSelection(target,String.fromCharCode(9));
			consume = true;
		}
		if(config.isOpera) {
			target.onblur = function() {
				this.focus();
				this.onblur = null;
			};
		}
		break;
	case 13: // Ctrl-Enter
	case 10: // Ctrl-Enter on IE PC
	case 77: // Ctrl-Enter is "M" on some platforms
		if(e.ctrlKey) {
			blurElement(this);
			config.macros.toolbar.invokeCommand(this,"defaultCommand",e);
			consume = true;
		}
		break;
	case 27: // Escape
		blurElement(this);
		config.macros.toolbar.invokeCommand(this,"cancelCommand",e);
		consume = true;
		break;
	}
	e.cancelBubble = consume;
	if(consume) {
		if(e.stopPropagation) e.stopPropagation(); // Stop Propagation
		e.returnValue = true; // Cancel The Event in IE
		if(e.preventDefault ) e.preventDefault(); // Cancel The Event in Moz
	}
	return !consume;
};

Story.prototype.getTiddlerField = function(title,field)
{
	var tiddlerElem = this.getTiddler(title);
	var e = null;
	if(tiddlerElem) {
		var t,children = tiddlerElem.getElementsByTagName("*");
		for(t=0; t<children.length; t++) {
			var c = children[t];
			if(c.tagName.toLowerCase() == "input" || c.tagName.toLowerCase() == "textarea") {
				if(!e)
					e = c;
				if(c.getAttribute("edit") == field)
					e = c;
			}
		}
	}
	return e;
};

Story.prototype.focusTiddler = function(title,field)
{
	var e = this.getTiddlerField(title,field);
	if(e) {
		e.focus();
		e.select();
	}
};

Story.prototype.blurTiddler = function(title)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem && tiddlerElem.focus && tiddlerElem.blur) {
		tiddlerElem.focus();
		tiddlerElem.blur();
	}
};

Story.prototype.setTiddlerField = function(title,tag,mode,field)
{
	var c = this.getTiddlerField(title,field);
	var tags = c.value.readBracketedList();
	tags.setItem(tag,mode);
	c.value = String.encodeTiddlyLinkList(tags);
};

Story.prototype.setTiddlerTag = function(title,tag,mode)
{
	this.setTiddlerField(title,tag,mode,"tags");
};

Story.prototype.closeTiddler = function(title,animate,unused)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		clearMessage();
		this.scrubTiddler(tiddlerElem);
		if(config.options.chkAnimate && animate && anim && typeof Slider == "function")
			anim.startAnimating(new Slider(tiddlerElem,false,null,"all"));
		else {
			jQuery(tiddlerElem).remove();
		}
	}
};

Story.prototype.scrubTiddler = function(tiddlerElem)
{
	tiddlerElem.id = null;
};

Story.prototype.setDirty = function(title,dirty)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem)
		tiddlerElem.setAttribute("dirty",dirty ? "true" : "false");
};

Story.prototype.isDirty = function(title)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem)
		return tiddlerElem.getAttribute("dirty") == "true";
	return null;
};

Story.prototype.areAnyDirty = function()
{
	var r = false;
	this.forEachTiddler(function(title,element) {
		if(this.isDirty(title))
			r = true;
	});
	return r;
};

Story.prototype.closeAllTiddlers = function(exclude)
{
	clearMessage();
	this.forEachTiddler(function(title,element) {
		if((title != exclude) && element.getAttribute("dirty") != "true")
			this.closeTiddler(title);
	});
	window.scrollTo(0,ensureVisible(this.container));
};

Story.prototype.isEmpty = function()
{
	var place = this.getContainer();
	return place && place.firstChild == null;
};

Story.prototype.search = function(text,useCaseSensitive,useRegExp)
{
	this.closeAllTiddlers();
	highlightHack = new RegExp(useRegExp ? text : text.escapeRegExp(),useCaseSensitive ? "mg" : "img");
	var matches = store.search(highlightHack,"title","excludeSearch");
	this.displayTiddlers(null,matches);
	highlightHack = null;
	var q = useRegExp ? "/" : "'";
	if(matches.length > 0)
		displayMessage(config.macros.search.successMsg.format([matches.length.toString(),q + text + q]));
	else
		displayMessage(config.macros.search.failureMsg.format([q + text + q]));
};

Story.prototype.findContainingTiddler = function(e)
{
	while(e && !jQuery(e).hasClass("tiddler")) {
		e = jQuery(e).hasClass("popup") && Popup.stack[0] ? Popup.stack[0].root : e.parentNode;
	}
	return e;
};

Story.prototype.gatherSaveFields = function(e,fields)
{
	if(e && e.getAttribute) {
		var f = e.getAttribute("edit");
		if(f)
			fields[f] = e.value.replace(/\r/mg,"");
		if(e.hasChildNodes()) {
			var t,c = e.childNodes;
			for(t=0; t<c.length; t++)
				this.gatherSaveFields(c[t],fields);
		}
	}
};

Story.prototype.hasChanges = function(title)
{
	var e = this.getTiddler(title);
	if(e) {
		var fields = {};
		this.gatherSaveFields(e,fields);
		if(store.fetchTiddler(title)) {
		    var n;
			for(n in fields) {
				if(store.getValue(title,n) != fields[n]) //# tiddler changed
					return true;
			}
		} else {
			if(store.isShadowTiddler(title) && store.getShadowTiddlerText(title) == fields.text) { //# not checking for title or tags
				return false;
			} else { //# changed shadow or new tiddler
				return true;
			}
		}
	}
	return false;
};

Story.prototype.saveTiddler = function(title,minorUpdate)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		var fields = {};
		this.gatherSaveFields(tiddlerElem,fields);
		var newTitle = fields.title || title;
		if(!store.tiddlerExists(newTitle)) {
			newTitle = newTitle.trim();
			var creator = config.options.txtUserName;
		}
		if(store.tiddlerExists(newTitle) && newTitle != title) {
			if(!confirm(config.messages.overwriteWarning.format([newTitle.toString()])))
				return null;
				title = newTitle;
		}
		if(newTitle != title)
			this.closeTiddler(newTitle,false);
		tiddlerElem.id = this.tiddlerId(newTitle);
		tiddlerElem.setAttribute("tiddler",newTitle);
		tiddlerElem.setAttribute("template",DEFAULT_VIEW_TEMPLATE);
		tiddlerElem.setAttribute("dirty","false");
		if(config.options.chkForceMinorUpdate)
			minorUpdate = !minorUpdate;
		if(!store.tiddlerExists(newTitle))
			minorUpdate = false;
		var newDate = new Date();
		if(store.tiddlerExists(title)) {
			var t = store.fetchTiddler(title);
			var extendedFields = t.fields;
			creator = t.creator;
		} else {
			extendedFields = merge({},config.defaultCustomFields);
		}
		var n;
		for(n in fields) {
			if(!TiddlyWiki.isStandardField(n))
				extendedFields[n] = fields[n];
		}
		var tiddler = store.saveTiddler(title,newTitle,fields.text,minorUpdate ? undefined : config.options.txtUserName,minorUpdate ? undefined : newDate,fields.tags,extendedFields,null,null,creator);
		autoSaveChanges(null,[tiddler]);
		return newTitle;
	}
	return null;
};

Story.prototype.permaView = function()
{
	var links = [];
	this.forEachTiddler(function(title,element) {
		links.push(String.encodeTiddlyLink(title));
	});
	var t = encodeURIComponent(links.join(" "));
	if(t == "")
		t = "#";
	if(window.location.hash != t)
		window.location.hash = t;
};

Story.prototype.switchTheme = function(theme)
{
	if(safeMode)
		return;

	var getSlice = function(theme,slice) {
		var r;
		if(readOnly)
			r = store.getTiddlerSlice(theme,slice+"ReadOnly") || store.getTiddlerSlice(theme,"Web"+slice);
		r = r || store.getTiddlerSlice(theme,slice);
		if(r && r.indexOf(config.textPrimitives.sectionSeparator)==0)
			r = theme + r;
		return store.isAvailable(r) ? r : slice;
	};

	var replaceNotification = function(i,name,theme,slice) {
		var newName = getSlice(theme,slice);
		if(name!=newName && store.namedNotifications[i].name==name) {
			store.namedNotifications[i].name = newName;
			return newName;
		}
		return name;
	};

	var pt = config.refresherData.pageTemplate;
	var vi = DEFAULT_VIEW_TEMPLATE;
	var vt = config.tiddlerTemplates[vi];
	var ei = DEFAULT_EDIT_TEMPLATE;
	var et = config.tiddlerTemplates[ei];

	var i;
	for(i=0; i<config.notifyTiddlers.length; i++) {
		var name = config.notifyTiddlers[i].name;
		switch(name) {
		case "PageTemplate":
			config.refresherData.pageTemplate = replaceNotification(i,config.refresherData.pageTemplate,theme,name);
			break;
		case "StyleSheet":
			removeStyleSheet(config.refresherData.styleSheet);
			config.refresherData.styleSheet = replaceNotification(i,config.refresherData.styleSheet,theme,name);
			break;
		case "ColorPalette":
			config.refresherData.colorPalette = replaceNotification(i,config.refresherData.colorPalette,theme,name);
			break;
		default:
			break;
		}
	}
	config.tiddlerTemplates[vi] = getSlice(theme,"ViewTemplate");
	config.tiddlerTemplates[ei] = getSlice(theme,"EditTemplate");
	if(!startingUp) {
		if(config.refresherData.pageTemplate!=pt || config.tiddlerTemplates[vi]!=vt || config.tiddlerTemplates[ei]!=et) {
			refreshAll();
			this.refreshAllTiddlers(true);
		} else {
			setStylesheet(store.getRecursiveTiddlerText(config.refresherData.styleSheet,"",10),config.refreshers.styleSheet);
		}
		config.options.txtTheme = theme;
		saveOption("txtTheme");
	}
};

//--
//-- Backstage
//--
// Backstage tasks
config.tasks.save.action = saveChanges;

var backstage = {
	area: null,
	toolbar: null,
	button: null,
	showButton: null,
	hideButton: null,
	cloak: null,
	panel: null,
	panelBody: null,
	panelFooter: null,
	currTabName: null,
	currTabElem: null,
	content: null,

	init: function() {
		var cmb = config.messages.backstage;
		this.area = document.getElementById("backstageArea");
		this.toolbar = jQuery("#backstageToolbar").empty()[0];
		this.button = jQuery("#backstageButton").empty()[0];
		this.button.style.display = "block";
		var t = cmb.open.text + " " + glyph("bentArrowLeft");
		this.showButton = createTiddlyButton(this.button,t,cmb.open.tooltip,
						function(e) {backstage.show(); return false;},null,"backstageShow");
		t = glyph("bentArrowRight") + " " + cmb.close.text;
		this.hideButton = createTiddlyButton(this.button,t,cmb.close.tooltip,
						function(e) {backstage.hide(); return false;},null,"backstageHide");
		this.cloak = document.getElementById("backstageCloak");
		this.panel = document.getElementById("backstagePanel");
		this.panelFooter = createTiddlyElement(this.panel,"div",null,"backstagePanelFooter");
		this.panelBody = createTiddlyElement(this.panel,"div",null,"backstagePanelBody");
		this.cloak.onmousedown = function(e) {backstage.switchTab(null);};
		createTiddlyText(this.toolbar,cmb.prompt);
		for(t=0; t<config.backstageTasks.length; t++) {
			var taskName = config.backstageTasks[t];
			var task = config.tasks[taskName];
			var handler = task.action ? this.onClickCommand : this.onClickTab;
			var text = task.text + (task.action ? "" : glyph("downTriangle"));
			var btn = createTiddlyButton(this.toolbar,text,task.tooltip,handler,"backstageTab");
			jQuery(btn).addClass(task.action ? "backstageAction" : "backstageTask");
			btn.setAttribute("task", taskName);
			}
		this.content = document.getElementById("contentWrapper");
		if(config.options.chkBackstage)
			this.show();
		else
			this.hide();
	},

	isVisible: function() {
		return this.area ? this.area.style.display == "block" : false;
	},

	show: function() {
		this.area.style.display = "block";
		if(anim && config.options.chkAnimate) {
			backstage.toolbar.style.left = findWindowWidth() + "px";
			var p = [{style: "left", start: findWindowWidth(), end: 0, template: "%0px"}];
			anim.startAnimating(new Morpher(backstage.toolbar,config.animDuration,p));
		} else {
			backstage.area.style.left = "0px";
		}
		jQuery(this.showButton).hide();
		jQuery(this.hideButton).show();
		config.options.chkBackstage = true;
		saveOption("chkBackstage");
		jQuery(this.content).addClass("backstageVisible");
	},

	hide: function() {
		if(this.currTabElem) {
			this.switchTab(null);
		} else {
			backstage.toolbar.style.left = "0px";
			if(anim && config.options.chkAnimate) {
				var p = [{style: "left", start: 0, end: findWindowWidth(), template: "%0px"}];
				var c = function(element,properties) {backstage.area.style.display = "none";};
				anim.startAnimating(new Morpher(backstage.toolbar,config.animDuration,p,c));
			} else {
				this.area.style.display = "none";
			}
			this.showButton.style.display = "block";
			this.hideButton.style.display = "none";
			config.options.chkBackstage = false;
			saveOption("chkBackstage");
			jQuery(this.content).removeClass("backstageVisible");
		}
	},

	onClickCommand: function(e) {
		var task = config.tasks[this.getAttribute("task")];
		if(task.action) {
			backstage.switchTab(null);
			task.action();
		}
		return false;
	},

	onClickTab: function(e) {
		backstage.switchTab(this.getAttribute("task"));
		return false;
	},

	// Switch to a given tab, or none if null is passed
	switchTab: function(tabName) {
		var tabElem = null;
		var e = this.toolbar.firstChild;
		while(e) {
			if(e.getAttribute && e.getAttribute("task") == tabName)
				tabElem = e;
			e = e.nextSibling;
		}
		if(tabName == backstage.currTabName) {
			backstage.hidePanel();
			return;
		}
		if(backstage.currTabElem) {
			jQuery(this.currTabElem).removeClass("backstageSelTab");
		}
		if(tabElem && tabName) {
			backstage.preparePanel();
			jQuery(tabElem).addClass("backstageSelTab");
			var task = config.tasks[tabName];
			wikify(task.content,backstage.panelBody,null,null);
			backstage.showPanel();
		} else if(backstage.currTabElem) {
			backstage.hidePanel();
		}
		backstage.currTabName = tabName;
		backstage.currTabElem = tabElem;
	},

	isPanelVisible: function() {
		return backstage.panel ? backstage.panel.style.display == "block" : false;
	},

	preparePanel: function() {
		backstage.cloak.style.height = findDocHeight() + "px";
		backstage.cloak.style.display = "block";
		jQuery(backstage.panelBody).empty();
		return backstage.panelBody;
	},

	showPanel: function() {
		backstage.panel.style.display = "block";
		if(anim && config.options.chkAnimate) {
			backstage.panel.style.top = (-backstage.panel.offsetHeight) + "px";
			var p = [{style: "top", start: -backstage.panel.offsetHeight, end: 0, template: "%0px"}];
			anim.startAnimating(new Morpher(backstage.panel,config.animDuration,p),new Scroller(backstage.panel,false));
		} else {
			backstage.panel.style.top = "0px";
		}
		return backstage.panelBody;
	},

	hidePanel: function() {
		if(backstage.currTabElem)
			jQuery(backstage.currTabElem).removeClass("backstageSelTab");
		backstage.currTabElem = null;
		backstage.currTabName = null;
		if(anim && config.options.chkAnimate) {
			var p = [
				{style: "top", start: 0, end: -(backstage.panel.offsetHeight), template: "%0px"},
				{style: "display", atEnd: "none"}
			];
			var c = function(element,properties) {backstage.cloak.style.display = "none";};
			anim.startAnimating(new Morpher(backstage.panel,config.animDuration,p,c));
		} else {
			jQuery([backstage.panel,backstage.cloak]).hide();
		}
	}
};

config.macros.backstage = {};

config.macros.backstage.handler = function(place,macroName,params)
{
	var backstageTask = config.tasks[params[0]];
	if(backstageTask)
		createTiddlyButton(place,backstageTask.text,backstageTask.tooltip,function(e) {backstage.switchTab(params[0]); return false;});
};

//--
//-- ImportTiddlers macro
//--

config.macros.importTiddlers.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(readOnly) {
		createTiddlyElement(place,"div",null,"marked",this.readOnlyWarning);
		return;
	}
	var w = new Wizard();
	w.createWizard(place,this.wizardTitle);
	this.restart(w);
};

config.macros.importTiddlers.onCancel = function(e)
{
	var wizard = new Wizard(this);
	wizard.clear();
	config.macros.importTiddlers.restart(wizard);
	return false;
};

config.macros.importTiddlers.onClose = function(e)
{
	backstage.hidePanel();
	return false;
};

config.macros.importTiddlers.restart = function(wizard)
{
	var me = config.macros.importTiddlers;
	wizard.addStep(this.step1Title,this.step1Html);
	var t,s = wizard.getElement("selTypes");
	for(t in config.adaptors) {
		var e = createTiddlyElement(s,"option",null,null,config.adaptors[t].serverLabel || t);
		e.value = t;
	}
	if(config.defaultAdaptor)
		s.value = config.defaultAdaptor;
	s = wizard.getElement("selFeeds");
	var feeds = this.getFeeds();
	for(t in feeds) {
		e = createTiddlyElement(s,"option",null,null,t);
		e.value = t;
	}
	wizard.setValue("feeds",feeds);
	s.onchange = me.onFeedChange;
	var fileInput = wizard.getElement("txtBrowse");
	fileInput.onchange = me.onBrowseChange;
	fileInput.onkeyup = me.onBrowseChange;
	wizard.setButtons([{caption: this.openLabel, tooltip: this.openPrompt, onClick: me.onOpen}]);
	wizard.formElem.action = "javascript:;";
	wizard.formElem.onsubmit = function() {
		if(!this.txtPath || this.txtPath.value.length) //# check for manually entered path in first step
			this.lastChild.firstChild.onclick();
	};
};

config.macros.importTiddlers.getFeeds = function()
{
	var feeds = {};
	var t,tagged = store.getTaggedTiddlers("systemServer","title");
	for(t=0; t<tagged.length; t++) {
		var title = tagged[t].title;
		var serverType = store.getTiddlerSlice(title,"Type");
		if(!serverType)
			serverType = "file";
		feeds[title] = {title: title,
						url: store.getTiddlerSlice(title,"URL"),
						workspace: store.getTiddlerSlice(title,"Workspace"),
						workspaceList: store.getTiddlerSlice(title,"WorkspaceList"),
						tiddlerFilter: store.getTiddlerSlice(title,"TiddlerFilter"),
						serverType: serverType,
						description: store.getTiddlerSlice(title,"Description")};
	}
	return feeds;
};

config.macros.importTiddlers.onFeedChange = function(e)
{
	var wizard = new Wizard(this);
	var selTypes = wizard.getElement("selTypes");
	var fileInput = wizard.getElement("txtPath");
	var feeds = wizard.getValue("feeds");
	var f = feeds[this.value];
	if(f) {
		selTypes.value = f.serverType;
		fileInput.value = f.url;
		wizard.setValue("feedName",f.serverType);
		wizard.setValue("feedHost",f.url);
		wizard.setValue("feedWorkspace",f.workspace);
		wizard.setValue("feedWorkspaceList",f.workspaceList);
		wizard.setValue("feedTiddlerFilter",f.tiddlerFilter);
	}
	return false;
};

config.macros.importTiddlers.onBrowseChange = function(e)
{
	var wizard = new Wizard(this);
	var file = this.value;
	file = file.replace(/^C:\\fakepath\\/i,''); // remove fakepath (chrome/opera/safari)
	if(this.files && this.files[0]) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalFileRead");
			file = this.files[0].fileName; // REQUIRES PRIVILEGES.. NULL otherwise
		} catch (ex) {
			// non-priv fallback: combine filename with path to current document
			var path=getLocalPath(document.location.href);
			var slashpos=path.lastIndexOf('/'); if (slashpos==-1) slashpos=path.lastIndexOf('\\'); 
			if (slashpos!=-1) path=path.substr(0,slashpos+1); // remove filename, leave trailing 	slash
			file=path+file;
		}
	}
	var fileInput = wizard.getElement("txtPath");
	fileInput.value = config.macros.importTiddlers.getURLFromLocalPath(file);
	var serverType = wizard.getElement("selTypes");
	serverType.value = "file";
	return true;
};

config.macros.importTiddlers.getURLFromLocalPath = function(v)
{
	if(!v || !v.length)
		return v;
	v = v.replace(/\\/g,"/"); // use "/" for cross-platform consistency
	var u;
	var t = v.split(":");
	var p = t[1] || t[0]; // remove drive letter (if any)
	if(t[1] && (t[0] == "http" || t[0] == "https" || t[0] == "file")) {
		u = v;
	} else if(p.substr(0,1)=="/") {
		u = document.location.protocol + "//" + document.location.hostname + (t[1] ? "/" : "") + v;
	} else {
		var c = document.location.href.replace(/\\/g,"/");
		var pos = c.lastIndexOf("/");
		if(pos!=-1)
			c = c.substr(0,pos); // remove filename
		u = c + "/" + p;
	}
	return u;
};

config.macros.importTiddlers.onOpen = function(e)
{
	var me = config.macros.importTiddlers;
	var wizard = new Wizard(this);
	var fileInput = wizard.getElement("txtPath");
	var url = fileInput.value;
	var serverType = wizard.getElement("selTypes").value || config.defaultAdaptor;
	var adaptor = new config.adaptors[serverType]();
	wizard.setValue("adaptor",adaptor);
	wizard.setValue("serverType",serverType);
	wizard.setValue("host",url);
	adaptor.openHost(url,null,wizard,me.onOpenHost);
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusOpenHost);
	return false;
};

config.macros.importTiddlers.onOpenHost = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	var adaptor = wizard.getValue("adaptor");
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onOpenHost: " + context.statusText);
	adaptor.getWorkspaceList(context,wizard,me.onGetWorkspaceList);
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusGetWorkspaceList);
};

config.macros.importTiddlers.onGetWorkspaceList = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onGetWorkspaceList: " + context.statusText);
	wizard.setValue("context",context);
	var workspace = wizard.getValue("feedWorkspace");
	if(!workspace && context.workspaces.length==1)
		workspace = context.workspaces[0].title;
	if(workspace) {
		context.adaptor.openWorkspace(workspace,context,wizard,me.onOpenWorkspace);
		wizard.setValue("workspace",workspace);
		wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusOpenWorkspace);
		return;
	}
	wizard.addStep(me.step2Title,me.step2Html);
	var t,s = wizard.getElement("selWorkspace");
	s.onchange = me.onWorkspaceChange;
	for(t=0; t<context.workspaces.length; t++) {
		var e = createTiddlyElement(s,"option",null,null,context.workspaces[t].title);
		e.value = context.workspaces[t].title;
	}
	var workspaceList = wizard.getValue("feedWorkspaceList");
	if(workspaceList) {
		var n,list = workspaceList.parseParams("workspace",null,false,true);
		for(n=1; n<list.length; n++) {
			if(context.workspaces.findByField("title",list[n].value) == null) {
				e = createTiddlyElement(s,"option",null,null,list[n].value);
				e.value = list[n].value;
			}
		}
	}
	if(workspace) {
		t = wizard.getElement("txtWorkspace");
		t.value = workspace;
	}
	wizard.setButtons([{caption: me.openLabel, tooltip: me.openPrompt, onClick: me.onChooseWorkspace}]);
};

config.macros.importTiddlers.onWorkspaceChange = function(e)
{
	var wizard = new Wizard(this);
	var t = wizard.getElement("txtWorkspace");
	t.value = this.value;
	this.selectedIndex = 0;
	return false;
};

config.macros.importTiddlers.onChooseWorkspace = function(e)
{
	var me = config.macros.importTiddlers;
	var wizard = new Wizard(this);
	var adaptor = wizard.getValue("adaptor");
	var workspace = wizard.getElement("txtWorkspace").value;
	wizard.setValue("workspace",workspace);
	var context = wizard.getValue("context");
	adaptor.openWorkspace(workspace,context,wizard,me.onOpenWorkspace);
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusOpenWorkspace);
	return false;
};

config.macros.importTiddlers.onOpenWorkspace = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onOpenWorkspace: " + context.statusText);
	var adaptor = wizard.getValue("adaptor");
	var browse=wizard.getElement("txtBrowse");
	if (browse.files) context.file=browse.files[0]; // for HTML5 FileReader
	adaptor.getTiddlerList(context,wizard,me.onGetTiddlerList,wizard.getValue("feedTiddlerFilter"));
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusGetTiddlerList);
};

config.macros.importTiddlers.onGetTiddlerList = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(context.status !== true) {
		var error = context.statusText||me.errorGettingTiddlerList;
		if(context.host.indexOf("file://") === 0) {
			error = me.errorGettingTiddlerListFile;
		} else {
			error = context.xhr && context.xhr.status == 404 ? me.errorGettingTiddlerListHttp404 :
				me.errorGettingTiddlerListHttp;
		}
		wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],"");
		jQuery("span.status", wizard.footerEl).html(error); // so error message can be html
		return;
	}
	// Extract data for the listview
	var listedTiddlers = [];
	if(context.tiddlers) {
		var n;
		for(n=0; n<context.tiddlers.length; n++) {
			var tiddler = context.tiddlers[n];
			listedTiddlers.push({
				title: tiddler.title,
				modified: tiddler.modified,
				modifier: tiddler.modifier,
				text: tiddler.text ? wikifyPlainText(tiddler.text,100) : "",
				tags: tiddler.tags,
				size: tiddler.text ? tiddler.text.length : 0,
				tiddler: tiddler
			});
		}
	}
	listedTiddlers.sort(function(a,b) {return a.title < b.title ? -1 : (a.title == b.title ? 0 : +1);});
	// Display the listview
	wizard.addStep(me.step3Title,me.step3Html);
	var markList = wizard.getElement("markList");
	var listWrapper = document.createElement("div");
	markList.parentNode.insertBefore(listWrapper,markList);
	var listView = ListView.create(listWrapper,listedTiddlers,me.listViewTemplate);
	wizard.setValue("listView",listView);
	wizard.setValue("context",context);
	var txtSaveTiddler = wizard.getElement("txtSaveTiddler");
	txtSaveTiddler.value = me.generateSystemServerName(wizard);
	wizard.setButtons([
			{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel},
			{caption: me.importLabel, tooltip: me.importPrompt, onClick: me.doImport}
		]);
};

config.macros.importTiddlers.generateSystemServerName = function(wizard)
{
	var serverType = wizard.getValue("serverType");
	var host = wizard.getValue("host");
	var workspace = wizard.getValue("workspace");
	var pattern = config.macros.importTiddlers[workspace ? "systemServerNamePattern" : "systemServerNamePatternNoWorkspace"];
	return pattern.format([serverType,host,workspace]);
};

config.macros.importTiddlers.saveServerTiddler = function(wizard)
{
	var me = config.macros.importTiddlers;
	var txtSaveTiddler = wizard.getElement("txtSaveTiddler").value;
	if(store.tiddlerExists(txtSaveTiddler)) {
		if(!confirm(me.confirmOverwriteSaveTiddler.format([txtSaveTiddler])))
			return;
		store.suspendNotifications();
		store.removeTiddler(txtSaveTiddler);
		store.resumeNotifications();
	}
	var serverType = wizard.getValue("serverType");
	var host = wizard.getValue("host");
	var workspace = wizard.getValue("workspace");
	var text = me.serverSaveTemplate.format([serverType,host,workspace]);
	store.saveTiddler(txtSaveTiddler,txtSaveTiddler,text,me.serverSaveModifier,new Date(),["systemServer"]);
};

config.macros.importTiddlers.doImport = function(e)
{
	var me = config.macros.importTiddlers;
	var wizard = new Wizard(this);
	if(wizard.getElement("chkSave").checked)
		me.saveServerTiddler(wizard);
	var chkSync = wizard.getElement("chkSync").checked;
	wizard.setValue("sync",chkSync);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	var adaptor = wizard.getValue("adaptor");
	var overwrite = [];
	var t;
	for(t=0; t<rowNames.length; t++) {
		if(store.tiddlerExists(rowNames[t]))
			overwrite.push(rowNames[t]);
	}
	if(overwrite.length > 0) {
		if(!confirm(me.confirmOverwriteText.format([overwrite.join(", ")])))
			return false;
	}
	wizard.addStep(me.step4Title.format([rowNames.length]),me.step4Html);
	for(t=0; t<rowNames.length; t++) {
		var link = document.createElement("div");
		createTiddlyLink(link,rowNames[t],true);
		var place = wizard.getElement("markReport");
		place.parentNode.insertBefore(link,place);
	}
	wizard.setValue("remainingImports",rowNames.length);
	wizard.setButtons([
			{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}
		],me.statusDoingImport);
	var wizardContext = wizard.getValue("context");
	var tiddlers = wizardContext ? wizardContext.tiddlers : [];
	for(t=0; t<rowNames.length; t++) {
		var context = {
			allowSynchronous:true,
			tiddler:tiddlers[tiddlers.findByField("title",rowNames[t])]
		};
		adaptor.getTiddler(rowNames[t],context,wizard,me.onGetTiddler);
	}
	return false;
};

config.macros.importTiddlers.onGetTiddler = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(!context.status)
		displayMessage("Error in importTiddlers.onGetTiddler: " + context.statusText);
	var tiddler = context.tiddler;
	store.suspendNotifications();
	store.saveTiddler(tiddler.title, tiddler.title, tiddler.text, tiddler.modifier, tiddler.modified, tiddler.tags, tiddler.fields, true, tiddler.created);
	if(!wizard.getValue("sync")) {
		store.setValue(tiddler.title,'server',null);
	}
	store.resumeNotifications();
	if(!context.isSynchronous)
		store.notify(tiddler.title,true);
	var remainingImports = wizard.getValue("remainingImports")-1;
	wizard.setValue("remainingImports",remainingImports);
	if(remainingImports == 0) {
		if(context.isSynchronous) {
			store.notifyAll();
			refreshDisplay();
		}
		wizard.setButtons([
				{caption: me.doneLabel, tooltip: me.donePrompt, onClick: me.onClose}
			],me.statusDoneImport);
		autoSaveChanges();
	}
};

//--
//-- Upgrade macro
//--

config.macros.upgrade.handler = function(place)
{
	var w = new Wizard();
	w.createWizard(place,this.wizardTitle);
	w.addStep(this.step1Title,this.step1Html.format([this.source,this.source]));
	w.setButtons([{caption: this.upgradeLabel, tooltip: this.upgradePrompt, onClick: this.onClickUpgrade}]);
};

config.macros.upgrade.onClickUpgrade = function(e)
{
	var me = config.macros.upgrade;
	var w = new Wizard(this);
	if(!window.allowSave()) {
		alert(me.errorCantUpgrade);
		return false;
	}
	if(story.areAnyDirty() || store.isDirty()) {
		alert(me.errorNotSaved);
		return false;
	}
	var localPath = getLocalPath(document.location.toString());
	var backupPath = getBackupPath(localPath,me.backupExtension);
	w.setValue("backupPath",backupPath);
	w.setButtons([],me.statusPreparingBackup);
	var original = loadOriginal(localPath);
	w.setButtons([],me.statusSavingBackup);
	var backup = copyFile(backupPath,localPath);
	if(!backup)
		backup = saveFile(backupPath,original);
	if(!backup) {
		w.setButtons([],me.errorSavingBackup);
		alert(me.errorSavingBackup);
		return false;
	}
	w.setButtons([],me.statusLoadingCore);
	var options = {
		type:"GET",
		url:me.source,
		processData:false,
		success:function(data,textStatus,jqXHR) {
			me.onLoadCore(true,w,jqXHR.responseText,me.source,jqXHR);
		},
		error:function(jqXHR,textStatus,errorThrown) {
			me.onLoadCore(false,w,null,me.source,jqXHR);
		}
	};
	ajaxReq(options);
	return false;
};

config.macros.upgrade.onLoadCore = function(status,params,responseText,url,xhr)
{
	var me = config.macros.upgrade;
	var w = params;
	var errMsg;
	if(!status)
		errMsg = me.errorLoadingCore;
	var newVer = me.extractVersion(responseText);
	if(!newVer)
		errMsg = me.errorCoreFormat;
	if(errMsg) {
		w.setButtons([],errMsg);
		alert(errMsg);
		return;
	}
	var onStartUpgrade = function(e) {
		w.setButtons([],me.statusSavingCore);
		var localPath = getLocalPath(document.location.toString());
		saveFile(localPath,responseText);
		w.setButtons([],me.statusReloadingCore);
		var backupPath = w.getValue("backupPath");
		var newLoc = document.location.toString() + "?time=" + new Date().convertToYYYYMMDDHHMM() + "#upgrade:[[" + encodeURI(backupPath) + "]]";
		window.setTimeout(function () {window.location = newLoc;},10);
	};
	var step2 = [me.step2Html_downgrade,me.step2Html_restore,me.step2Html_upgrade][compareVersions(version,newVer) + 1];
	w.addStep(me.step2Title,step2.format([formatVersion(newVer),formatVersion(version)]));
	w.setButtons([{caption: me.startLabel, tooltip: me.startPrompt, onClick: onStartUpgrade},{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}]);
};

config.macros.upgrade.onCancel = function(e)
{
	var me = config.macros.upgrade;
	var w = new Wizard(this);
	w.addStep(me.step3Title,me.step3Html);
	w.setButtons([]);
	return false;
};

config.macros.upgrade.extractVersion = function(upgradeFile)
{
	var re = /^var version = \{title: "([^"]+)", major: (\d+), minor: (\d+), revision: (\d+)(, beta: (\d+)){0,1}, date: new Date\("([^"]+)"\)/mg;
	var m = re.exec(upgradeFile);
	return m ? {title: m[1], major: m[2], minor: m[3], revision: m[4], beta: m[6], date: new Date(m[7])} : null;
};

function upgradeFrom(path)
{
	var importStore = new TiddlyWiki();
	var tw = loadFile(path);
	if(window.netscape !== undefined)
		tw = convertUTF8ToUnicode(tw);
	importStore.importTiddlyWiki(tw);
	importStore.forEachTiddler(function(title,tiddler) {
		if(!store.getTiddler(title)) {
			store.addTiddler(tiddler);
		}
	});
	refreshDisplay();
	saveChanges(); //# To create appropriate Markup* sections
	alert(config.messages.upgradeDone.format([formatVersion()]));
	window.location = window.location.toString().substr(0,window.location.toString().lastIndexOf("?"));
}

//--
//-- Manager UI for groups of tiddlers
//--

config.macros.plugins.handler = function(place,macroName,params,wikifier,paramString)
{
	var wizard = new Wizard();
	wizard.createWizard(place,this.wizardTitle);
	wizard.addStep(this.step1Title,this.step1Html);
	var markList = wizard.getElement("markList");
	var listWrapper = document.createElement("div");
	markList.parentNode.insertBefore(listWrapper,markList);
	listWrapper.setAttribute("refresh","macro");
	listWrapper.setAttribute("macroName","plugins");
	listWrapper.setAttribute("params",paramString);
	this.refresh(listWrapper,paramString);
};

config.macros.plugins.refresh = function(listWrapper,params)
{
	var me = config.macros.plugins;
	var wizard = new Wizard(listWrapper);
	var selectedRows = [];
	ListView.forEachSelector(listWrapper,function(e,rowName) {
			if(e.checked)
				selectedRows.push(e.getAttribute("rowName"));
		});
	jQuery(listWrapper).empty();
	params = params.parseParams("anon");
	var plugins = installedPlugins.slice(0);
	var t,tiddler,p;
	var configTiddlers = store.getTaggedTiddlers("systemConfig");
	for(t=0; t<configTiddlers.length; t++) {
		tiddler = configTiddlers[t];
		if(plugins.findByField("title",tiddler.title) == null) {
			p = getPluginInfo(tiddler);
			p.executed = false;
			p.log.splice(0,0,this.skippedText);
			plugins.push(p);
		}
	}
	for(t=0; t<plugins.length; t++) {
		p = plugins[t];
		p.size = p.tiddler.text ? p.tiddler.text.length : 0;
		p.forced = p.tiddler.isTagged("systemConfigForce");
		p.disabled = p.tiddler.isTagged("systemConfigDisable");
		p.Selected = selectedRows.indexOf(plugins[t].title) != -1;
	}
	if(plugins.length == 0) {
		createTiddlyElement(listWrapper,"em",null,null,this.noPluginText);
		wizard.setButtons([]);
	} else {
		var template = readOnly ? this.listViewTemplateReadOnly : this.listViewTemplate;
		var listView = ListView.create(listWrapper,plugins,template,this.onSelectCommand);
		wizard.setValue("listView",listView);
		if(!readOnly) {
			wizard.setButtons([
				{caption: me.removeLabel, tooltip: me.removePrompt, onClick: me.doRemoveTag},
				{caption: me.deleteLabel, tooltip: me.deletePrompt, onClick: me.doDelete}
			]);
		}
	}
};

config.macros.plugins.doRemoveTag = function(e)
{
	var wizard = new Wizard(this);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	if(rowNames.length == 0) {
		alert(config.messages.nothingSelected);
	} else {
		var t;
		for(t=0; t<rowNames.length; t++) {
			store.setTiddlerTag(rowNames[t],false,"systemConfig");
		}
		autoSaveChanges();
	}
};

config.macros.plugins.doDelete = function(e)
{
	var wizard = new Wizard(this);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	if(rowNames.length == 0) {
		alert(config.messages.nothingSelected);
	} else {
		if(confirm(config.macros.plugins.confirmDeleteText.format([rowNames.join(", ")]))) {
			var t;
			for(t=0; t<rowNames.length; t++) {
				store.removeTiddler(rowNames[t]);
				story.closeTiddler(rowNames[t],true);
			}
		}
		autoSaveChanges();
	}
};

//--
//-- Message area
//--

function getMessageDiv()
{
	var msgArea = document.getElementById("messageArea");
	if(!msgArea)
		return null;
	if(!msgArea.hasChildNodes())
		createTiddlyButton(createTiddlyElement(msgArea,"div",null,"messageToolbar"),
			config.messages.messageClose.text,
			config.messages.messageClose.tooltip,
			clearMessage);
	msgArea.style.display = "block";
	return createTiddlyElement(msgArea,"div");
}

function displayMessage(text,linkText)
{
	var e = getMessageDiv();
	if(!e) {
		alert(text);
		return;
	}
	if(linkText) {
		var link = createTiddlyElement(e,"a",null,null,text);
		link.href = linkText;
		link.target = "_blank";
	} else {
		e.appendChild(document.createTextNode(text));
	}
}

function clearMessage()
{
	var msgArea = document.getElementById("messageArea");
	if(msgArea) {
		jQuery(msgArea).empty();
		msgArea.style.display = "none";
	}
	return false;
}

//--
//-- Refresh mechanism
//--

config.notifyTiddlers = [
	{name: "SystemSettings", notify: onSystemSettingsChange},
	{name: "StyleSheetLayout", notify: refreshStyles},
	{name: "StyleSheetColors", notify: refreshStyles},
	{name: "StyleSheet", notify: refreshStyles},
	{name: "StyleSheetPrint", notify: refreshStyles},
	{name: "PageTemplate", notify: refreshPageTemplate},
	{name: "SiteTitle", notify: refreshPageTitle},
	{name: "SiteSubtitle", notify: refreshPageTitle},
	{name: "WindowTitle", notify: refreshPageTitle},
	{name: "ColorPalette", notify: refreshColorPalette},
	{name: null, notify: refreshDisplay}
];

config.refreshers = {
	link: function(e,changeList)
		{
		var title = e.getAttribute("tiddlyLink");
		refreshTiddlyLink(e,title);
		return true;
		},

	tiddler: function(e,changeList)
		{
		var title = e.getAttribute("tiddler");
		var template = e.getAttribute("template");
		if(changeList && (changeList.indexOf && changeList.indexOf(title) != -1) && !story.isDirty(title))
			story.refreshTiddler(title,template,true);
		else
			refreshElements(e,changeList);
		return true;
		},

	content: function(e,changeList)
		{
		var title = e.getAttribute("tiddler");
		var force = e.getAttribute("force");
		var args = e.getAttribute("args");
		if(force != null || changeList == null || (changeList.indexOf && changeList.indexOf(title) != -1)) {
			jQuery(e).empty();
			config.macros.tiddler.transclude(e,title,args);
			return true;
		} else
			return false;
		},

	macro: function(e,changeList)
		{
		var macro = e.getAttribute("macroName");
		var params = e.getAttribute("params");
		if(macro)
			macro = config.macros[macro];
		if(macro && macro.refresh)
			macro.refresh(e,params);
		return true;
		}
};

config.refresherData = {
	styleSheet: "StyleSheet",
	defaultStyleSheet: "StyleSheet",
	pageTemplate: "PageTemplate",
	defaultPageTemplate: "PageTemplate",
	colorPalette: "ColorPalette",
	defaultColorPalette: "ColorPalette"
};

function refreshElements(root,changeList)
{
	var c,nodes = root.childNodes;
	for(c=0; c<nodes.length; c++) {
		var e = nodes[c], type = null;
		if(e.getAttribute && (e.tagName ? e.tagName != "IFRAME" : true))
			type = e.getAttribute("refresh");
		var refresher = config.refreshers[type];
		var refreshed = false;
		if(refresher != undefined)
			refreshed = refresher(e,changeList);
		if(e.hasChildNodes() && !refreshed)
			refreshElements(e,changeList);
	}
}

function applyHtmlMacros(root,tiddler)
{
	var e = root.firstChild;
	while(e) {
		var nextChild = e.nextSibling;
		if(e.getAttribute) {
			var macro = e.getAttribute("macro");
			if(macro) {
				e.removeAttribute("macro");
				var params = "";
				var p = macro.indexOf(" ");
				if(p != -1) {
					params = macro.substr(p+1);
					macro = macro.substr(0,p);
				}
				invokeMacro(e,macro,params,null,tiddler);
			}
		}
		if(e.hasChildNodes())
			applyHtmlMacros(e,tiddler);
		e = nextChild;
	}
}

function refreshPageTemplate(title)
{
	var stash = jQuery("<div/>").appendTo("body").hide()[0];
	var display = story.getContainer();
	var nodes,t;
	if(display) {
		nodes = display.childNodes;
		for(t=nodes.length-1; t>=0; t--)
			stash.appendChild(nodes[t]);
	}
	var wrapper = document.getElementById("contentWrapper");

	if(!title || !store.isAvailable(title))
		title = config.refresherData.pageTemplate;
	if(!store.isAvailable(title))
		title = config.refresherData.defaultPageTemplate; //# this one is always avaialable
	wrapper.innerHTML = store.getRecursiveTiddlerText(title,null,10);
	applyHtmlMacros(wrapper);
	refreshElements(wrapper);
	display = story.getContainer();
	jQuery(display).empty();
	if(!display)
		display = createTiddlyElement(wrapper,"div",story.containerId());
	nodes = stash.childNodes;
	for(t=nodes.length-1; t>=0; t--)
		display.appendChild(nodes[t]);
	jQuery(stash).remove();
}

function refreshDisplay(hint)
{
	if(typeof hint == "string")
		hint = [hint];
	var e = document.getElementById("contentWrapper");
	refreshElements(e,hint);
	if(backstage.isPanelVisible()) {
		e = document.getElementById("backstage");
		refreshElements(e,hint);
	}
}

function refreshPageTitle()
{
	document.title = getPageTitle();
}

function getPageTitle()
{
	return wikifyPlainText(store.getTiddlerText("WindowTitle",""),null,tiddler);
}

function refreshStyles(title,doc)
{
	setStylesheet(title == null ? "" : store.getRecursiveTiddlerText(title,"",10),title,doc || document);
}

function refreshColorPalette(title)
{
	if(!startingUp)
		refreshAll();
}

function refreshAll()
{
	refreshPageTemplate();
	refreshDisplay();
	refreshStyles("StyleSheetLayout");
	refreshStyles("StyleSheetColors");
	refreshStyles(config.refresherData.styleSheet);
	refreshStyles("StyleSheetPrint");
}

//--
//-- Option handling
//--

config.optionHandlers = {
	'txt': {
		get: function(name) {return encodeCookie(config.options[name].toString());},
		set: function(name,value) {config.options[name] = decodeCookie(value);}
	},
	'chk': {
		get: function(name) {return config.options[name] ? 'true' : 'false';},
		set: function(name,value) {config.options[name] = value == 'true';}
	}
};

function setOption(name,value)
{
	var optType = name.substr(0,3);
	if(config.optionHandlers[optType] && config.optionHandlers[optType].set)
		config.optionHandlers[optType].set(name,value);
}

// Gets the value of an option as a string. Most code should just read from config.options.* directly
function getOption(name)
{
	var optType = name.substr(0,3);
	return config.optionHandlers[optType] && config.optionHandlers[optType].get ? config.optionHandlers[optType].get(name) : null;
}

function loadOptions()
{
	if(safeMode)
		return;
	loadCookies();
	loadSystemSettings();
}
// @Deprecated; retained for backwards compatibility
var loadOptionsCookie = loadOptions;

function getCookies()
{
	var cookieList = document.cookie.split(';');
	var i,cookies = {};
	for(i=0; i<cookieList.length; i++) {
		var p = cookieList[i].indexOf('=');
		if(p != -1) {
			var name = cookieList[i].substr(0,p).trim();
			var value = cookieList[i].substr(p+1).trim();
			cookies[name] = value;
		}
	}
	return cookies;
}

function loadCookies()
{
	var i,cookies = getCookies();
	if(cookies['TiddlyWiki']) {
		cookies = cookies['TiddlyWiki'].decodeHashMap();
	}
	for(i in cookies) {
		if(config.optionsSource[i] != 'setting') {
			setOption(i,cookies[i]);
		}
	}
}

function loadSystemSettings()
{
	var key,settings = store.calcAllSlices('SystemSettings');
	config.optionsSource = {};
	for(key in settings) {
		setOption(key,settings[key]);
		config.optionsSource[key] = 'setting';
	}
}

function onSystemSettingsChange()
{
	if(!startingUp) {
		loadSystemSettings();
	}
}

function saveOption(name)
{
	if(safeMode)
		return;
	if(name.match(/[()\s]/g, '_')) {
		alert(config.messages.invalidCookie.format([name]));
		return;
	}
	saveCookie(name);
	if(config.optionsSource[name] == 'setting') {
		saveSystemSetting(name,true);
	}
}
// @Deprecated; retained for backwards compatibility
var saveOptionCookie = saveOption;

function removeCookie(name)
{
	document.cookie = name + '=; expires=Thu, 01-Jan-1970 00:00:01 UTC; path=/;';
}

function saveCookie(name)
{
	var key,cookies = {};
	for(key in config.options) {
		var value = getOption(key);
		value = value == null ? 'false' : value;
		cookies[key] = value;
	}
	document.cookie = 'TiddlyWiki=' + String.encodeHashMap(cookies) + '; expires=Fri, 1 Jan 2038 12:00:00 UTC; path=/';
	cookies = getCookies();
	var c;
	for(c in cookies) {
		var optType = c.substr(0,3);
		if(config.optionHandlers[optType])
			removeCookie(c);
	}
}

var systemSettingSave;
function commitSystemSettings(storeWasDirty)
{
	if(systemSettingSave) {
		window.clearTimeout(systemSettingSave);
	}
	systemSettingSave = window.setTimeout(function() {
		var tiddler = store.getTiddler('SystemSettings');
		autoSaveChanges(null,[tiddler]);
	}, 1000);
}

function saveSystemSetting(name,saveFile)
{
	var title = 'SystemSettings';
	var slice = store.getTiddlerSlice(title,name);
	if(readOnly || slice === getOption(name)) {
		return; //# don't save if read-only or the option hasn't changed
	}
	var slices = store.calcAllSlices(title);
	var key;
	for(key in config.optionsSource) {
		var value = getOption(key) || '';
		if(slices[key] !== value) {
			slices[key] = value;
		}
	}
	var text = [];
	for(key in slices) {
		text.push('%0: %1'.format([key,slices[key]]));
	}
	text = text.sort().join('\n');
	var storeWasDirty = store.isDirty();
	var tiddler = store.getTiddler(title);
	if(tiddler) {
		tiddler.text = text;
		tiddler = store.saveTiddler(tiddler);
	} else {
		tiddler = store.saveTiddler(title,title,text,'System',new Date(),['excludeLists'],config.defaultCustomFields);
	}
	if(saveFile) {
		commitSystemSettings(storeWasDirty);
	}
}

function encodeCookie(s)
{
	return escape(convertUnicodeToHtmlEntities(s));
}

function decodeCookie(s)
{
	s = unescape(s);
	var re = /&#[0-9]{1,5};/g;
	return s.replace(re,function($0) {return String.fromCharCode(eval($0.replace(/[&#;]/g,'')));});
}

config.macros.option.genericCreate = function(place,type,opt,className,desc)
{
	var typeInfo = config.macros.option.types[type];
	var c = document.createElement(typeInfo.elementType);
	if(typeInfo.typeValue)
		c.setAttribute('type',typeInfo.typeValue);
	c[typeInfo.eventName] = typeInfo.onChange;
	c.setAttribute('option',opt);
	c.className = className || typeInfo.className;
	if(config.optionsDesc[opt])
		c.setAttribute('title',config.optionsDesc[opt]);
	place.appendChild(c);
	if(desc != 'no')
		createTiddlyText(place,config.optionsDesc[opt] || opt);
	c[typeInfo.valueField] = config.options[opt];
	return c;
};

config.macros.option.genericOnChange = function(e)
{
	var opt = this.getAttribute('option');
	if(opt) {
		var optType = opt.substr(0,3);
		var handler = config.macros.option.types[optType];
		if(handler.elementType && handler.valueField)
			config.macros.option.propagateOption(opt,handler.valueField,this[handler.valueField],handler.elementType,this);
	}
	return true;
};

config.macros.option.types = {
	'txt': {
		elementType: 'input',
		valueField: 'value',
		eventName: 'onchange',
		className: 'txtOptionInput',
		create: config.macros.option.genericCreate,
		onChange: config.macros.option.genericOnChange
	},
	'chk': {
		elementType: 'input',
		valueField: 'checked',
		eventName: 'onclick',
		className: 'chkOptionInput',
		typeValue: 'checkbox',
		create: config.macros.option.genericCreate,
		onChange: config.macros.option.genericOnChange
	}
};

config.macros.option.propagateOption = function(opt,valueField,value,elementType,elem)
{
	config.options[opt] = value;
	saveOption(opt);
	var t,nodes = document.getElementsByTagName(elementType);
	for(t=0; t<nodes.length; t++) {
		var optNode = nodes[t].getAttribute('option');
		if(opt == optNode && nodes[t]!=elem)
			nodes[t][valueField] = value;
	}
};

config.macros.option.handler = function(place,macroName,params,wikifier,paramString)
{
	params = paramString.parseParams('anon',null,true,false,false);
	var opt = (params[1] && params[1].name == 'anon') ? params[1].value : getParam(params,'name',null);
	var className = (params[2] && params[2].name == 'anon') ? params[2].value : getParam(params,'class',null);
	var desc = getParam(params,'desc','no');
	var type = opt.substr(0,3);
	var h = config.macros.option.types[type];
	if(h && h.create)
		h.create(place,type,opt,className,desc);
};

config.macros.options.handler = function(place,macroName,params,wikifier,paramString)
{
	params = paramString.parseParams('anon',null,true,false,false);
	var showUnknown = getParam(params,'showUnknown','no');
	var wizard = new Wizard();
	wizard.createWizard(place,this.wizardTitle);
	wizard.addStep(this.step1Title,this.step1Html);
	var markList = wizard.getElement('markList');
	var chkUnknown = wizard.getElement('chkUnknown');
	chkUnknown.checked = showUnknown == 'yes';
	chkUnknown.onchange = this.onChangeUnknown;
	var listWrapper = document.createElement('div');
	markList.parentNode.insertBefore(listWrapper,markList);
	wizard.setValue('listWrapper',listWrapper);
	this.refreshOptions(listWrapper,showUnknown == 'yes');
};

config.macros.options.refreshOptions = function(listWrapper,showUnknown)
{
	var n,opts = [];
	for(n in config.options) {
		var opt = {};
		opt.option = '';
		opt.name = n;
		opt.lowlight = !config.optionsDesc[n];
		opt.description = opt.lowlight ? this.unknownDescription : config.optionsDesc[n];
		if(!opt.lowlight || showUnknown)
			opts.push(opt);
	}
	opts.sort(function(a,b) {return a.name.substr(3) < b.name.substr(3) ? -1 : (a.name.substr(3) == b.name.substr(3) ? 0 : +1);});
	ListView.create(listWrapper,opts,this.listViewTemplate);
	for(n=0; n<opts.length; n++) {
		var type = opts[n].name.substr(0,3);
		var h = config.macros.option.types[type];
		if(h && h.create) {
			h.create(opts[n].colElements['option'],type,opts[n].name,null,'no');
		}
	}
};

config.macros.options.onChangeUnknown = function(e)
{
	var wizard = new Wizard(this);
	var listWrapper = wizard.getValue('listWrapper');
	jQuery(listWrapper).empty();
	config.macros.options.refreshOptions(listWrapper,this.checked);
	return false;
};

//--
//-- Saving
//--

var saveUsingSafari = false;

var startSaveArea = '<div id="' + 'storeArea">'; // Split up into two so that indexOf() of this source doesn't find it
var startSaveAreaRE = /<((div)|(DIV)) ((id)|(ID))=["']?storeArea['"]?>/; // Used for IE6
var endSaveArea = '</d' + 'iv>';
var endSaveAreaCaps = '</D' + 'IV>';

// If there are unsaved changes, force the user to confirm before exitting
function confirmExit()
{
	hadConfirmExit = true;
	if((store && store.isDirty && store.isDirty()) || (story && story.areAnyDirty && story.areAnyDirty()))
		return config.messages.confirmExit;
}

// Give the user a chance to save changes before exitting
function checkUnsavedChanges()
{
	if(store && store.isDirty && store.isDirty() && window.hadConfirmExit === false) {
		if(confirm(config.messages.unsavedChangesWarning))
			saveChanges();
	}
}

function updateLanguageAttribute(s)
{
	if(config.locale) {
		var mRE = /(<html(?:.*?)?)(?: xml:lang\="([a-z]+)")?(?: lang\="([a-z]+)")?>/;
		var m = mRE.exec(s);
		if(m) {
			var t = m[1];
			if(m[2])
				t += ' xml:lang="' + config.locale + '"';
			if(m[3])
				t += ' lang="' + config.locale + '"';
			t += ">";
			s = s.substr(0,m.index) + t + s.substr(m.index+m[0].length);
		}
	}
	return s;
}

function updateMarkupBlock(s,blockName,tiddlerName)
{
	return s.replaceChunk(
			"<!--%0-START-->".format([blockName]),
			"<!--%0-END-->".format([blockName]),
			"\n" + convertUnicodeToFileFormat(store.getRecursiveTiddlerText(tiddlerName,"")) + "\n");
}

function updateOriginal(original,posDiv,localPath)
{
	if(!posDiv)
		posDiv = locateStoreArea(original);
	if(!posDiv) {
		alert(config.messages.invalidFileError.format([localPath]));
		return null;
	}
	var revised = original.substr(0,posDiv[0] + startSaveArea.length) + "\n" +
				convertUnicodeToFileFormat(store.allTiddlersAsHtml()) + "\n" +
				original.substr(posDiv[1]);
	var newSiteTitle = convertUnicodeToFileFormat(getPageTitle()).htmlEncode();
	revised = revised.replaceChunk("<title"+">","</title"+">"," " + newSiteTitle + " ");
	revised = updateLanguageAttribute(revised);
	revised = updateMarkupBlock(revised,"PRE-HEAD","MarkupPreHead");
	revised = updateMarkupBlock(revised,"POST-HEAD","MarkupPostHead");
	revised = updateMarkupBlock(revised,"PRE-BODY","MarkupPreBody");
	revised = updateMarkupBlock(revised,"POST-SCRIPT","MarkupPostBody");
	return revised;
}

function locateStoreArea(original)
{
	// Locate the storeArea divs
	if(!original)
		return null;
	var posOpeningDiv = original.search(startSaveAreaRE);
	var limitClosingDiv = original.indexOf("<"+"!--POST-STOREAREA--"+">");
	if(limitClosingDiv == -1)
		limitClosingDiv = original.indexOf("<"+"!--POST-BODY-START--"+">");
	var start = limitClosingDiv == -1 ? original.length : limitClosingDiv;
	var posClosingDiv = original.lastIndexOf(endSaveArea,start);
	if(posClosingDiv == -1)
		posClosingDiv = original.lastIndexOf(endSaveAreaCaps,start);
	return (posOpeningDiv != -1 && posClosingDiv != -1) ? [posOpeningDiv,posClosingDiv] : null;
}

function autoSaveChanges(onlyIfDirty,tiddlers)
{
	if(config.options.chkAutoSave)
		saveChanges(onlyIfDirty,tiddlers);
}

function loadOriginal(localPath)
{
	var content=loadFile(localPath);
	if (!content) content=window.originalHTML||recreateOriginal();
	return content;
}

function recreateOriginal()
{
	// construct doctype
	var content = "<!DOCTYPE ";
	var t=document.doctype;
	if (!t) 
		content+="html"
	else {
		content+=t.name;
		if      (t.publicId)		content+=' PUBLIC "'+t.publicId+'"';
		else if (t.systemId)		content+=' SYSTEM "'+t.systemId+'"';
	}
	content+=' "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"';
	content+='>\n';

	// append current document content
	content+=document.documentElement.outerHTML;

	content=content.replace(/<div id="saveTest">savetest<\/div>/,'<div id="saveTest"></div>');
	content=content.replace(/script><applet [^\>]*><\/applet>/g,'script>');
	content=content.replace(/><head>/,'>\n<head>');
	content=content.replace(/\n\n<\/body><\/html>$/,'</body>\n</html>\n');
	content=content.replace(/(<(meta) [^\>]*[^\/])>/g,'$1 />');
	content=content.replace(/<noscript>[^\<]*<\/noscript>/,
		function(m){return m.replace(/&lt;/g,'<').replace(/&gt;/g,'>');});
	content=content.replace(/<div id="copyright">[^\<]*<\/div>/,
		function(m){return m.replace(/\xA9/g,'&copy;');});

	return content;
}

// Save this tiddlywiki with the pending changes
function saveChanges(onlyIfDirty,tiddlers)
{
	if(onlyIfDirty && !store.isDirty())
		return;
	clearMessage();
	var t0 = new Date();
	var msg = config.messages;
	var originalPath = document.location.toString();
	if(!window.allowSave()) {
		alert(msg.notFileUrlError);
		if(store.tiddlerExists(msg.saveInstructions))
			story.displayTiddler(null,msg.saveInstructions);
		return;
	}
	var localPath = getLocalPath(originalPath);
	var original = loadOriginal(localPath);
	if(original == null) {
		alert(msg.cantSaveError);
		if(store.tiddlerExists(msg.saveInstructions))
			story.displayTiddler(null,msg.saveInstructions);
		return;
	}
	var posDiv = locateStoreArea(original);
	if(!posDiv) {
		alert(msg.invalidFileError.format([localPath]));
		return;
	}
	var co=config.options; //# abbreviation
	config.saveByDownload=false;
	config.saveByManualDownload=false;
	saveMain(localPath,original,posDiv);
	if (!config.saveByDownload && !config.saveByManualDownload) {
		if(co.chkSaveBackups)
			saveBackup(localPath,original);
		if(co.chkSaveEmptyTemplate)
			saveEmpty(localPath,original,posDiv);
		if(co.chkGenerateAnRssFeed && saveRss instanceof Function)
			saveRss(localPath);
	}
	if(co.chkDisplayInstrumentation)
		displayMessage("saveChanges " + (new Date()-t0) + " ms");
}


function saveMain(localPath,original,posDiv)
{
	var save;
	try {
		var revised = updateOriginal(original,posDiv,localPath);
		save = saveFile(localPath,revised);
	} catch (ex) {
		showException(ex);
	}
	if(save) {
		if (!config.saveByManualDownload) {
			if (config.saveByDownload) { //# set by HTML5DownloadSaveFile()
				var link = getDataURI(revised);
				var msg  = config.messages.mainDownload;
			} else {
				var link = "file://" + localPath;
				var msg  = config.messages.mainSaved;
			}
			displayMessage(msg,link);
		}
		store.setDirty(false);
	} else {
		alert(config.messages.mainFailed);
	}
}

function saveBackup(localPath,original)
{
	var backupPath = getBackupPath(localPath);
	var backup = copyFile(backupPath,localPath);
	if(!backup)
		backup = saveFile(backupPath,original);
	if(backup)
		displayMessage(config.messages.backupSaved,"file://" + backupPath);
	else
		alert(config.messages.backupFailed);
}

function saveEmpty(localPath,original,posDiv)
{
	var emptyPath,p;
	if((p = localPath.lastIndexOf("/")) != -1)
		emptyPath = localPath.substr(0,p) + "/";
	else if((p = localPath.lastIndexOf("\\")) != -1)
		emptyPath = localPath.substr(0,p) + "\\";
	else
		emptyPath = localPath + ".";
	emptyPath += "empty.html";
	var empty = original.substr(0,posDiv[0] + startSaveArea.length) + original.substr(posDiv[1]);
	var emptySave = saveFile(emptyPath,empty);
	if(emptySave)
		displayMessage(config.messages.emptySaved,"file://" + emptyPath);
	else
		alert(config.messages.emptyFailed);
}

// Translate URL to local path [Preemption]
window.getLocalPath = window.getLocalPath || function(origPath)
{
	var originalPath = convertUriToUTF8(origPath,config.options.txtFileSystemCharSet);
	// Remove any location or query part of the URL
	var argPos = originalPath.indexOf("?");
	if(argPos != -1)
		originalPath = originalPath.substr(0,argPos);
	var hashPos = originalPath.indexOf("#");
	if(hashPos != -1)
		originalPath = originalPath.substr(0,hashPos);
	// Convert file://localhost/ to file:///
	if(originalPath.indexOf("file://localhost/") == 0)
		originalPath = "file://" + originalPath.substr(16);
	// Convert to a native file format
	var localPath;
	if(originalPath.charAt(9) == ":") // pc local file
		localPath = unescape(originalPath.substr(8)).replace(new RegExp("/","g"),"\\");
	else if(originalPath.indexOf("file://///") == 0) // FireFox pc network file
		localPath = "\\\\" + unescape(originalPath.substr(10)).replace(new RegExp("/","g"),"\\");
	else if(originalPath.indexOf("file:///") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(7));
	else if(originalPath.indexOf("file:/") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(5));
	else // pc network file
		localPath = "\\\\" + unescape(originalPath.substr(7)).replace(new RegExp("/","g"),"\\");
	return localPath;
}

function getBackupPath(localPath,title,extension)
{
	var slash = "\\";
	var dirPathPos = localPath.lastIndexOf("\\");
	if(dirPathPos == -1) {
		dirPathPos = localPath.lastIndexOf("/");
		slash = "/";
	}
	var backupFolder = config.options.txtBackupFolder;
	if(!backupFolder || backupFolder == "")
		backupFolder = ".";
	var backupPath = localPath.substr(0,dirPathPos) + slash + backupFolder + localPath.substr(dirPathPos);
	backupPath = backupPath.substr(0,backupPath.lastIndexOf(".")) + ".";
	if(title)
		backupPath += title.replace(/[\\\/\*\?\":<> ]/g,"_") + ".";
	backupPath += (new Date()).convertToYYYYMMDDHHMMSSMMM() + "." + (extension || "html");
	return backupPath;
}

//--
//-- RSS Saving
//--

function saveRss(localPath)
{
	var rssPath = localPath.substr(0,localPath.lastIndexOf(".")) + ".xml";
	if(saveFile(rssPath,convertUnicodeToFileFormat(generateRss())))
		displayMessage(config.messages.rssSaved,"file://" + rssPath);
	else
		alert(config.messages.rssFailed);
}

tiddlerToRssItem = function(tiddler,uri)
{
	var s = "<title" + ">" + tiddler.title.htmlEncode() + "</title" + ">\n";
	s += "<description>" + wikifyStatic(tiddler.text,null,tiddler).htmlEncode() + "</description>\n";
	var i;
	for(i=0; i<tiddler.tags.length; i++)
		s += "<category>" + tiddler.tags[i] + "</category>\n";
	s += "<link>" + uri + "#" + encodeURIComponent(String.encodeTiddlyLink(tiddler.title)) + "</link>\n";
	s +="<pubDate>" + tiddler.modified.toGMTString() + "</pubDate>\n";
	return s;
};

function generateRss()
{
	var s = [];
	var d = new Date();
	var u = store.getTiddlerText("SiteUrl");
	// Assemble the header
	s.push("<" + "?xml version=\"1.0\"?" + ">");
	s.push("<rss version=\"2.0\">");
	s.push("<channel>");
	s.push("<title" + ">" + wikifyPlainText(store.getTiddlerText("SiteTitle",""),null,tiddler).htmlEncode() + "</title" + ">");
	if(u)
		s.push("<link>" + u.htmlEncode() + "</link>");
	s.push("<description>" + wikifyPlainText(store.getTiddlerText("SiteSubtitle",""),null,tiddler).htmlEncode() + "</description>");
	s.push("<language>" + config.locale + "</language>");
	s.push("<copyright>Copyright " + d.getFullYear() + " " + config.options.txtUserName.htmlEncode() + "</copyright>");
	s.push("<pubDate>" + d.toGMTString() + "</pubDate>");
	s.push("<lastBuildDate>" + d.toGMTString() + "</lastBuildDate>");
	s.push("<docs>http://blogs.law.harvard.edu/tech/rss</docs>");
	s.push("<generator>TiddlyWiki " + formatVersion() + "</generator>");
	// The body
	var tiddlers = store.getTiddlers("modified","excludeLists");
	var i,n = config.numRssItems > tiddlers.length ? 0 : tiddlers.length-config.numRssItems;
	for(i=tiddlers.length-1; i>=n; i--) {
		s.push("<item>\n" + tiddlerToRssItem(tiddlers[i],u) + "\n</item>");
	}
	// And footer
	s.push("</channel>");
	s.push("</rss>");
	// Save it all
	return s.join("\n");
}

//--
//-- Filesystem code
//--

// Copy a file in filesystem [Preemption]
window.copyFile = window.copyFile || function(dest,source)
{
	return config.browser.isIE ? ieCopyFile(dest,source) : false;
}


// Save a file in filesystem [Preemption]
window.saveFile = window.saveFile || function(fileUrl,content)
{
	var r = mozillaSaveFile(fileUrl,content);
	if(!r)
		r = ieSaveFile(fileUrl,content);
	if(!r)
		r = javaSaveFile(fileUrl,content);
	if(!r)
		r = HTML5DownloadSaveFile(fileUrl,content);
	if(!r)
		r = manualSaveFile(fileUrl,content);
	return r;
}

// Load a file from filesystem [Preemption]
window.loadFile = window.loadFile || function(fileUrl)
{
	var r = mozillaLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = ieLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = javaLoadFile(fileUrl);
	return r;
}

function ieCreatePath(path)
{
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
	} catch(ex) {
		return null;
	}

	var pos = path.lastIndexOf("\\");
	if(pos==-1)
		pos = path.lastIndexOf("/");
	if(pos!=-1)
		path = path.substring(0,pos+1);

	var scan = [path];
	var parent = fso.GetParentFolderName(path);
	while(parent && !fso.FolderExists(parent)) {
		scan.push(parent);
		parent = fso.GetParentFolderName(parent);
	}

	for(i=scan.length-1;i>=0;i--) {
		if(!fso.FolderExists(scan[i])) {
			fso.CreateFolder(scan[i]);
		}
	}
	return true;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function ieSaveFile(filePath,content)
{
	ieCreatePath(filePath);
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
	} catch(ex) {
		return null;
	}
	var file = fso.OpenTextFile(filePath,2,-1,0);
	file.Write(content);
	file.Close();
	return true;
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function ieLoadFile(filePath)
{
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		var file = fso.OpenTextFile(filePath,1);
		var content = file.ReadAll();
		file.Close();
	} catch(ex) {
		return null;
	}
	return content;
}

function ieCopyFile(dest,source)
{
	ieCreatePath(dest);
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		fso.GetFile(source).Copy(dest);
	} catch(ex) {
		return false;
	}
	return true;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function mozillaSaveFile(filePath,content)
{
	if(window.Components) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if(!file.exists())
				file.create(0,0x01B4);// 0x01B4 = 0664
			var out = Components.classes["@mozilla.org/network/file-output-stream;1"].createInstance(Components.interfaces.nsIFileOutputStream);
			out.init(file,0x22,0x04,null);
			out.write(content,content.length);
			out.flush();
			out.close();
			return true;
		} catch(ex) {
			return false;
		}
	}
	return null;
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function mozillaLoadFile(filePath)
{
	if(window.Components) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if(!file.exists())
				return null;
			var inputStream = Components.classes["@mozilla.org/network/file-input-stream;1"].createInstance(Components.interfaces.nsIFileInputStream);
			inputStream.init(file,0x01,0x04,null);
			var sInputStream = Components.classes["@mozilla.org/scriptableinputstream;1"].createInstance(Components.interfaces.nsIScriptableInputStream);
			sInputStream.init(inputStream);
			var contents = sInputStream.read(sInputStream.available());
			sInputStream.close();
			inputStream.close();
			return contents;
		} catch(ex) {
			return false;
		}
	}
	return null;
}

function javaUrlToFilename(url)
{
	var f = "//localhost";
	if(url.indexOf(f) == 0)
		return url.substring(f.length);
	var i = url.indexOf(":");
	return i > 0 ? url.substring(i-1) : url;
}

/*
 *
 * in between when the applet has been started
 * and the user has given permission to run the applet
 * we get an applet object, but it doesn't have the methods
 * we expect yet.
 *
 */
var LOG_TIDDLYSAVER = true;
function logTiddlySaverException(msg, ex) {
	var applet = document.applets['TiddlySaver'];
	console.log(msg + ": " + ex);
	if (LOG_TIDDLYSAVER && applet) {
		try {
			console.log(msg + ": " + applet.getLastErrorMsg());
			console.log(msg + ": " + applet.getLastErrorStackTrace());
		} catch (ex) {}
	}
}

function javaDebugInformation () {
	var applet = document.applets['TiddlySaver'];
	var what = [
		["Java Version", applet.getJavaVersion],
		["Last Exception", applet.getLastErrorMessage],
		["Last Exception Stack Trace", applet.getLastErrorStackTrace],
		["System Properties", applet.getSystemProperties] ];

	function formatItem (description, method) {
		try {
			 result = String(method.call(applet));
		} catch (ex) {
			 result = String(ex)
		}
		return description + ": " + result
	}

	return jQuery.map(what, function (item) { return formatItem.apply(this, item) })
			.join('\n\n')
}

function javaSaveFile(filePath,content)
{
	var applet = document.applets['TiddlySaver'];
	try {
		if (applet && filePath) 
			return applet.saveFile(javaUrlToFilename(filePath), "UTF-8", content);
	} catch(ex) {
		logTiddlySaverException("javaSaveFile", ex);
	}
	// is this next block working anywhere ? -- grmble
	try {
		var s = new java.io.PrintStream(new java.io.FileOutputStream(javaUrlToFilename(filePath)));
		s.print(content);
		s.close();
	} catch(ex2) {
		return null;
	}
	return true;
}

function javaLoadFile(filePath)
{
	var applet = document.applets['TiddlySaver'];
	try {
		if (applet && filePath) {
			var ret = applet.loadFile(javaUrlToFilename(filePath),"UTF-8");
			if(!ret)
				return null;
			return String(ret);
		}
	} catch(ex) {
		logTiddlySaverException("javaLoadFile", ex);
	}
	// is this next block working anywhere ? -- grmble
	var content = [];
	try {
		var r = new java.io.BufferedReader(new java.io.FileReader(javaUrlToFilename(filePath)));
		var line;
		while((line = r.readLine()) != null)
			content.push(String(line));
		r.close();
	} catch(ex2) {
		return null;
	}
	return content.join("\n");
}

function HTML5DownloadSaveFile(filePath,content)
{
	if(document.createElement("a").download !== undefined) {
		config.saveByDownload=true;
		var slashpos=filePath.lastIndexOf("/");
		if (slashpos==-1) slashpos=filePath.lastIndexOf("\\"); 
		var filename=filePath.substr(slashpos+1);
		var uri = getDataURI(content);
		var link = document.createElement("a");
		link.setAttribute("target","_blank");
		link.setAttribute("href",uri);
		link.setAttribute("download",filename);
		document.body.appendChild(link); link.click(); document.body.removeChild(link);
		return true;
	}
	return null;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function manualSaveFile(filePath,content)
{
	// FALLBACK for showing a link to data: URI
	config.saveByManualDownload=true;
	var slashpos=filePath.lastIndexOf("/");
	if (slashpos==-1) slashpos=filePath.lastIndexOf("\\"); 
	var filename=filePath.substr(slashpos+1);
	var uri = getDataURI(content);
	displayMessage(config.messages.mainDownloadManual,uri);
	return true;
}

// construct data URI (using base64 encoding to preserve multi-byte encodings)
function getDataURI(data) {
	if (config.browser.isIE)
		return "data:text/html,"+encodeURIComponent(data);
	else
		return "data:text/html;base64,"+encodeBase64(data);
}

function encodeBase64(data) {
	if (!data) return "";
	var keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
	var out = "";
	var chr1,chr2,chr3="";
	var enc1,enc2,enc3,enc4="";
	for (var count=0,i=0; i<data.length; ) {
		chr1=data.charCodeAt(i++);
		chr2=data.charCodeAt(i++);
		chr3=data.charCodeAt(i++);
		enc1=chr1 >> 2;
		enc2=((chr1 & 3) << 4) | (chr2 >> 4);
		enc3=((chr2 & 15) << 2) | (chr3 >> 6);
		enc4=chr3 & 63;
		if (isNaN(chr2)) enc3=enc4=64;
		else if (isNaN(chr3)) enc4=64;
		out+=keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4);
		chr1=chr2=chr3=enc1=enc2=enc3=enc4="";
	}
	return out;
}//--
//-- Filesystem utilities
//--

function convertUTF8ToUnicode(u)
{
	return config.browser.isOpera || !window.netscape ? manualConvertUTF8ToUnicode(u) : mozConvertUTF8ToUnicode(u);
}


function manualConvertUTF8ToUnicode(utf)
{
	var uni = utf;
	var src = 0;
	var dst = 0;
	var b1, b2, b3;
	var c;
	while(src < utf.length) {
		b1 = utf.charCodeAt(src++);
		if(b1 < 0x80) {
			dst++;
		} else if(b1 < 0xE0) {
			b2 = utf.charCodeAt(src++);
			c = String.fromCharCode(((b1 & 0x1F) << 6) | (b2 & 0x3F));
			uni = uni.substring(0,dst++).concat(c,utf.substr(src));
		} else {
			b2 = utf.charCodeAt(src++);
			b3 = utf.charCodeAt(src++);
			c = String.fromCharCode(((b1 & 0xF) << 12) | ((b2 & 0x3F) << 6) | (b3 & 0x3F));
			uni = uni.substring(0,dst++).concat(c,utf.substr(src));
		}
	}
	return uni;
}

function mozConvertUTF8ToUnicode(u)
{
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
		converter.charset = "UTF-8";
	} catch(ex) {
		return manualConvertUTF8ToUnicode(u);
	} // fallback
	var s = converter.ConvertToUnicode(u);
	var fin = converter.Finish();
	return fin.length > 0 ? s+fin : s;
}

function convertUnicodeToFileFormat(s)
{
	return config.browser.isOpera || !window.netscape ? (config.browser.isIE ? convertUnicodeToHtmlEntities(s) : s) : mozConvertUnicodeToUTF8(s);
}

function convertUnicodeToHtmlEntities(s)
{
	var re = /[^\u0000-\u007F]/g;
	return s.replace(re,function($0) {return "&#" + $0.charCodeAt(0).toString() + ";";});
}

function convertUnicodeToUTF8(s)
{
// return convertUnicodeToFileFormat to allow plugin migration
	return convertUnicodeToFileFormat(s);
}

function manualConvertUnicodeToUTF8(s)
{
	return unescape(encodeURIComponent(s));
}

function mozConvertUnicodeToUTF8(s)
{
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
		converter.charset = "UTF-8";
	} catch(ex) {
		return manualConvertUnicodeToUTF8(s);
	} // fallback
	var u = converter.ConvertFromUnicode(s);
	var fin = converter.Finish();
	return fin.length > 0 ? u + fin : u;
}

function convertUriToUTF8(uri,charSet)
{
	if(window.netscape == undefined || charSet == undefined || charSet == "")
		return uri;
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/utf8converterservice;1"].getService(Components.interfaces.nsIUTF8ConverterService);
	} catch(ex) {
		return uri;
	}
	return converter.convertURISpecToUTF8(uri,charSet);
}
//--
//-- Server adaptor base class
//--

function AdaptorBase()
{
	this.host = null;
	this.store = null;
	return this;
}

AdaptorBase.prototype.close = function()
{
	return true;
};

AdaptorBase.prototype.fullHostName = function(host)
{
	if(!host)
		return '';
	host = host.trim();
	if(!host.match(/:\/\//))
		host = 'http://' + host;
	if(host.substr(host.length-1) == '/')
		host = host.substr(0,host.length-1);
	return host;
};

AdaptorBase.minHostName = function(host)
{
	return host;
};

AdaptorBase.prototype.setContext = function(context,userParams,callback)
{
	if(!context) context = {};
	context.userParams = userParams;
	if(callback) context.callback = callback;
	context.adaptor = this;
	if(!context.host)
		context.host = this.host;
	context.host = this.fullHostName(context.host);
	if(!context.workspace)
		context.workspace = this.workspace;
	return context;
};

// Open the specified host
AdaptorBase.prototype.openHost = function(host,context,userParams,callback)
{
	this.host = host;
	context = this.setContext(context,userParams,callback);
	context.status = true;
	if(callback)
		window.setTimeout(function() {context.callback(context,userParams);},10);
	return true;
};

// Open the specified workspace
AdaptorBase.prototype.openWorkspace = function(workspace,context,userParams,callback)
{
	this.workspace = workspace;
	context = this.setContext(context,userParams,callback);
	context.status = true;
	if(callback)
		window.setTimeout(function() {callback(context,userParams);},10);
	return true;
};

//--
//-- Server adaptor for talking to static TiddlyWiki files
//--

function FileAdaptor()
{
}

FileAdaptor.prototype = new AdaptorBase();

FileAdaptor.serverType = 'file';
FileAdaptor.serverLabel = 'TiddlyWiki';

FileAdaptor.loadTiddlyWikiSuccess = function(context,jqXHR)
{
	context.status = true;
	context.adaptor.store = new TiddlyWiki();
	if(!context.adaptor.store.importTiddlyWiki(jqXHR.responseText)) {
		context.statusText = config.messages.invalidFileError.format([context.host]);
		context.status = false;
	}
	context.complete(context,context.userParams);
};

FileAdaptor.loadTiddlyWikiError = function(context,jqXHR)
{
	context.status = false;
	context.statusText = jqXHR.message;
	context.complete(context,context.userParams);
};

// Get the list of workspaces on a given server
FileAdaptor.prototype.getWorkspaceList = function(context,userParams,callback)
{
	context = this.setContext(context,userParams,callback);
	context.workspaces = [{title:"(default)"}];
	context.status = true;
	if(callback)
		window.setTimeout(function() {callback(context,userParams);},10);
	return true;
};

// Gets the list of tiddlers within a given workspace
FileAdaptor.prototype.getTiddlerList = function(context,userParams,callback,filter)
{
	context = this.setContext(context,userParams,callback);
	if(!context.filter)
		context.filter = filter;
	context.complete = FileAdaptor.getTiddlerListComplete;
	if(this.store) {
		return context.complete(context,context.userParams);
	}
	var options = {
		type:"GET",
		url:context.host,
		file:context.file, // for HTML5 FileReader
		processData:false,
		success:function(data,textStatus,jqXHR) {
			FileAdaptor.loadTiddlyWikiSuccess(context,jqXHR);
		},
		error:function(jqXHR,textStatus,errorThrown) {
			context.xhr = jqXHR;
			FileAdaptor.loadTiddlyWikiError(context,jqXHR);
		}
	};
	return ajaxReq(options);
};

FileAdaptor.getTiddlerListComplete = function(context,userParams)
{
	if(context.status) {
		if(context.filter) {
			context.tiddlers = context.adaptor.store.filterTiddlers(context.filter);
		} else {
			context.tiddlers = [];
			context.adaptor.store.forEachTiddler(function(title,tiddler) {context.tiddlers.push(tiddler);});
		}
		var i;
		for(i=0; i<context.tiddlers.length; i++) {
			context.tiddlers[i].fields['server.type'] = FileAdaptor.serverType;
			context.tiddlers[i].fields['server.host'] = AdaptorBase.minHostName(context.host);
			context.tiddlers[i].fields['server.page.revision'] = context.tiddlers[i].modified.convertToYYYYMMDDHHMM();
		}
		context.status = true;
	}
	if(context.callback) {
		window.setTimeout(function() {context.callback(context,userParams);},10);
	}
	return true;
};

FileAdaptor.prototype.generateTiddlerInfo = function(tiddler)
{
	var info = {};
	info.uri = tiddler.fields['server.host'] + "#" + tiddler.title;
	return info;
};

// Retrieve a tiddler from a given workspace on a given server
FileAdaptor.prototype.getTiddler = function(title,context,userParams,callback)
{
	context = this.setContext(context,userParams,callback);
	context.title = title;
	context.complete = FileAdaptor.getTiddlerComplete;
	if(context.adaptor.store) {
		return context.complete(context,context.userParams);
	}
	var options = {
		type:"GET",
		url:context.host,
		processData:false,
		success:function(data,textStatus,jqXHR) {
			FileAdaptor.loadTiddlyWikiSuccess(context,jqXHR);
		},
		error:function(jqXHR,textStatus,errorThrown) {
			FileAdaptor.loadTiddlyWikiError(context,jqXHR);
		}
	};
	return ajaxReq(options);
};

FileAdaptor.getTiddlerComplete = function(context,userParams)
{
	var t = context.adaptor.store.fetchTiddler(context.title);
	if(t) {
		t.fields['server.type'] = FileAdaptor.serverType;
		t.fields['server.host'] = AdaptorBase.minHostName(context.host);
		t.fields['server.page.revision'] = t.modified.convertToYYYYMMDDHHMM();
		context.tiddler = t;
		context.status = true;
	} else { //# tiddler does not exist in document
		context.status = false;
	}
	if(context.allowSynchronous) {
		context.isSynchronous = true;
		context.callback(context,userParams);
	} else {
		window.setTimeout(function() {context.callback(context,userParams);},10);
	}
	return true;
};

FileAdaptor.prototype.close = function()
{
	this.store = null;
};

config.adaptors[FileAdaptor.serverType] = FileAdaptor;

config.defaultAdaptor = FileAdaptor.serverType;

//--
//-- HTTP request code
//--

function ajaxReq(args)
{
	if (args.file || args.url.startsWith("file"))  // LOCAL FILE
		return localAjax(args);
	return jQuery.ajax(args);
}

function localAjax(args)
{
	var success=function(data)
		{ args.success(data,"success",{ responseText:data }); }
	var failure=function(who)
		{ args.error({ message:who+": cannot read local file" },"error",0); }

	if (args.file) try { // HTML5 FileReader (Chrome, FF20+, Safari, etc.)
		var reader=new FileReader();
		reader.onload=function(e)  { success(e.target.result); }
		reader.onerror=function(e) { failure("FileReader"); }
		reader.readAsText(args.file);
		return true;
	} catch (ex) { ; }

	try { // local file I/O (IE, FF with TiddlyFox, Chrome/Safari with TiddlySaver, etc.)
		var data=loadFile(getLocalPath(args.url));
		if (data) success(data);
		else failure("loadFile");
		return true;
	} catch (ex) { ; }

	return true;
}

function httpReq(type,url,callback,params,headers,data,contentType,username,password,allowCache)
{
	var httpSuccess = function(xhr) {
		try {
			// IE error sometimes returns 1223 when it should be 204 so treat it as success, see #1450
			return (!xhr.status && location.protocol === "file:") ||
				(xhr.status >= 200 && xhr.status < 300) ||
				xhr.status === 304 || xhr.status === 1223;
		} catch(e) {}
		return false;
	};

	var options = {
		type:type,
		url:url,
		processData:false,
		data:data,
		cache:!!allowCache,
		beforeSend: function(xhr) {
			var i;
			for(i in headers)
				xhr.setRequestHeader(i,headers[i]);
		}
	};

	if(callback) {
		options.complete = function(xhr,textStatus) {
			if(httpSuccess(xhr))
				callback(true,params,xhr.responseText,url,xhr);
			else
				callback(false,params,null,url,xhr);
		};
	}
	if(contentType)
		options.contentType = contentType;
	if(username)
		options.username = username;
	if(password)
		options.password = password;
	try {
		if(window.Components && window.netscape && window.netscape.security && document.location.protocol.indexOf("http") == -1)
			window.netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");
	} catch (ex) {
	}
	return jQuery.ajax(options);
}
//--
//-- TiddlyWiki-specific utility functions
//--

// Returns TiddlyWiki version string
function formatVersion(v)
{
	v = v || version;
	return v.major + "." + v.minor + "." + v.revision +
		(v.alpha ? " (alpha " + v.alpha + ")" : "") +
		(v.beta ? " (beta " + v.beta + ")" : "");
}

function compareVersions(v1,v2)
{
	var x1,x2,i,a = ["major","minor","revision"];
	for(i = 0; i<a.length; i++) {
		x1 = v1[a[i]] || 0;
		x2 = v2[a[i]] || 0;
		if(x1<x2)
			return 1;
		if(x1>x2)
			return -1;
	}
	x1 = v1.beta || 9999;
	x2 = v2.beta || 9999;
	if(x1<x2)
		return 1;
	return x1 > x2 ? -1 : 0;
}

function merge(dst,src,preserveExisting)
{
	var i;
	for(i in src) {
		if(!preserveExisting || dst[i] === undefined)
			dst[i] = src[i];
	}
	return dst;
}

// Resolve the target object of an event
function resolveTarget(e)
{
	var obj;
	if(e.target)
		obj = e.target;
	else if(e.srcElement)
		obj = e.srcElement;
	if(obj.nodeType == 3) // defeat Safari bug
		obj = obj.parentNode;
	return obj;
}

// Returns a string containing the description of an exception, optionally prepended by a message
function exceptionText(e,message)
{
	var s = e.description || e.toString();
	return message ? "%0:\n%1".format([message,s]) : s;
}

// Displays an alert of an exception description with optional message
function showException(e,message)
{
	alert(exceptionText(e,message));
}

function alertAndThrow(m)
{
	alert(m);
	throw(m);
}

function glyph(name)
{
	var g = config.glyphs;
	var b = g.currBrowser;
	if(b == null) {
		b = 0;
		while(b < g.browsers.length-1 && !g.browsers[b]())
			b++;
		g.currBrowser = b;
	}
	if(!g.codes[name])
		return "";
	return g.codes[name][b];
}

function createTiddlyText(parent,text)
{
	return parent.appendChild(document.createTextNode(text));
}

function createTiddlyCheckbox(parent,caption,checked,onChange)
{
	var cb = document.createElement("input");
	cb.setAttribute("type","checkbox");
	cb.onclick = onChange;
	parent.appendChild(cb);
	cb.checked = checked;
	cb.className = "chkOptionInput";
	if(caption)
		wikify(caption,parent);
	return cb;
}

function createTiddlyElement(parent,element,id,className,text,attribs)
{
	var n,e = document.createElement(element);
	if(className != null)
		e.className = className;
	if(id != null)
		e.setAttribute("id",id);
	if(text != null)
		e.appendChild(document.createTextNode(text));
	if(attribs) {
		for(n in attribs) {
			e.setAttribute(n,attribs[n]);
		}
	}
	if(parent != null)
		parent.appendChild(e);
	return e;
}

function createTiddlyButton(parent,text,tooltip,action,className,id,accessKey,attribs)
{
	var i,btn = document.createElement("a");
	btn.setAttribute("href","javascript:;");
	if(action) {
		btn.onclick = action;
	}
	if(tooltip)
		btn.setAttribute("title",tooltip);
	if(text)
		btn.appendChild(document.createTextNode(text));
	btn.className = className || "button";
	if(id)
		btn.id = id;
	if(attribs) {
		for(i in attribs) {
			btn.setAttribute(i,attribs[i]);
		}
	}
	if(parent)
		parent.appendChild(btn);
	if(accessKey)
		btn.setAttribute("accessKey",accessKey);
	return btn;
}

function createExternalLink(place,url,label)
{
	var link = document.createElement("a");
	link.className = "externalLink";
	link.href = url;
	var f = config.messages.externalLinkTooltip;
	link.title = f ? f.format([url]) : url;
	if(config.options.chkOpenInNewWindow)
		link.target = "_blank";
	place.appendChild(link);
	if(label)
		createTiddlyText(link, label);
	return link;
}

function getTiddlyLinkInfo(title,currClasses)
{
	var classes = currClasses ? currClasses.split(" ") : [];
	classes.pushUnique("tiddlyLink");
	var tiddler = store.fetchTiddler(title);
	var subTitle;
	if(tiddler) {
		subTitle = tiddler.getSubtitle();
		classes.pushUnique("tiddlyLinkExisting");
		classes.remove("tiddlyLinkNonExisting");
		classes.remove("shadow");
	} else {
	    var f;
		classes.remove("tiddlyLinkExisting");
		classes.pushUnique("tiddlyLinkNonExisting");
		if(store.isShadowTiddler(title)) {
			f = config.messages.shadowedTiddlerToolTip;
			classes.pushUnique("shadow");
		} else {
			f = config.messages.undefinedTiddlerToolTip;
			classes.remove("shadow");
		}
		subTitle = f ? f.format([title]) : "";
	}
	if(typeof config.annotations[title]=="string")
		subTitle = config.annotations[title];
	return {classes: classes.join(" "),subTitle: subTitle};
}

// Event handler for clicking on a tiddly link
function onClickTiddlerLink(ev)
{
	var e = ev || window.event;
	var target = resolveTarget(e);
	var link = target;
	var title = null;
	var fields = null;
	var noToggle = null;
	do {
		title = link.getAttribute("tiddlyLink");
		fields = link.getAttribute("tiddlyFields");
		noToggle = link.getAttribute("noToggle");
		link = link.parentNode;
	} while(title == null && link != null);
	if(!store.isShadowTiddler(title)) {
		var f = fields ? fields.decodeHashMap() : {};
		fields = String.encodeHashMap(merge(f,config.defaultCustomFields,true));
	}
	if(title) {
		var toggling = e.metaKey || e.ctrlKey;
		if(config.options.chkToggleLinks)
			toggling = !toggling;
		if(noToggle)
			toggling = false;
		if(store.getTiddler(title))
			fields = null;
		story.displayTiddler(target,title,null,true,null,fields,toggling);
	}
	clearMessage();
	return false;
}

function createTiddlyLink(place,title,includeText,className,isStatic,linkedFromTiddler,noToggle)
{
	var title = jQuery.trim(title);
	var text = includeText ? title : null;
	var i = getTiddlyLinkInfo(title,className);
	var btn = isStatic ? createExternalLink(place,store.getTiddlerText("SiteUrl",null) + "#" + title) : createTiddlyButton(place,text,i.subTitle,onClickTiddlerLink,i.classes);
	if(isStatic)
		btn.className += ' ' + className;
	btn.setAttribute("refresh","link");
	btn.setAttribute("tiddlyLink",title);
	if(noToggle)
		btn.setAttribute("noToggle","true");
	if(linkedFromTiddler) {
		var fields = linkedFromTiddler.getInheritedFields();
		if(fields)
			btn.setAttribute("tiddlyFields",fields);
	}
	return btn;
}

function refreshTiddlyLink(e,title)
{
	var i = getTiddlyLinkInfo(title,e.className);
	e.className = i.classes;
	e.title = i.subTitle;
}

function createTiddlyDropDown(place,onchange,options,defaultValue)
{
	var sel = createTiddlyElement(place,"select");
	sel.onchange = onchange;
	var t;
	for(t=0; t<options.length; t++) {
		var e = createTiddlyElement(sel,"option",null,null,options[t].caption);
		e.value = options[t].name;
		if(options[t].name == defaultValue)
			e.selected = true;
	}
	return sel;
}

//--
//-- TiddlyWiki-specific popup utility functions
//--

// Event handler for 'open all' on a tiddler popup
function onClickTagOpenAll(ev)
{
	var tiddlers = store.getTaggedTiddlers(this.getAttribute("tag"));
	var sortby = this.getAttribute("sortby");
	if(sortby&&sortby.length) {
		store.sortTiddlers(tiddlers,sortby);
	}
	story.displayTiddlers(this,tiddlers);
	return false;
}

// Event handler for clicking on a tiddler tag
function onClickTag(ev)
{
	var e = ev || window.event;
	var popup = Popup.create(this);
	jQuery(popup).addClass("taggedTiddlerList");
	var tag = this.getAttribute("tag");
	var title = this.getAttribute("tiddler");
	if(popup && tag) {
		var tagged = tag.indexOf("[")==-1 ? store.getTaggedTiddlers(tag) : store.filterTiddlers(tag);
		var sortby = this.getAttribute("sortby");
		if(sortby&&sortby.length) {
			store.sortTiddlers(tagged,sortby);
		}
		var titles = [];
		var r;
		for(r=0;r<tagged.length;r++) {
			if(tagged[r].title != title)
				titles.push(tagged[r].title);
		}
		var lingo = config.views.wikified.tag;
		if(titles.length > 0) {
			var openAll = createTiddlyButton(createTiddlyElement(popup,"li"),lingo.openAllText.format([tag]),lingo.openAllTooltip,onClickTagOpenAll);
			openAll.setAttribute("tag",tag);
			openAll.setAttribute("sortby",sortby);
			createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
			for(r=0; r<titles.length; r++) {
				createTiddlyLink(createTiddlyElement(popup,"li"),titles[r],true);
			}
		} else {
			createTiddlyElement(popup,"li",null,"disabled",lingo.popupNone.format([tag]));
		}
		createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
		var h = createTiddlyLink(createTiddlyElement(popup,"li"),tag,false);
		createTiddlyText(h,lingo.openTag.format([tag]));
	}
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
}

// Create a button for a tag with a popup listing all the tiddlers that it tags
function createTagButton(place,tag,excludeTiddler,title,tooltip)
{
	var btn = createTiddlyButton(place,title||tag,(tooltip||config.views.wikified.tag.tooltip).format([tag]),onClickTag);
	btn.setAttribute("tag",tag);
	if(excludeTiddler)
		btn.setAttribute("tiddler",excludeTiddler);
	return btn;
}

function onClickTiddlyPopup(ev)
{
	var e = ev || window.event;
	var tiddler = this.tiddler;
	if(tiddler.text) {
		var popup = Popup.create(this,"div","popupTiddler");
		wikify(tiddler.text,popup,null,tiddler);
		Popup.show();
	}
	if(e) e.cancelBubble = true;
	if(e && e.stopPropagation) e.stopPropagation();
	return false;
}

function createTiddlyPopup(place,caption,tooltip,tiddler)
{
	if(tiddler.text) {
		createTiddlyLink(place,caption,true);
		var btn = createTiddlyButton(place,glyph("downArrow"),tooltip,onClickTiddlyPopup,"tiddlerPopupButton");
		btn.tiddler = tiddler;
	} else {
		createTiddlyText(place,caption);
	}
}

function onClickError(ev)
{
	var e = ev || window.event;
	var popup = Popup.create(this);
	var lines = this.getAttribute("errorText").split("\n");
	var t;
	for(t=0; t<lines.length; t++)
		createTiddlyElement(popup,"li",null,null,lines[t]);
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
}

function createTiddlyError(place,title,text)
{
	var btn = createTiddlyButton(place,title,null,onClickError,"errorButton");
	if(text) btn.setAttribute("errorText",text);
}
//-
//- Animation engine
//-

function Animator()
{
	this.running = 0; // Incremented at start of each animation, decremented afterwards. If zero, the interval timer is disabled
	this.timerID = 0; // ID of the timer used for animating
	this.animations = []; // List of animations in progress
	return this;
}

// Start animation engine
Animator.prototype.startAnimating = function() //# Variable number of arguments
{
	var t;
	for(t=0; t<arguments.length; t++)
		this.animations.push(arguments[t]);
	if(this.running == 0) {
		var me = this;
		this.timerID = window.setInterval(function() {me.doAnimate(me);},10);
	}
	this.running += arguments.length;
};

// Perform an animation engine tick, calling each of the known animation modules
Animator.prototype.doAnimate = function(me)
{
	var a = 0;
	while(a < me.animations.length) {
		var animation = me.animations[a];
		if(animation.tick()) {
			a++;
		} else {
			me.animations.splice(a,1);
			if(--me.running == 0)
				window.clearInterval(me.timerID);
		}
	}
};

Animator.slowInSlowOut = function(progress)
{
	return(1-((Math.cos(progress * Math.PI)+1)/2));
};

//--
//-- Morpher animation
//--

// Animate a set of properties of an element
function Morpher(element,duration,properties,callback)
{
	this.element = element;
	this.duration = duration;
	this.properties = properties;
	this.startTime = new Date();
	this.endTime = Number(this.startTime) + duration;
	this.callback = callback;
	this.tick();
	return this;
}

Morpher.prototype.assignStyle = function(element,style,value)
{
	switch(style) {
	case "-tw-vertScroll":
		window.scrollTo(findScrollX(),value);
		break;
	case "-tw-horizScroll":
		window.scrollTo(value,findScrollY());
		break;
	default:
		element.style[style] = value;
		break;
	}
};

Morpher.prototype.stop = function()
{
	var t;
	for(t=0; t<this.properties.length; t++) {
		var p = this.properties[t];
		if(p.atEnd !== undefined) {
			this.assignStyle(this.element,p.style,p.atEnd);
		}
	}
	if(this.callback)
		this.callback(this.element,this.properties);
};

Morpher.prototype.tick = function()
{
	var currTime = Number(new Date());
	var t,progress = Animator.slowInSlowOut(Math.min(1,(currTime-this.startTime)/this.duration));
	for(t=0; t<this.properties.length; t++) {
		var p = this.properties[t];
		if(p.start !== undefined && p.end !== undefined) {
			var template = p.template || "%0";
			switch(p.format) {
			case undefined:
			case "style":
				var v = p.start + (p.end-p.start) * progress;
				this.assignStyle(this.element,p.style,template.format([v]));
				break;
			case "color":
				break;
			}
		}
	}
	if(currTime >= this.endTime) {
		this.stop();
		return false;
	}
	return true;
};

//--
//-- Zoomer animation
//--

function Zoomer(text,startElement,targetElement,unused)
{
	var e = createTiddlyElement(document.body,"div",null,"zoomer");
	createTiddlyElement(e,"div",null,null,text);
	var winWidth = findWindowWidth();
	var winHeight = findWindowHeight();
	var p = [
		{style: 'left', start: findPosX(startElement), end: findPosX(targetElement), template: '%0px'},
		{style: 'top', start: findPosY(startElement), end: findPosY(targetElement), template: '%0px'},
		{style: 'width', start: Math.min(startElement.scrollWidth,winWidth), end: Math.min(targetElement.scrollWidth,winWidth), template: '%0px', atEnd: 'auto'},
		{style: 'height', start: Math.min(startElement.scrollHeight,winHeight), end: Math.min(targetElement.scrollHeight,winHeight), template: '%0px', atEnd: 'auto'},
		{style: 'fontSize', start: 8, end: 24, template: '%0pt'}
	];
	var c = function(element,properties) {jQuery(element).remove();};
	return new Morpher(e,config.animDuration,p,c);
}

//--
//-- Scroller animation
//--

function Scroller(targetElement)
{
	var p = [{style: '-tw-vertScroll', start: findScrollY(), end: ensureVisible(targetElement)}];
	return new Morpher(targetElement,config.animDuration,p);
}

//--
//-- Slider animation
//--

// deleteMode - "none", "all" [delete target element and it's children], [only] "children" [but not the target element]
function Slider(element,opening,unused,deleteMode)
{
	element.style.overflow = 'hidden';
	if(opening)
		element.style.height = '0px'; // Resolves a Firefox flashing bug
	element.style.display = 'block';
	var height = element.scrollHeight;
	var p = [];
	var c = null;
	if(opening) {
		p.push({style: 'height', start: 0, end: height, template: '%0px', atEnd: 'auto'});
		p.push({style: 'opacity', start: 0, end: 1, template: '%0'});
		p.push({style: 'filter', start: 0, end: 100, template: 'alpha(opacity:%0)'});
	} else {
		p.push({style: 'height', start: height, end: 0, template: '%0px'});
		p.push({style: 'display', atEnd: 'none'});
		p.push({style: 'opacity', start: 1, end: 0, template: '%0'});
		p.push({style: 'filter', start: 100, end: 0, template: 'alpha(opacity:%0)'});
		switch(deleteMode) {
		case "all":
			c = function(element,properties) {jQuery(element).remove();};
			break;
		case "children":
			c = function(element,properties) {jQuery(element).empty();};
			break;
		}
	}
	return new Morpher(element,config.animDuration,p,c);
}

//--
//-- Popup menu
//--

var Popup = {
	stack: [] // Array of objects with members root: and popup:
	};

Popup.create = function(root,elem,className)
{
	var stackPosition = this.find(root,"popup");
	Popup.remove(stackPosition+1);
	var popup = createTiddlyElement(document.body,elem || "ol","popup",className || "popup");
	popup.stackPosition = stackPosition;
	Popup.stack.push({root: root, popup: popup});
	return popup;
};

Popup.onDocumentClick = function(ev)
{
	var e = ev || window.event;
	if(e.eventPhase == undefined)
		Popup.remove();
	else if(e.eventPhase == Event.BUBBLING_PHASE || e.eventPhase == Event.AT_TARGET)
		Popup.remove();
	return true;
};

Popup.show = function(valign,halign,offset)
{
	var curr = Popup.stack[Popup.stack.length-1];
	this.place(curr.root,curr.popup,valign,halign,offset);
	jQuery(curr.root).addClass("highlight");
	if(config.options.chkAnimate && anim && typeof Scroller == "function")
		anim.startAnimating(new Scroller(curr.popup));
	else
		window.scrollTo(0,ensureVisible(curr.popup));
};

Popup.place = function(root,popup,valign,halign,offset)
{
	if(!offset)
		offset = {x:0,y:0};
	if(popup.stackPosition >= 0 && !valign && !halign) {
		offset.x = offset.x + root.offsetWidth;
	} else {
		offset.x = (halign == "right") ? offset.x + root.offsetWidth : offset.x;
		offset.y = (valign == "top") ? offset.y : offset.y + root.offsetHeight;
	}
	var rootLeft = findPosX(root);
	var rootTop = findPosY(root);
	var popupLeft = rootLeft + offset.x;
	var popupTop = rootTop + offset.y;
	var winWidth = findWindowWidth();
	if(popup.offsetWidth > winWidth*0.75)
		popup.style.width = winWidth*0.75 + "px";
	var popupWidth = popup.offsetWidth;
	var scrollWidth = winWidth - document.body.offsetWidth;
	if(popupLeft + popupWidth > winWidth - scrollWidth - 1) {
		if(halign == "right")
			popupLeft = popupLeft - root.offsetWidth - popupWidth;
		else
			popupLeft = winWidth - popupWidth - scrollWidth - 1;
	}
	popup.style.left = popupLeft + "px";
	popup.style.top = popupTop + "px";
	popup.style.display = "block";
};

Popup.find = function(e)
{
	var t,pos = -1;
	for(t=this.stack.length-1; t>=0; t--) {
		if(isDescendant(e,this.stack[t].popup))
			pos = t;
	}
	return pos;
};

Popup.remove = function(pos)
{
	if(!pos) pos = 0;
	if(Popup.stack.length > pos) {
		Popup.removeFrom(pos);
	}
};

Popup.removeFrom = function(from)
{
	var t;
	for(t=Popup.stack.length-1; t>=from; t--) {
		var p = Popup.stack[t];
		jQuery(p.root).removeClass("highlight");
		jQuery(p.popup).remove();
	}
	Popup.stack = Popup.stack.slice(0,from);
};

//--
//-- Wizard support
//--

function Wizard(elem)
{
	if(elem) {
		this.formElem = findRelated(elem,"wizard","className");
		this.bodyElem = findRelated(this.formElem.firstChild,"wizardBody","className","nextSibling");
		this.footElem = findRelated(this.formElem.firstChild,"wizardFooter","className","nextSibling");
	} else {
		this.formElem = null;
		this.bodyElem = null;
		this.footElem = null;
	}
}

Wizard.prototype.setValue = function(name,value)
{
	jQuery(this.formElem).data(name, value);
};

Wizard.prototype.getValue = function(name)
{
	return this.formElem ? jQuery(this.formElem).data(name) : null;
};

Wizard.prototype.createWizard = function(place,title)
{
	this.formElem = createTiddlyElement(place,"form",null,"wizard");
	createTiddlyElement(this.formElem,"h1",null,null,title);
	this.bodyElem = createTiddlyElement(this.formElem,"div",null,"wizardBody");
	this.footElem = createTiddlyElement(this.formElem,"div",null,"wizardFooter");
	return this.formElem;
};

Wizard.prototype.clear = function()
{
	jQuery(this.bodyElem).empty();
};

Wizard.prototype.setButtons = function(buttonInfo,status)
{
	jQuery(this.footElem).empty();
	var t;
	for(t=0; t<buttonInfo.length; t++) {
		createTiddlyButton(this.footElem,buttonInfo[t].caption,buttonInfo[t].tooltip,buttonInfo[t].onClick);
		insertSpacer(this.footElem);
		}
	if(typeof status == "string") {
		createTiddlyElement(this.footElem,"span",null,"status",status);
	}
};

Wizard.prototype.addStep = function(stepTitle,html)
{
	jQuery(this.bodyElem).empty();
	var w = createTiddlyElement(this.bodyElem,"div");
	createTiddlyElement(w,"h2",null,null,stepTitle);
	var step = createTiddlyElement(w,"div",null,"wizardStep");
	step.innerHTML = html;
	applyHtmlMacros(step,tiddler);
};

Wizard.prototype.getElement = function(name)
{
	return this.formElem.elements[name];
};

//--
//-- ListView gadget
//--

var ListView = {};

// Create a listview
ListView.create = function(place,listObject,listTemplate,callback,className)
{
	var table = createTiddlyElement(place,"table",null,className || "listView twtable");
	var thead = createTiddlyElement(table,"thead");
	var t,r = createTiddlyElement(thead,"tr");
	for(t=0; t<listTemplate.columns.length; t++) {
		var columnTemplate = listTemplate.columns[t];
		var c = createTiddlyElement(r,"th");
		var colType = ListView.columnTypes[columnTemplate.type];
		if(colType && colType.createHeader) {
			colType.createHeader(c,columnTemplate,t);
			if(columnTemplate.className)
				jQuery(c).addClass(columnTemplate.className);
		}
	}
	var rc,tbody = createTiddlyElement(table,"tbody");
	for(rc=0; rc<listObject.length; rc++) {
		var rowObject = listObject[rc];
		r = createTiddlyElement(tbody,"tr");
		for(c=0; c<listTemplate.rowClasses.length; c++) {
			if(rowObject[listTemplate.rowClasses[c].field])
				jQuery(r).addClass(listTemplate.rowClasses[c].className);
		}
		rowObject.rowElement = r;
		rowObject.colElements = {};
		var cc;
		for(cc=0; cc<listTemplate.columns.length; cc++) {
			c = createTiddlyElement(r,"td");
			columnTemplate = listTemplate.columns[cc];
			var field = columnTemplate.field;
			colType = ListView.columnTypes[columnTemplate.type];
			if(colType && colType.createItem) {
				colType.createItem(c,rowObject,field,columnTemplate,cc,rc);
				if(columnTemplate.className)
					jQuery(c).addClass(columnTemplate.className);
			}
			rowObject.colElements[field] = c;
		}
	}
	if(callback && listTemplate.actions)
		createTiddlyDropDown(place,ListView.getCommandHandler(callback),listTemplate.actions);
	if(callback && listTemplate.buttons) {
		for(t=0; t<listTemplate.buttons.length; t++) {
			var a = listTemplate.buttons[t];
			if(a && a.name != "")
				createTiddlyButton(place,a.caption,null,ListView.getCommandHandler(callback,a.name,a.allowEmptySelection));
		}
	}
	return table;
};

ListView.getCommandHandler = function(callback,name,allowEmptySelection)
{
	return function(e) {
		var view = findRelated(this,"TABLE",null,"previousSibling");
		var tiddlers = [];
		ListView.forEachSelector(view,function(e,rowName) {
					if(e.checked)
						tiddlers.push(rowName);
					});
		if(tiddlers.length == 0 && !allowEmptySelection) {
			alert(config.messages.nothingSelected);
		} else {
			if(this.nodeName.toLowerCase() == "select") {
				callback(view,this.value,tiddlers);
				this.selectedIndex = 0;
			} else {
				callback(view,name,tiddlers);
			}
		}
	};
};

// Invoke a callback for each selector checkbox in the listview
ListView.forEachSelector = function(view,callback)
{
	var checkboxes = view.getElementsByTagName("input");
	var t,hadOne = false;
	for(t=0; t<checkboxes.length; t++) {
		var cb = checkboxes[t];
		if(cb.getAttribute("type") == "checkbox") {
			var rn = cb.getAttribute("rowName");
			if(rn) {
				callback(cb,rn);
				hadOne = true;
			}
		}
	}
	return hadOne;
};

ListView.getSelectedRows = function(view)
{
	var rowNames = [];
	ListView.forEachSelector(view,function(e,rowName) {
				if(e.checked)
					rowNames.push(rowName);
				});
	return rowNames;
};

ListView.columnTypes = {};

ListView.columnTypes.String = {
	createHeader: function(place,columnTemplate,col)
		{
			createTiddlyText(place,columnTemplate.title);
		},
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				createTiddlyText(place,v);
		}
};

ListView.columnTypes.WikiText = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				wikify(v,place,null,null);
		}
};

ListView.columnTypes.Tiddler = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined && v.title)
				createTiddlyPopup(place,v.title,config.messages.listView.tiddlerTooltip,v);
		}
};

ListView.columnTypes.Size = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var msg = config.messages.sizeTemplates;
			var v = listObject[field];
			if(v != undefined) {
				var t = 0;
				while(t<msg.length-1 && v<msg[t].unit)
					t++;
				createTiddlyText(place,msg[t].template.format([Math.round(v/msg[t].unit)]));
			}
		}
};

ListView.columnTypes.Link = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			var c = columnTemplate.text;
			if(v != undefined)
				createExternalLink(place,v,c || v);
		}
};

ListView.columnTypes.Date = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				createTiddlyText(place,v.formatString(columnTemplate.dateFormat));
		}
};

ListView.columnTypes.StringList = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined) {
				var t;
				for(t=0; t<v.length; t++) {
					createTiddlyText(place,v[t]);
					createTiddlyElement(place,"br");
				}
			}
		}
};

ListView.columnTypes.Selector = {
	createHeader: function(place,columnTemplate,col)
		{
			createTiddlyCheckbox(place,null,false,this.onHeaderChange);
		},
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var e = createTiddlyCheckbox(place,null,listObject[field],null);
			e.setAttribute("rowName",listObject[columnTemplate.rowName]);
		},
	onHeaderChange: function(e)
		{
			var state = this.checked;
			var view = findRelated(this,"TABLE");
			if(!view)
				return;
			ListView.forEachSelector(view,function(e,rowName) {
								e.checked = state;
							});
		}
};

ListView.columnTypes.Tags = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var tags = listObject[field];
			createTiddlyText(place,String.encodeTiddlyLinkList(tags));
		}
};

ListView.columnTypes.Boolean = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			if(listObject[field] == true)
				createTiddlyText(place,columnTemplate.trueText);
			if(listObject[field] == false)
				createTiddlyText(place,columnTemplate.falseText);
		}
};

ListView.columnTypes.TagCheckbox = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var e = createTiddlyCheckbox(place,null,listObject[field],this.onChange);
			e.setAttribute("tiddler",listObject.title);
			e.setAttribute("tag",columnTemplate.tag);
		},
	onChange : function(e)
		{
			var tag = this.getAttribute("tag");
			var tiddler = this.getAttribute("tiddler");
			store.setTiddlerTag(tiddler,this.checked,tag);
		}
};

ListView.columnTypes.TiddlerLink = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined) {
				var link = createTiddlyLink(place,listObject[columnTemplate.tiddlerLink],false,null);
				createTiddlyText(link,listObject[field]);
			}
		}
};

//--
//-- Augmented methods for the JavaScript Array() object
//--

// Add indexOf function if browser does not support it
if(!Array.indexOf) {
Array.prototype.indexOf = function(item,from)
{
	if(!from)
		from = 0;
	var i;
	for(i=from; i<this.length; i++) {
		if(this[i] === item)
			return i;
	}
	return -1;
};}

// Find an entry in a given field of the members of an array
Array.prototype.findByField = function(field,value)
{
	var t;
	for(t=0; t<this.length; t++) {
		if(this[t][field] === value)
			return t;
	}
	return null;
};

// Return whether an entry exists in an array
Array.prototype.contains = function(item)
{
	return this.indexOf(item) != -1;
};

// Adds, removes or toggles a particular value within an array
//  value - value to add
//  mode - +1 to add value, -1 to remove value, 0 to toggle it
Array.prototype.setItem = function(value,mode)
{
	var p = this.indexOf(value);
	if(mode == 0)
		mode = (p == -1) ? +1 : -1;
	if(mode == +1) {
		if(p == -1)
			this.push(value);
	} else if(mode == -1) {
		if(p != -1)
			this.splice(p,1);
	}
};

// Return whether one of a list of values exists in an array
Array.prototype.containsAny = function(items)
{
	var i;
	for(i=0; i<items.length; i++) {
		if(this.indexOf(items[i]) != -1)
			return true;
	}
	return false;
};

// Return whether all of a list of values exists in an array
Array.prototype.containsAll = function(items)
{
	var i;
	for(i = 0; i<items.length; i++) {
		if(this.indexOf(items[i]) == -1)
			return false;
	}
	return true;
};

// Push a new value into an array only if it is not already present in the array. If the optional unique parameter is false, it reverts to a normal push
Array.prototype.pushUnique = function(item,unique)
{
	if(unique === false) {
		this.push(item);
	} else {
		if(this.indexOf(item) == -1)
			this.push(item);
	}
};

Array.prototype.remove = function(item)
{
	var p = this.indexOf(item);
	if(p != -1)
		this.splice(p,1);
};

if(!Array.prototype.map) {
Array.prototype.map = function(fn,thisObj)
{
	var scope = thisObj || window;
	var i,j,a = [];
	for(i=0, j=this.length; i < j; ++i) {
		a.push(fn.call(scope,this[i],i,this));
	}
	return a;
};}

//--
//-- Augmented methods for the JavaScript String() object
//--

// Get characters from the right end of a string
String.prototype.right = function(n)
{
	return n < this.length ? this.slice(this.length-n) : this;
};

// Trim whitespace from both ends of a string
String.prototype.trim = function()
{
	return this.replace(/^\s*|\s*$/g,"");
};

// Convert a string from a CSS style property name to a JavaScript style name ("background-color" -> "backgroundColor")
String.prototype.unDash = function()
{
	var t,s = this.split("-");
	if(s.length > 1) {
		for(t=1; t<s.length; t++)
			s[t] = s[t].substr(0,1).toUpperCase() + s[t].substr(1);
	}
	return s.join("");
};

// Substitute substrings from an array into a format string that includes '%1'-type specifiers
String.prototype.format = function(s)
{
	var substrings = s && s.constructor == Array ? s : arguments;
	var subRegExp = /(?:%(\d+))/mg;
	var currPos = 0;
	var match,r = [];
	do {
		match = subRegExp.exec(this);
		if(match && match[1]) {
			if(match.index > currPos)
				r.push(this.substring(currPos,match.index));
			r.push(substrings[parseInt(match[1],10)]);
			currPos = subRegExp.lastIndex;
		}
	} while(match);
	if(currPos < this.length)
		r.push(this.substring(currPos,this.length));
	return r.join("");
};

// Escape any special RegExp characters with that character preceded by a backslash
String.prototype.escapeRegExp = function()
{
	var s = "\\^$*+?()=!|,{}[].";
	var t,c = this;
	for(t=0; t<s.length; t++)
		c = c.replace(new RegExp("\\" + s.substr(t,1),"g"),"\\" + s.substr(t,1));
	return c;
};

// Convert "\" to "\s", newlines to "\n" (and remove carriage returns)
String.prototype.escapeLineBreaks = function()
{
	return this.replace(/\\/mg,"\\s").replace(/\n/mg,"\\n").replace(/\r/mg,"");
};

// Convert "\n" to newlines, "\b" to " ", "\s" to "\" (and remove carriage returns)
String.prototype.unescapeLineBreaks = function()
{
	return this.replace(/\\n/mg,"\n").replace(/\\b/mg," ").replace(/\\s/mg,"\\").replace(/\r/mg,"");
};

// Convert & to "&amp;", < to "&lt;", > to "&gt;" and " to "&quot;"
String.prototype.htmlEncode = function()
{
	return this.replace(/&/mg,"&amp;").replace(/</mg,"&lt;").replace(/>/mg,"&gt;").replace(/\"/mg,"&quot;");
};

// Convert "&amp;" to &, "&lt;" to <, "&gt;" to > and "&quot;" to "
String.prototype.htmlDecode = function()
{
	return this.replace(/&lt;/mg,"<").replace(/&gt;/mg,">").replace(/&quot;/mg,"\"").replace(/&amp;/mg,"&");
};

// Parse a space-separated string of name:value parameters
// The result is an array of objects:
//   result[0] = object with a member for each parameter name, value of that member being an array of values
//   result[1..n] = one object for each parameter, with 'name' and 'value' members
String.prototype.parseParams = function(defaultName,defaultValue,allowEval,noNames,cascadeDefaults)
{
	var parseToken = function(match,p) {
		var n;
		if(match[p]) // Double quoted
			n = match[p];
		else if(match[p+1]) // Single quoted
			n = match[p+1];
		else if(match[p+2]) // Double-square-bracket quoted
			n = match[p+2];
		else if(match[p+3]) // Double-brace quoted
			try {
				n = match[p+3];
				if(allowEval && config.evaluateMacroParameters != "none") {
					if(config.evaluateMacroParameters == "restricted") {
						if(window.restrictedEval) {
							n = window.restrictedEval(n);
						}
					} else {
						n = window.eval(n);
					}
				}
			} catch(ex) {
				throw "Unable to evaluate {{" + match[p+3] + "}}: " + exceptionText(ex);
			}
		else if(match[p+4]) // Unquoted
			n = match[p+4];
		else if(match[p+5]) // empty quote
			n = "";
		return n;
	};
	var r = [{}];
	var dblQuote = "(?:\"((?:(?:\\\\\")|[^\"])+)\")";
	var sngQuote = "(?:'((?:(?:\\\\\')|[^'])+)')";
	var dblSquare = "(?:\\[\\[((?:\\s|\\S)*?)\\]\\])";
	var dblBrace = "(?:\\{\\{((?:\\s|\\S)*?)\\}\\})";
	var unQuoted = noNames ? "([^\"'\\s]\\S*)" : "([^\"':\\s][^\\s:]*)";
	var emptyQuote = "((?:\"\")|(?:''))";
	var skipSpace = "(?:\\s*)";
	var token = "(?:" + dblQuote + "|" + sngQuote + "|" + dblSquare + "|" + dblBrace + "|" + unQuoted + "|" + emptyQuote + ")";
	var re = noNames ? new RegExp(token,"mg") : new RegExp(skipSpace + token + skipSpace + "(?:(\\:)" + skipSpace + token + ")?","mg");
	var match;
	do {
		match = re.exec(this);
		if(match) {
			var n = parseToken(match,1);
			if(noNames) {
				r.push({name:"",value:n});
			} else {
				var v = parseToken(match,8);
				if(v == null && defaultName) {
					v = n;
					n = defaultName;
				} else if(v == null && defaultValue) {
					v = defaultValue;
				}
				r.push({name:n,value:v});
				if(cascadeDefaults) {
					defaultName = n;
					defaultValue = v;
				}
			}
		}
	} while(match);
	// Summarise parameters into first element
	var t;
	for(t=1; t<r.length; t++) {
		if(r[0][r[t].name])
			r[0][r[t].name].push(r[t].value);
		else
			r[0][r[t].name] = [r[t].value];
	}
	return r;
};

// Process a string list of macro parameters into an array. Parameters can be quoted with "", '',
// [[]], {{ }} or left unquoted (and therefore space-separated). Double-braces {{}} results in
// an *evaluated* parameter: e.g. {{config.options.txtUserName}} results in the current user's name.
String.prototype.readMacroParams = function(notAllowEval)
{
	var p = this.parseParams("list",null,!notAllowEval,true);
	var t,n = [];
	for(t=1; t<p.length; t++)
		n.push(p[t].value);
	return n;
};

// Process a string list of unique tiddler names into an array. Tiddler names that have spaces in them must be [[bracketed]]
String.prototype.readBracketedList = function(unique)
{
	var p = this.parseParams("list",null,false,true);
	var t,n = [];
	for(t=1; t<p.length; t++) {
		if(p[t].value)
			n.pushUnique(p[t].value,unique);
	}
	return n;
};

// Returns array with start and end index of chunk between given start and end marker, or undefined.
String.prototype.getChunkRange = function(start,end)
{
	var s = this.indexOf(start);
	if(s != -1) {
		s += start.length;
		var e = this.indexOf(end,s);
		if(e != -1)
			return [s,e];
	}
};

// Replace a chunk of a string given start and end markers
String.prototype.replaceChunk = function(start,end,sub)
{
	var r = this.getChunkRange(start,end);
	return r ? this.substring(0,r[0]) + sub + this.substring(r[1]) : this;
};

// Returns a chunk of a string between start and end markers, or undefined
String.prototype.getChunk = function(start,end)
{
	var r = this.getChunkRange(start,end);
	if(r)
		return this.substring(r[0],r[1]);
};


// Static method to bracket a string with double square brackets if it contains a space
String.encodeTiddlyLink = function(title)
{
	return title.indexOf(" ") == -1 ? title : "[[" + title + "]]";
};

// Static method to encodeTiddlyLink for every item in an array and join them with spaces
String.encodeTiddlyLinkList = function(list)
{
	if(list) {
		var t,results = [];
		for(t=0; t<list.length; t++)
			results.push(String.encodeTiddlyLink(list[t]));
		return results.join(" ");
	} else {
		return "";
	}
};

// Convert a string as a sequence of name:"value" pairs into a hashmap
String.prototype.decodeHashMap = function()
{
	var fields = this.parseParams("anon","",false);
	var t,r = {};
	for(t=1; t<fields.length; t++)
		r[fields[t].name] = fields[t].value;
	return r;
};

// Static method to encode a hashmap into a name:"value"... string
String.encodeHashMap = function(hashmap)
{
	var t,r = [];
	for(t in hashmap)
		r.push(t + ':"' + hashmap[t] + '"');
	return r.join(" ");
};

// Static method to left-pad a string with 0s to a certain width
String.zeroPad = function(n,d)
{
	var s = n.toString();
	if(s.length < d)
		s = "000000000000000000000000000".substr(0,d-s.length) + s;
	return s;
};

String.prototype.startsWith = function(prefix)
{
	return !prefix || this.substring(0,prefix.length) == prefix;
};

// Returns the first value of the given named parameter.
function getParam(params,name,defaultValue)
{
	if(!params)
		return defaultValue;
	var p = params[0][name];
	return p ? p[0] : defaultValue;
}

// Returns the first value of the given boolean named parameter.
function getFlag(params,name,defaultValue)
{
	return !!getParam(params,name,defaultValue);
}

//--
//-- Augmented methods for the JavaScript Date() object
//--

// Substitute date components into a string
Date.prototype.formatString = function(template)
{
	var t = template.replace(/0hh12/g,String.zeroPad(this.getHours12(),2));
	t = t.replace(/hh12/g,this.getHours12());
	t = t.replace(/0hh/g,String.zeroPad(this.getHours(),2));
	t = t.replace(/hh/g,this.getHours());
	t = t.replace(/mmm/g,config.messages.dates.shortMonths[this.getMonth()]);
	t = t.replace(/0mm/g,String.zeroPad(this.getMinutes(),2));
	t = t.replace(/mm/g,this.getMinutes());
	t = t.replace(/0ss/g,String.zeroPad(this.getSeconds(),2));
	t = t.replace(/ss/g,this.getSeconds());
	t = t.replace(/[ap]m/g,this.getAmPm().toLowerCase());
	t = t.replace(/[AP]M/g,this.getAmPm().toUpperCase());
	t = t.replace(/wYYYY/g,this.getYearForWeekNo());
	t = t.replace(/wYY/g,String.zeroPad(this.getYearForWeekNo()-2000,2));
	t = t.replace(/YYYY/g,this.getFullYear());
	t = t.replace(/YY/g,String.zeroPad(this.getFullYear()-2000,2));
	t = t.replace(/MMM/g,config.messages.dates.months[this.getMonth()]);
	t = t.replace(/0MM/g,String.zeroPad(this.getMonth()+1,2));
	t = t.replace(/MM/g,this.getMonth()+1);
	t = t.replace(/0WW/g,String.zeroPad(this.getWeek(),2));
	t = t.replace(/WW/g,this.getWeek());
	t = t.replace(/DDD/g,config.messages.dates.days[this.getDay()]);
	t = t.replace(/ddd/g,config.messages.dates.shortDays[this.getDay()]);
	t = t.replace(/0DD/g,String.zeroPad(this.getDate(),2));
	t = t.replace(/DDth/g,this.getDate()+this.daySuffix());
	t = t.replace(/DD/g,this.getDate());
	var tz = this.getTimezoneOffset();
	var atz = Math.abs(tz);
	t = t.replace(/TZD/g,(tz < 0 ? '+' : '-') + String.zeroPad(Math.floor(atz / 60),2) + ':' + String.zeroPad(atz % 60,2));
	t = t.replace(/\\/g,"");
	return t;
};

Date.prototype.getWeek = function()
{
	var dt = new Date(this.getTime());
	var d = dt.getDay();
	if(d==0) d=7;// JavaScript Sun=0, ISO Sun=7
	dt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week to calculate weekNo
	var n = Math.floor((dt.getTime()-new Date(dt.getFullYear(),0,1)+3600000)/86400000);
	return Math.floor(n/7)+1;
};

Date.prototype.getYearForWeekNo = function()
{
	var dt = new Date(this.getTime());
	var d = dt.getDay();
	if(d==0) d=7;// JavaScript Sun=0, ISO Sun=7
	dt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week
	return dt.getFullYear();
};

Date.prototype.getHours12 = function()
{
	var h = this.getHours();
	return h > 12 ? h-12 : ( h > 0 ? h : 12 );
};

Date.prototype.getAmPm = function()
{
	return this.getHours() >= 12 ? config.messages.dates.pm : config.messages.dates.am;
};

Date.prototype.daySuffix = function()
{
	return config.messages.dates.daySuffixes[this.getDate()-1];
};

// Convert a date to local YYYYMMDDHHMM string format
Date.prototype.convertToLocalYYYYMMDDHHMM = function()
{
	return this.getFullYear() + String.zeroPad(this.getMonth()+1,2) + String.zeroPad(this.getDate(),2) + String.zeroPad(this.getHours(),2) + String.zeroPad(this.getMinutes(),2);
};

// Convert a date to UTC YYYYMMDDHHMM string format
Date.prototype.convertToYYYYMMDDHHMM = function()
{
	return this.getUTCFullYear() + String.zeroPad(this.getUTCMonth()+1,2) + String.zeroPad(this.getUTCDate(),2) + String.zeroPad(this.getUTCHours(),2) + String.zeroPad(this.getUTCMinutes(),2);
};

// Convert a date to UTC YYYYMMDD.HHMMSSMMM string format
Date.prototype.convertToYYYYMMDDHHMMSSMMM = function()
{
	return this.getUTCFullYear() + String.zeroPad(this.getUTCMonth()+1,2) + String.zeroPad(this.getUTCDate(),2) + "." + String.zeroPad(this.getUTCHours(),2) + String.zeroPad(this.getUTCMinutes(),2) + String.zeroPad(this.getUTCSeconds(),2) + String.zeroPad(this.getUTCMilliseconds(),3) +"0";
};

// Static method to create a date from a UTC YYYYMMDDHHMM format string
Date.convertFromYYYYMMDDHHMM = function(d)
{
	d = d?d.replace(/[^0-9]/g, ""):"";
	return Date.convertFromYYYYMMDDHHMMSSMMM(d.substr(0,12));
};

// Static method to create a date from a UTC YYYYMMDDHHMMSS format string
Date.convertFromYYYYMMDDHHMMSS = function(d)
{
	d = d?d.replace(/[^0-9]/g, ""):"";
	return Date.convertFromYYYYMMDDHHMMSSMMM(d.substr(0,14));
};

// Static method to create a date from a UTC YYYYMMDDHHMMSSMMM format string
Date.convertFromYYYYMMDDHHMMSSMMM = function(d)
{
	d = d ? d.replace(/[^0-9]/g, "") : "";
	return new Date(Date.UTC(parseInt(d.substr(0,4),10),
			parseInt(d.substr(4,2),10)-1,
			parseInt(d.substr(6,2),10),
			parseInt(d.substr(8,2)||"00",10),
			parseInt(d.substr(10,2)||"00",10),
			parseInt(d.substr(12,2)||"00",10),
			parseInt(d.substr(14,3)||"000",10)));
};

//--
//-- RGB colour object
//--

// Construct an RGB colour object from a '#rrggbb', '#rgb' or 'rgb(n,n,n)' string or from separate r,g,b values
function RGB(r,g,b)
{
	this.r = 0;
	this.g = 0;
	this.b = 0;
	if(typeof r == "string") {
		if(r.substr(0,1) == "#") {
			if(r.length == 7) {
				this.r = parseInt(r.substr(1,2),16)/255;
				this.g = parseInt(r.substr(3,2),16)/255;
				this.b = parseInt(r.substr(5,2),16)/255;
			} else {
				this.r = parseInt(r.substr(1,1),16)/15;
				this.g = parseInt(r.substr(2,1),16)/15;
				this.b = parseInt(r.substr(3,1),16)/15;
			}
		} else {
			var rgbPattern = /rgb\s*\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/;
			var c = r.match(rgbPattern);
			if(c) {
				this.r = parseInt(c[1],10)/255;
				this.g = parseInt(c[2],10)/255;
				this.b = parseInt(c[3],10)/255;
			}
		}
	} else {
		this.r = r;
		this.g = g;
		this.b = b;
	}
	return this;
}

// Mixes this colour with another in a specified proportion
// c = other colour to mix
// f = 0..1 where 0 is this colour and 1 is the new colour
// Returns an RGB object
RGB.prototype.mix = function(c,f)
{
	return new RGB(this.r + (c.r-this.r) * f,this.g + (c.g-this.g) * f,this.b + (c.b-this.b) * f);
};

// Return an rgb colour as a #rrggbb format hex string
RGB.prototype.toString = function()
{
	var clamp = function(x,min,max) {
		return x < min ? min : (x > max ? max : x);
	};
	return "#" +
			("0" + Math.floor(clamp(this.r,0,1) * 255).toString(16)).right(2) +
			("0" + Math.floor(clamp(this.g,0,1) * 255).toString(16)).right(2) +
			("0" + Math.floor(clamp(this.b,0,1) * 255).toString(16)).right(2);
};

//--
//-- DOM utilities - many derived from www.quirksmode.org
//--

function drawGradient(place,horiz,locolors,hicolors)
{
	if(!hicolors)
		hicolors = locolors;
	var t;
	for(t=0; t<= 100; t+=2) {
		var bar = document.createElement("div");
		place.appendChild(bar);
		bar.style.position = "absolute";
		bar.style.left = horiz ? t + "%" : 0;
		bar.style.top = horiz ? 0 : t + "%";
		bar.style.width = horiz ? (101-t) + "%" : "100%";
		bar.style.height = horiz ? "100%" : (101-t) + "%";
		bar.style.zIndex = -1;
		var p = t/100*(locolors.length-1);
		var hc = hicolors[Math.floor(p)];
		if(typeof hc == "string")
			hc = new RGB(hc);
		var lc = locolors[Math.ceil(p)];
		if(typeof lc == "string")
			lc = new RGB(lc);
		bar.style.backgroundColor = hc.mix(lc,p-Math.floor(p)).toString();
	}
}

function addEvent(obj,type,fn)
{
	if(obj.attachEvent) {
		obj["e"+type+fn] = fn;
		obj[type+fn] = function(){obj["e"+type+fn](window.event);};
		obj.attachEvent("on"+type,obj[type+fn]);
	} else {
		obj.addEventListener(type,fn,false);
	}
}

function removeEvent(obj,type,fn)
{
	if(obj.detachEvent) {
		obj.detachEvent("on"+type,obj[type+fn]);
		obj[type+fn] = null;
	} else {
		obj.removeEventListener(type,fn,false);
	}
}

// Find the closest relative with a given property value (property defaults to tagName, relative defaults to parentNode)
function findRelated(e,value,name,relative)
{
	name = name || "tagName";
	relative = relative || "parentNode";
	if(name == "className") {
		while(e && !jQuery(e).hasClass(value)) {
			e = e[relative];
		}
	} else {
		while(e && e[name] != value) {
			e = e[relative];
		}
	}
	return e;
}

// Get the scroll position for window.scrollTo necessary to scroll a given element into view
function ensureVisible(e)
{
	var posTop = findPosY(e);
	var posBot = posTop + e.offsetHeight;
	var winTop = findScrollY();
	var winHeight = findWindowHeight();
	var winBot = winTop + winHeight;
	if(posTop < winTop) {
		return posTop;
	} else if(posBot > winBot) {
		if(e.offsetHeight < winHeight)
			return posTop - (winHeight - e.offsetHeight);
		else
			return posTop;
	} else {
		return winTop;
	}
}

// Get the current width of the display window
function findWindowWidth()
{
	return window.innerWidth || document.documentElement.clientWidth;
}

// Get the current height of the display window
function findWindowHeight()
{
	return window.innerHeight || document.documentElement.clientHeight;
}

// Get the current height of the document
function findDocHeight() {
    var D = document;
    return Math.max(
        Math.max(D.body.scrollHeight, D.documentElement.scrollHeight),
        Math.max(D.body.offsetHeight, D.documentElement.offsetHeight),
        Math.max(D.body.clientHeight, D.documentElement.clientHeight)
    );
}

// Get the current horizontal page scroll position
function findScrollX()
{
	return window.scrollX || document.documentElement.scrollLeft;
}

// Get the current vertical page scroll position
function findScrollY()
{
	return window.scrollY || document.documentElement.scrollTop;
}

function findPosX(obj)
{
	var curleft = 0;
	while(obj.offsetParent) {
		curleft += obj.offsetLeft;
		obj = obj.offsetParent;
	}
	return curleft;
}

function findPosY(obj)
{
	var curtop = 0;
	while(obj.offsetParent) {
		curtop += obj.offsetTop;
		obj = obj.offsetParent;
	}
	return curtop;
}

// Blur a particular element
function blurElement(e)
{
	if(e && e.focus && e.blur) {
		e.focus();
		e.blur();
	}
}

// Create a non-breaking space
function insertSpacer(place)
{
	var e = document.createTextNode(String.fromCharCode(160));
	if(place)
		place.appendChild(e);
	return e;
}

// Replace the current selection of a textarea or text input and scroll it into view
function replaceSelection(e,text)
{
	if(e.setSelectionRange) {
		var oldpos = e.selectionStart;
		var isRange = e.selectionEnd > e.selectionStart;
		e.value = e.value.substr(0,e.selectionStart) + text + e.value.substr(e.selectionEnd);
		e.setSelectionRange(isRange ? oldpos : oldpos + text.length,oldpos + text.length);
		var linecount = e.value.split("\n").length;
		var thisline = e.value.substr(0,e.selectionStart).split("\n").length-1;
		e.scrollTop = Math.floor((thisline - e.rows / 2) * e.scrollHeight / linecount);
	} else if(document.selection) {
		var range = document.selection.createRange();
		if(range.parentElement() == e) {
			var isCollapsed = range.text == "";
			range.text = text;
			if(!isCollapsed) {
				range.moveStart("character", -text.length);
				range.select();
			}
		}
	}
}

// Set the caret position in a text area
function setCaretPosition(e,pos)
{
	if(e.selectionStart || e.selectionStart == '0') {
		e.selectionStart = pos;
		e.selectionEnd = pos;
		e.focus();
	} else if(document.selection) {
		// IE support
		e.focus ();
		var sel = document.selection.createRange();
		sel.moveStart('character', -e.value.length);
		sel.moveStart('character',pos);
		sel.moveEnd('character',0);
		sel.select();
	}
}

// Returns the text of the given (text) node, possibly merging subsequent text nodes
function getNodeText(e)
{
	var t = "";
	while(e && e.nodeName == "#text") {
		t += e.nodeValue;
		e = e.nextSibling;
	}
	return t;
}

// Returns true if the element e has a given ancestor element
function isDescendant(e,ancestor)
{
	while(e) {
		if(e === ancestor)
			return true;
		e = e.parentNode;
	}
	return false;
}


// deprecate the following...

// Prevent an event from bubbling
function stopEvent(e)
{
	var ev = e || window.event;
	ev.cancelBubble = true;
	if(ev.stopPropagation) ev.stopPropagation();
	return false;
}

// Remove any event handlers or non-primitve custom attributes
function scrubNode(e)
{
	if(!config.browser.isIE)
		return;
	var att = e.attributes;
	if(att) {
		var t;
		for(t=0; t<att.length; t++) {
			var n = att[t].name;
			if(n !== "style" && (typeof e[n] === "function" || (typeof e[n] === "object" && e[n] != null))) {
				try {
					e[n] = null;
				} catch(ex) {
				}
			}
		}
	}
	var c = e.firstChild;
	while(c) {
		scrubNode(c);
		c = c.nextSibling;
	}
}

function setStylesheet(s,id,doc)
{
	jQuery.twStylesheet(s,{id:id,doc:doc});
}

function removeStyleSheet(id)
{
	jQuery.twStylesheet.remove({id:id});
}

//--
//-- LoaderBase and SaverBase
//--

function LoaderBase() {}

LoaderBase.prototype.loadTiddler = function(store,node,tiddlers)
{
	var title = this.getTitle(store,node);
	if(safeMode && store.isShadowTiddler(title))
		return;
	if(title) {
		var tiddler = store.createTiddler(title);
		this.internalizeTiddler(store,tiddler,title,node);
		tiddlers.push(tiddler);
	}
};

LoaderBase.prototype.loadTiddlers = function(store,nodes)
{
	var t,tiddlers = [];
	for(t = 0; t < nodes.length; t++) {
		try {
			this.loadTiddler(store,nodes[t],tiddlers);
		} catch(ex) {
			showException(ex,config.messages.tiddlerLoadError.format([this.getTitle(store,nodes[t])]));
		}
	}
	return tiddlers;
};

function SaverBase() {}

SaverBase.prototype.externalize = function(store)
{
	var results = [];
	var t,tiddlers = store.getTiddlers("title");
	for(t = 0; t < tiddlers.length; t++) {
		if(!tiddlers[t].doNotSave())
			results.push(this.externalizeTiddler(store, tiddlers[t]));
	}
	return results.join("\n");
};

//--
//-- TW21Loader (inherits from LoaderBase)
//--

function TW21Loader() {}

TW21Loader.prototype = new LoaderBase();

TW21Loader.prototype.getTitle = function(store,node)
{
	var title = null;
	if(node.getAttribute) {
		title = node.getAttribute("title");
		if(!title)
			title = node.getAttribute("tiddler");
	}
	if(!title && node.id) {
		var lenPrefix = store.idPrefix.length;
		if(node.id.substr(0,lenPrefix) == store.idPrefix)
			title = node.id.substr(lenPrefix);
	}
	return title;
};

TW21Loader.prototype.internalizeTiddler = function(store,tiddler,title,node)
{
	var e = node.firstChild;
	var text = null;
	if(node.getAttribute("tiddler")) {
		text = getNodeText(e).unescapeLineBreaks();
	} else {
		while(e.nodeName!="PRE" && e.nodeName!="pre") {
			e = e.nextSibling;
		}
		text = e.innerHTML.replace(/\r/mg,"").htmlDecode();
	}
	var creator = node.getAttribute("creator");
	var modifier = node.getAttribute("modifier");
	var c = node.getAttribute("created");
	var m = node.getAttribute("modified");
	var created = c ? Date.convertFromYYYYMMDDHHMMSS(c) : version.date;
	var modified = m ? Date.convertFromYYYYMMDDHHMMSS(m) : created;
	var tags = node.getAttribute("tags");
	var fields = {};
	var i,attrs = node.attributes;
	for(i = attrs.length-1; i >= 0; i--) {
		var name = attrs[i].name;
		if(attrs[i].specified && !TiddlyWiki.isStandardField(name)) {
			fields[name] = attrs[i].value.unescapeLineBreaks();
		}
	}
	tiddler.assign(title,text,modifier,modified,tags,created,fields,creator);
	return tiddler;
};

//--
//-- TW21Saver (inherits from SaverBase)
//--

function TW21Saver() {}

TW21Saver.prototype = new SaverBase();

TW21Saver.prototype.externalizeTiddler = function(store,tiddler)
{
	try {
		var extendedAttributes = "";
		var usePre = config.options.chkUsePreForStorage;
		store.forEachField(tiddler,
			function(tiddler,fieldName,value) {
				// don't store stuff from the temp namespace
				if(typeof value != "string")
					value = "";
				if(!fieldName.match(/^temp\./))
					extendedAttributes += ' %0="%1"'.format([fieldName,value.escapeLineBreaks().htmlEncode()]);
			},true);
		var created = tiddler.created;
		var modified = tiddler.modified;
		var attributes = tiddler.creator ? ' creator="' + tiddler.creator.htmlEncode() + '"' : "";
		attributes += tiddler.modifier ? ' modifier="' + tiddler.modifier.htmlEncode() + '"' : "";
		attributes += (usePre && created == version.date) ? "" :' created="' + created.convertToYYYYMMDDHHMM() + '"';
		attributes += (usePre && modified == created) ? "" : ' modified="' + modified.convertToYYYYMMDDHHMM() +'"';
		var tags = tiddler.getTags();
		if(!usePre || tags)
			attributes += ' tags="' + tags.htmlEncode() + '"';
		return ('<div %0="%1"%2%3>%4</'+'div>').format([
				usePre ? "title" : "tiddler",
				tiddler.title.htmlEncode(),
				attributes,
				extendedAttributes,
				usePre ? "\n<pre>" + tiddler.text.htmlEncode() + "</pre>\n" : tiddler.text.escapeLineBreaks().htmlEncode()
			]);
	} catch (ex) {
		throw exceptionText(ex,config.messages.tiddlerSaveError.format([tiddler.title]));
	}
};



//]]>
</script>

<script id="jsdeprecatedArea" type="text/javascript">
//<![CDATA[
//--
//-- Deprecated Crypto functions and associated conversion routines.
//-- Use the jQuery.encoding functions directly instead.
//--

// Crypto 'namespace'
function Crypto() {}

// Convert a string to an array of big-endian 32-bit words
Crypto.strToBe32s = function(str)
{
	return jQuery.encoding.strToBe32s(str);
};

// Convert an array of big-endian 32-bit words to a string
Crypto.be32sToStr = function(be)
{
	return jQuery.encoding.be32sToStr(be);
};

// Convert an array of big-endian 32-bit words to a hex string
Crypto.be32sToHex = function(be)
{
	return jQuery.encoding.be32sToHex(be);
};

// Return, in hex, the SHA-1 hash of a string
Crypto.hexSha1Str = function(str)
{
	return jQuery.encoding.digests.hexSha1Str(str);
};

// Return the SHA-1 hash of a string
Crypto.sha1Str = function(str)
{
	return jQuery.encoding.digests.sha1Str(str);
};

// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
Crypto.sha1 = function(x,blen)
{
	return jQuery.encoding.digests.sha1(x,blen);
};

//--
//-- Deprecated code
//--

// @Deprecated: Use createElementAndWikify and this.termRegExp instead
config.formatterHelpers.charFormatHelper = function(w)
{
	w.subWikify(createTiddlyElement(w.output,this.element),this.terminator);
};

// @Deprecated: Use enclosedTextHelper and this.lookaheadRegExp instead
config.formatterHelpers.monospacedByLineHelper = function(w)
{
	var lookaheadRegExp = new RegExp(this.lookahead,"mg");
	lookaheadRegExp.lastIndex = w.matchStart;
	var lookaheadMatch = lookaheadRegExp.exec(w.source);
	if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
		var text = lookaheadMatch[1];
		if(config.browser.isIE)
			text = text.replace(/\n/g,"\r");
		createTiddlyElement(w.output,"pre",null,null,text);
		w.nextMatch = lookaheadRegExp.lastIndex;
	}
};

// @Deprecated: Use <br> or <br /> instead of <<br>>
config.macros.br = {};
config.macros.br.handler = function(place)
{
	createTiddlyElement(place,"br");
};

// Find an entry in an array. Returns the array index or null
// @Deprecated: Use indexOf instead
Array.prototype.find = function(item)
{
	var i = this.indexOf(item);
	return i == -1 ? null : i;
};

// Load a tiddler from an HTML DIV. The caller should make sure to later call Tiddler.changed()
// @Deprecated: Use store.getLoader().internalizeTiddler instead
Tiddler.prototype.loadFromDiv = function(divRef,title)
{
	return store.getLoader().internalizeTiddler(store,this,title,divRef);
};

// Format the text for storage in an HTML DIV
// @Deprecated Use store.getSaver().externalizeTiddler instead.
Tiddler.prototype.saveToDiv = function()
{
	return store.getSaver().externalizeTiddler(store,this);
};

// @Deprecated: Use store.allTiddlersAsHtml() instead
function allTiddlersAsHtml()
{
	return store.allTiddlersAsHtml();
}

// @Deprecated: Use refreshPageTemplate instead
function applyPageTemplate(title)
{
	refreshPageTemplate(title);
}

// @Deprecated: Use story.displayTiddlers instead
function displayTiddlers(srcElement,titles,template,unused1,unused2,animate,unused3)
{
	story.displayTiddlers(srcElement,titles,template,animate);
}

// @Deprecated: Use story.displayTiddler instead
function displayTiddler(srcElement,title,template,unused1,unused2,animate,unused3)
{
	story.displayTiddler(srcElement,title,template,animate);
}

// @Deprecated: Use functions on right hand side directly instead
var createTiddlerPopup = Popup.create;
var scrollToTiddlerPopup = Popup.show;
var hideTiddlerPopup = Popup.remove;

// @Deprecated: Use right hand side directly instead
var regexpBackSlashEn = new RegExp("\\\\n","mg");
var regexpBackSlash = new RegExp("\\\\","mg");
var regexpBackSlashEss = new RegExp("\\\\s","mg");
var regexpNewLine = new RegExp("\n","mg");
var regexpCarriageReturn = new RegExp("\r","mg");

//--
//-- Deprecated FileAdaptor functions
//--

FileAdaptor.loadTiddlyWikiCallback = function(status,context,responseText,url,xhr)
{
	context.status = status;
	if(!status) {
		context.statusText = "Error reading file";
	} else {
		context.adaptor.store = new TiddlyWiki();
		if(!context.adaptor.store.importTiddlyWiki(responseText)) {
			context.statusText = config.messages.invalidFileError.format([url]);
			context.status = false;
		}
	}
	context.complete(context,context.userParams);
};

//--
//-- Deprecated HTTP request code
//-- Use the jQuery ajax functions directly instead
//--

function loadRemoteFile(url,callback,params)
{
	return httpReq("GET",url,callback,params);
}

function doHttp(type,url,data,contentType,username,password,callback,params,headers,allowCache)
{
	return httpReq(type,url,callback,params,headers,data,contentType,username,password,allowCache);
}

//--
//-- Deprecated String functions
//--

// @Deprecated: no direct replacement, since not used in core code
String.prototype.toJSONString = function()
{
	// Convert a string to it's JSON representation by encoding control characters, double quotes and backslash. See json.org
	var m = {
		'\b': '\\b',
		'\f': '\\f',
		'\n': '\\n',
		'\r': '\\r',
		'\t': '\\t',
		'"' : '\\"',
		'\\': '\\\\'
		};
	var replaceFn = function(a,b) {
		var c = m[b];
		if(c)
			return c;
		c = b.charCodeAt();
		return '\\u00' + Math.floor(c / 16).toString(16) + (c % 16).toString(16);
		};
	if(/["\\\x00-\x1f]/.test(this))
		return '"' + this.replace(/([\x00-\x1f\\"])/g,replaceFn) + '"';
	return '"' + this + '"';
};

//--
//-- Deprecated Tiddler code
//--

// @Deprecated: Use tiddlerToRssItem(tiddler,uri) instead
Tiddler.prototype.toRssItem = function(uri)
{
	return tiddlerToRssItem(this,uri);
};

// @Deprecated: Use "<item>\n" + tiddlerToRssItem(tiddler,uri)  + "\n</item>" instead
Tiddler.prototype.saveToRss = function(uri)
{
	return "<item>\n" + tiddlerToRssItem(this,uri) + "\n</item>";
};

// @Deprecated: Use jQuery.encoding.digests.hexSha1Str instead
Tiddler.prototype.generateFingerprint = function()
{
	return "0x" + Crypto.hexSha1Str(this.text);
};

//--
//-- Deprecated Number functions
//--

// @Deprecated: no direct replacement, since not used in core code
// Clamp a number to a range
Number.prototype.clamp = function(min,max)
{
	var c = this;
	if(c < min)
		c = min;
	if(c > max)
		c = max;
	return Number(c);
};

//--
//-- Deprecated utility functions
//-- Use the jQuery functions directly instead
//--

// Remove all children of a node
function removeChildren(e)
{
	jQuery(e).empty();
}

// Remove a node and all it's children
function removeNode(e)
{
	jQuery(e).remove();
}

// Return the content of an element as plain text with no formatting
function getPlainText(e)
{
	return jQuery(e).text();
}

function addClass(e,className)
{
	jQuery(e).addClass(className);
}

function removeClass(e,className)
{
	jQuery(e).removeClass(className);
}

function hasClass(e,className)
{
	return jQuery(e).hasClass(className);
}

//--
//-- Deprecated Wikifier code
//--

function wikifyPlain(title,theStore,limit)
{
	if(!theStore)
		theStore = store;
	if(theStore.tiddlerExists(title) || theStore.isShadowTiddler(title)) {
		return wikifyPlainText(theStore.getTiddlerText(title),limit,tiddler);
	} else {
		return "";
	}
}


//]]>
</script>
<script id="jslibArea" type="text/javascript">
//<![CDATA[
/*! jQuery v1.8.3 jquery.com | jquery.org/license */
(function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(P,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t==="data"&&v.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){return e=t||e,v.css(e,"display")==="none"||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&Gt(n)&&(i[s]=v._data(n,"olddisplay",nn(n.nodeName)))):(r=Dt(n,"display"),!i[s]&&r!=="none"&&v._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function en(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=v.css(e,n+$t[i],!0)),r?(n==="content"&&(s-=parseFloat(Dt(e,"padding"+$t[i]))||0),n!=="margin"&&(s-=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0)):(s+=parseFloat(Dt(e,"padding"+$t[i]))||0,n!=="padding"&&(s+=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0));return s}function tn(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+en(e,t,n||(s?"border":"content"),i)+"px"}function nn(e){if(Wt[e])return Wt[e];var t=v("<"+e+">").appendTo(i.body),n=t.css("display");t.remove();if(n==="none"||n===""){Pt=i.body.appendChild(Pt||v.extend(i.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write("<!doctype html><html><body>"),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,"display"),i.body.removeChild(Pt)}return Wt[e]=n,n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&v.type(t)==="object")for(i in t)fn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=kn(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=kn(e,n,r,i,"*",o)),u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $n(){return setTimeout(function(){qn=t},0),qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,i=1-r,s=0,o=f.tweens.length;for(;s<o;s++)f.tweens[s].run(i);return u.notifyWith(e,[f,i,n]),i<1&&o?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i<o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}return Jn(f,l),v.isFunction(f.opts.start)&&f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},m=[],g=e.nodeType&&Gt(e);n.queue||(l=v._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,v.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],v.css(e,"display")==="inline"&&v.css(e,"float")==="none"&&(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",v.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Un.exec(s)){delete t[r],a=a||s==="toggle";if(s===(g?"hide":"show"))continue;m.push(r)}}o=m.length;if(o){u=v._data(e,"fxshow")||v._data(e,"fxshow",{}),"hidden"in u&&(g=u.hidden),a&&(u.hidden=!g),g?v(e).show():h.done(function(){v(e).hide()}),h.done(function(){var t;v.removeData(e,"fxshow",!0);for(t in d)v.style(e,t,d[t])});for(r=0;r<o;r++)i=m[r],f=h.createTween(i,g?u[i]:0),d[i]=u[i]||v.style(e,i),i in u||(u[i]=f.start,g&&(f.end=f.start,f.start=i==="width"||i==="height"?1:0))}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=$t[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+"").toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",A,!1),v.ready()):i.readyState==="complete"&&(i.detachEvent("onreadystatechange",A),v.ready())},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),"slice",l.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!v.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&&v.isArray(r)?r:[]):o=r&&v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&&(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&&(e.$=a),t&&e.jQuery===v&&(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]),v.fn.trigger&&v(i).trigger("ready").off("ready")},isFunction:function(e){return v.type(e)==="function"},isArray:Array.isArray||function(e){return v.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||"object"},isPlainObject:function(e){if(!e||v.type(e)!=="object"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,"@").replace(N,"]").replace(x,"")))return(new Function("return "+t))();v.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&v.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&&!d.call("\ufeff\u00a0")?function(e){return e==null?"":d.call(e)}:function(e){return e==null?"":(e+"").replace(b,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=v.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState==="complete")setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",v.ready,!1);else{i.attachEvent("onreadystatechange",A),e.attachEvent("onload",v.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return v.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?l.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value==="on",optSelected:o.selected,getSetAttribute:p.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",h)),u=i.createElement("input"),u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","checked"),u.setAttribute("name","t"),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f="on"+l,c=f in p,c||(p.setAttribute(f,"return;"),c=typeof p[f]=="function"),t[l+"Bubbles"]=c;return v(function(){var n,r,s,o,u="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=i.getElementsByTagName("body")[0];if(!a)return;n=i.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),r=i.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=r.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",o=i.createElement("div"),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(v.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n=="string",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||v.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[v.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")||(o=v.camelCase(o.substring(5)),H(a,o,l[o]));v._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){v.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",v.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=v.data(a,e),l=H(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler("setData"+i,r),v.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=v._data(e,t),n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v._data(e,n)||v._data(e,n,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=v._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(q," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>=0)r=r.replace(" "+n[s]+" "," ");i.className=e?v.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&v._data(this,"__className__",this.className),this.className=this.className||e===!1?"":v._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(R,""):r==null?"":r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":v.isArray(s)&&(s=v.map(s,function(e){return e==null?"":e+""})),n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(v.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!v.nodeName(n.parentNode,"optgroup"))){t=v(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=v.makeArray(t);return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute=="undefined")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&&(n=n.toLowerCase(),o=v.attrHooks[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++)i=r[o],i&&(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,""),e.removeAttribute(V?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed");else if(!v.support.radioValue&&t==="radio"&&v.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&v.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,"button"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&&(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(I[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},v.each(["width","height"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===""&&(t="false"),j.set(e,t,n)}}),v.support.hrefNormalized||v.each(["href","src","width","height"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype="encoding"),v.support.checkOn||v.each(["radio","checkbox"],function(){v.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v=="undefined"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(" ");for(f=0;f<n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&v.expr.match.needsContext.test(s),namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||"")).split(" ");for(s=0;s<t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)m=d[c],(i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r==="**"&&m.selector)&&(d.splice(c--,1),m.selector&&d.delegateCount--,p.remove&&p.remove.call(e,m));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&&(delete g.handle,v.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf("!")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf(".")>=0&&(b=y.split("."),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n=="object"?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=y.indexOf(":")<0?"on"+y:"";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,"events")||{})[n.type]&&v._data(l,"handle"),d&&d.apply(l,r),d=h&&l[h],d&&v.acceptData(l)&&d.apply&&d.apply(l,r)===!1&&n.preventDefault();return n.type=y,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!=="click"||!v.nodeName(s,"a"))&&v.acceptData(s)&&h&&s[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!v.isWindow(s)&&(c=s[h],c&&(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&&(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,c,h,p,d=(v._data(this,"events")||{})[n.type]||[],m=d.delegateCount,g=l.call(arguments),y=!n.exclusive&&!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n,n.delegateTarget=this;if(b.preDispatch&&b.preDispatch.call(this,n)===!1)return;if(m&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<m;r++)c=d[r],h=c.selector,u[h]===t&&(u[h]=c.needsContext?v(h,this).index(s)>=0:v.find(h,this,null,[s]).length),u[h]&&f.push(c);f.length&&w.push({elem:s,matches:f})}d.length>m&&w.push({elem:this,matches:d.slice(m)});for(r=0;r<w.length&&!n.isPropagationStopped();r++){a=w[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){c=a.matches[i];if(y||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))n.data=c.data,n.handleObj=c,o=((v.event.special[c.origType]||{}).handle||c.handler).apply(a.elem,g),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return b.postDispatch&&b.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt:et):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,"form"))return!1;v.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=v.nodeName(n,"input")||v.nodeName(n,"button")?n.form:t;r&&!v._data(r,"_submit_attached")&&(v.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),v._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&v.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,"form"))return!1;v.event.remove(this,"._submit")}}),v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")v.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),v.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),v.event.simulate("change",this,e,!0)});return!1}v.event.add(this,"beforeactivate._change",function(e){var t=e.target;$.test(t.nodeName)&&!v._data(t,"_change_attached")&&(v.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate("change",this.parentNode,e,!0)}),v._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,"._change"),!$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&&(o=i,i=function(e){return v().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=et),this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,"lastToggle"+e.guid)||0)%r;return v._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function nt(e,t,n,r){n=n||[],t=t||g;var i,s,a,f,l=t.nodeType;if(!e||typeof e!="string")return n;if(l!==1&&l!==9)return[];a=o(t);if(!a&&!r)if(i=R.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(f))&&u(t,s)&&s.id===f)return n.push(s),n}else{if(i[2])return S.apply(n,x.call(t.getElementsByTagName(e),0)),n;if((f=i[3])&&Z&&t.getElementsByClassName)return S.apply(n,x.call(t.getElementsByClassName(f),0)),n}return vt(e.replace(j,"$1"),t,n,r,a)}function rt(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function it(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function st(e){return N(function(t){return t=+t,N(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ot(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function ut(e,t){var n,r,s,o,u,a,f,l=L[d][e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=F.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=I.exec(u))s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=r[0].replace(j," ");for(o in i.filter)(r=J[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?u.length:u?nt.error(e):L(e,a).slice(0)}function at(e,t,r){var i=t.dir,s=r&&t.dir==="parentNode",o=w++;return t.first?function(t,n,r){while(t=t[i])if(s||t.nodeType===1)return e(t,n,r)}:function(t,r,u){if(!u){var a,f=b+" "+o+" ",l=f+n;while(t=t[i])if(s||t.nodeType===1){if((a=t[d])===l)return t.sizset;if(typeof a=="string"&&a.indexOf(f)===0){if(t.sizset)return t}else{t[d]=l;if(e(t,r,u))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[i])if(s||t.nodeType===1)if(e(t,r,u))return t}}function ft(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function lt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function ct(e,t,n,r,i,s){return r&&!r[d]&&(r=ct(r)),i&&!i[d]&&(i=ct(i,s)),N(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||dt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?lt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=lt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?T.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=lt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):S.apply(o,g)})}function ht(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,f=at(function(e){return e===t},u,!0),l=at(function(e){return T.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==c)||((t=n).nodeType?f(e,n,r):l(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[at(ft(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[d]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return ct(a>1&&ft(h),a>1&&e.slice(0,a-1).join("").replace(j,"$1"),n,a<r&&ht(e.slice(a,r)),r<s&&ht(e=e.slice(r)),r<s&&e.join(""))}h.push(n)}return ft(h)}function pt(e,t){var r=t.length>0,s=e.length>0,o=function(u,a,f,l,h){var p,d,v,m=[],y=0,w="0",x=u&&[],T=h!=null,N=c,C=u||s&&i.find.TAG("*",h&&a.parentNode||a),k=b+=N==null?1:Math.E;T&&(c=a!==g&&a,n=o.el);for(;(p=C[w])!=null;w++){if(s&&p){for(d=0;v=e[d];d++)if(v(p,a,f)){l.push(p);break}T&&(b=k,n=++o.el)}r&&((p=!v&&p)&&y--,u&&x.push(p))}y+=w;if(r&&w!==y){for(d=0;v=t[d];d++)v(x,m,a,f);if(u){if(y>0)while(w--)!x[w]&&!m[w]&&(m[w]=E.call(l));m=lt(m)}S.apply(l,m),T&&!u&&m.length>0&&y+t.length>1&&nt.uniqueSort(l)}return T&&(b=k,c=N),x};return o.el=0,r?N(o):o}function dt(e,t,n){var r=0,i=t.length;for(;r<i;r++)nt(e,t[r],n);return n}function vt(e,t,n,r,s){var o,u,f,l,c,h=ut(e),p=h.length;if(!r&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&t.nodeType===9&&!s&&i.relative[u[1].type]){t=i.find.ID(f.matches[0].replace($,""),t,s)[0];if(!t)return n;e=e.slice(u.shift().length)}for(o=J.POS.test(e)?-1:u.length-1;o>=0;o--){f=u[o];if(i.relative[l=f.type])break;if(c=i.find[l])if(r=c(f.matches[0].replace($,""),z.test(u[0].type)&&t.parentNode||t,s)){u.splice(o,1),e=r.length&&u.join("");if(!e)return S.apply(n,x.call(r,0)),n;break}}}return a(e,h)(r,t,s,n,z.test(e)),n}function mt(){}var n,r,i,s,o,u,a,f,l,c,h=!0,p="undefined",d=("sizcache"+Math.random()).replace(".",""),m=String,g=e.document,y=g.documentElement,b=0,w=0,E=[].pop,S=[].push,x=[].slice,T=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},N=function(e,t){return e[d]=t==null||t,e},C=function(){var e={},t=[];return N(function(n,r){return t.push(n)>i.cacheLength&&delete e[t.shift()],e[n+" "]=r},e)},k=C(),L=C(),A=C(),O="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",_=M.replace("w","w#"),D="([*^$|!~]?=)",P="\\["+O+"*("+M+")"+O+"*(?:"+D+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+_+")|)|)"+O+"*\\]",H=":("+M+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+P+")|[^:]|\\\\.)*|.*))\\)|)",B=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)",j=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),F=new RegExp("^"+O+"*,"+O+"*"),I=new RegExp("^"+O+"*([\\x20\\t\\r\\n\\f>+~])"+O+"*"),q=new RegExp(H),R=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,U=/^:not/,z=/[\x20\t\r\n\f]*[+~]/,W=/:not\($/,X=/h\d/i,V=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),NAME:new RegExp("^\\[name=['\"]?("+M+")['\"]?\\]"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+H),POS:new RegExp(B,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),needsContext:new RegExp("^"+O+"*[>+~]|"+B,"i")},K=function(e){var t=g.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},Q=K(function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length}),G=K(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==p&&e.firstChild.getAttribute("href")==="#"}),Y=K(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),Z=K(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),et=K(function(e){e.id=d+0,e.innerHTML="<a name='"+d+"'></a><div name='"+d+"'></div>",y.insertBefore(e,y.firstChild);var t=g.getElementsByName&&g.getElementsByName(d).length===2+g.getElementsByName(d+0).length;return r=!g.getElementById(d),y.removeChild(e),t});try{x.call(y.childNodes,0)[0].nodeType}catch(tt){x=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}nt.matches=function(e,t){return nt(e,null,null,t)},nt.matchesSelector=function(e,t){return nt(t,null,null,[e]).length>0},s=nt.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},o=nt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},u=nt.contains=y.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:y.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},nt.attr=function(e,t){var n,r=o(e);return r||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):r||Y?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},i=nt.selectors={cacheLength:50,createPseudo:N,match:J,attrHandle:G?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==p&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:et&&function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:Z&&function(e,t,n){if(typeof t.getElementsByClassName!==p&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||nt.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&nt.error(e[0]),e},PSEUDO:function(e){var t,n;if(J.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])q.test(t)&&(n=ut(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:r?function(e){return e=e.replace($,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace($,""),function(t){var n=typeof t.getAttributeNode!==p&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace($,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[d][e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==p&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r,i){var s=nt.attr(r,e);return s==null?t==="!=":t?(s+="",t==="="?s===n:t==="!="?s!==n:t==="^="?n&&s.indexOf(n)===0:t==="*="?n&&s.indexOf(n)>-1:t==="$="?n&&s.substr(s.length-n.length)===n:t==="~="?(" "+s+" ").indexOf(n)>-1:t==="|="?s===n||s.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r){return e==="nth"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||nt.error("unsupported pseudo: "+e);return r[d]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?N(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=T.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:N(function(e){var t=[],n=[],r=a(e.replace(j,"$1"));return r[d]?N(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:N(function(e){return function(t){return nt(e,t).length>0}}),contains:N(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!i.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:rt("radio"),checkbox:rt("checkbox"),file:rt("file"),password:rt("password"),image:rt("image"),submit:it("submit"),reset:it("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return V.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:st(function(){return[0]}),last:st(function(e,t){return[t-1]}),eq:st(function(e,t,n){return[n<0?n+t:n]}),even:st(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:st(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:st(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:st(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},f=y.compareDocumentPosition?function(e,t){return e===t?(l=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return ot(e,t);if(!o)return-1;if(!u)return 1;while(a)i.unshift(a),a=a.parentNode;a=u;while(a)s.unshift(a),a=a.parentNode;n=i.length,r=s.length;for(var f=0;f<n&&f<r;f++)if(i[f]!==s[f])return ot(i[f],s[f]);return f===n?ot(e,s[f],-1):ot(i[f],t,1)},[0,0].sort(f),h=!l,nt.uniqueSort=function(e){var t,n=[],r=1,i=0;l=h,e.sort(f);if(l){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},nt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a=nt.compile=function(e,t){var n,r=[],i=[],s=A[d][e+" "];if(!s){t||(t=ut(e)),n=t.length;while(n--)s=ht(t[n]),s[d]?r.push(s):i.push(s);s=A(e,pt(i,r))}return s},g.querySelectorAll&&function(){var e,t=vt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[":focus"],s=[":active"],u=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.oMatchesSelector||y.msMatchesSelector;K(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+O+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),K(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+O+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=new RegExp(i.join("|")),vt=function(e,r,s,o,u){if(!o&&!u&&!i.test(e)){var a,f,l=!0,c=d,h=r,p=r.nodeType===9&&e;if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){a=ut(e),(l=r.getAttribute("id"))?c=l.replace(n,"\\$&"):r.setAttribute("id",c),c="[id='"+c+"'] ",f=a.length;while(f--)a[f]=c+a[f].join("");h=z.test(e)&&r.parentNode||r,p=a.join(",")}if(p)try{return S.apply(s,x.call(h.querySelectorAll(p),0)),s}catch(v){}finally{l||r.removeAttribute("id")}}return t(e,r,s,o,u)},u&&(K(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),s.push("!=",H)}catch(n){}}),s=new RegExp(s.join("|")),nt.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!o(t)&&!s.test(n)&&!i.test(n))try{var a=u.call(t,n);if(a||e||t.document&&t.document.nodeType!==11)return a}catch(f){}return nt(n,null,null,[t]).length>0})}(),i.pseudos.nth=i.pseudos.eq,i.filters=mt.prototype=i.pseudos,i.setFilters=new mt,nt.attr=v.attr,v.find=nt,v.expr=nt.selectors,v.expr[":"]=v.expr.pseudos,v.unique=nt.uniqueSort,v.text=nt.getText,v.isXMLDoc=nt.isXML,v.contains=nt.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ft(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?st.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!="string"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?v.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,n){return v.dir(e,"parentNode",n)},next:function(e){return at(e,"nextSibling")},prev:function(e){return at(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,n){return v.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return v.dir(e,"previousSibling",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&&typeof r=="string"&&(i=v.filter(r,i)),i=this.length>1&&!ot[e]?v.unique(i):i,this.length>1&&rt.test(e)&&(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(","))}}),v.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ht=/ jQuery\d+="(?:null|\d+)"/g,pt=/^\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vt=/<([\w:]+)/,mt=/<tbody/i,gt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),Et=/^(?:checkbox|radio)$/,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ct=lt(i),kt=Ct.appendChild(i.createElement("div"));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&&n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),v.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,""):t;if(typeof e=="string"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(dt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&c>1&&typeof f=="string"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,"tr");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],"table")?Lt(this[a],"tbody"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&&v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof a=="string"&&a.length<512&&n===i&&a.charAt(0)==="<"&&!bt.test(a)&&(v.support.checkClone||!St.test(a))&&(v.support.html5Clone||!wt.test(a))&&(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&&(v.fragments[a]=u&&s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&&Ct,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=i;for(s=0;(u=e[s])!=null;s++){typeof u=="number"&&(u+="");if(!u)continue;if(typeof u=="string")if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t),c=t.createElement("div"),y.appendChild(c),u=u.replace(dt,"<$1></$2>"),a=(vt.exec(u)||["",""])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a==="table"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]==="<table>"&&!h?c.childNodes:[];for(o=p.length-1;o>=0;--o)v.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&&(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,"input")?_t(u):typeof u.getElementsByTagName!="undefined"&&v.grep(u.getElementsByTagName("input"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,"script")||!m(u))n.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(g=v.grep(v.merge([],u.getElementsByTagName("script")),m),b.splice.apply(b,[s+1,0].concat(g)),s+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=v.uaMatch(o.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&&i instanceof v&&!(i instanceof e)&&(i=e(i)),v.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp("^("+m+")(.*)$","i"),Ut=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),zt=new RegExp("^([-+])=("+m+")","i"),Wt={BODY:"block"},Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},$t=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e=="boolean";return v.isFunction(e)&&v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=zt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!v.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=Dt(e,n)),s==="normal"&&n in Vt&&(s=Vt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u.getPropertyValue(n)||u[n],r===""&&!v.contains(t.ownerDocument,t)&&(r=v.style(t,n)),Ut.test(r)&&qt.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),Ut.test(i)&&!Ft.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&It.test(Dt(e,"display"))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&&v.css(e,"boxSizing")==="border-box"):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+" "+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Dt(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+"px":r}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}},qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\[\]$/,on=/\r?\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join("&").replace(rn,"+")};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/\?/,yn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=["*/"]+["*"];try{cn=s.href}catch(Nn){cn=i.createElement("a"),cn.href="",cn=cn.href}ln=wn.exec(cn.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!="string"&&En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),v.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v("<div>").append(e.replace(yn,"")).find(i):e)}),this},v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each(["get","post"],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&&(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.get(e,t,n,"script")},getJSON:function(e,t,n){return v.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Ln(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),Ln(e,t),e},ajaxSettings:{url:cn,isLocal:dn.test(ln[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),o=t,i=a||"",x.readyState=e>0?4:0,s&&(w=An(c,x,s));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(v.lastModified[r]=S),S=x.getResponseHeader("Etag"),S&&(v.etag[r]=S)),e===304?(T="notmodified",l=!0):(l=On(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&&p.trigger("ajax"+(l?"Success":"Error"),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--v.active||v.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks("once memory"),g=c.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=e||S,o&&o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+"").replace(hn,"").replace(mn,ln[1]+"//"),c.dataTypes=v.trim(c.dataType||"*").toLowerCase().split(y),c.crossDomain==null&&(a=wn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===ln[1]&&a[2]===ln[2]&&(a[3]||(a[1]==="http:"?80:443))==(ln[3]||(ln[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=v.param(c.data,c.traditional)),kn(Sn,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),f&&v.active++===0&&v.event.trigger("ajaxStart");if(!c.hasContent){c.data&&(c.url+=(gn.test(c.url)?"&":"?")+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,"$1_="+N);c.url=C+(C===c.url?(gn.test(c.url)?"&":"?")+"_="+N:"")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(r=r||c.url,v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Tn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\?/,Dn=/(=)\?(?=&|$)|\?\?/,Pn=v.now();v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||v.expando+"_"+Pn++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&Dn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(Dn,"$1"+s):h?n.data=a.replace(Dn,"$1"+s):l&&(n.url+=(_n.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||v.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Mn.push(s)),u&&v.isFunction(o)&&o(u[0]),u=o=t}),"script"}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),v.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(s,o){n=i.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Fn()||In()}:Fn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(v.ajaxSettings.xhr()),v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=v.noop,Bn&&delete Hn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(p){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++jn,Bn&&(Hn||(Hn={},v(e).unload(Bn)),Hn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),Wn=/queueHooks$/,Xn=[Gn],Vn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=zn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(v.cssNumber[e]?"":"px");if(r!=="px"&&u){u=v.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,v.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};v.Animation=v.extend(Kn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Vn[n]=Vn[n]||[],Vn[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),v.Tween=Yn,Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?"":"px")},cur:function(){var e=Yn.propHooks[this.prop];return e&&e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yn.propHooks._default.set(this),this}},Yn.prototype.init.prototype=Yn.prototype,Yn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Wn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&v.dequeue(this,e)})}}),v.each({slideDown:Zn("show"),slideUp:Zn("hide"),slideToggle:Zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&&typeof e=="object"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Yn.prototype.init,v.fx.tick=function(){var e,n=v.timers,r=0;qn=v.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||v.fx.stop(),qn=t},v.fx.timer=function(e){e()&&v.timers.push(e)&&!Rn&&(Rn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(Rn),Rn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;return(r=c.body)===l?v.offset.bodyOffset(l):(n=c.documentElement,v.contains(n,l)?(typeof l.getBoundingClientRect!="undefined"&&(f=l.getBoundingClientRect()),i=tr(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,"marginTop"))||0,n+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,"position");r==="static"&&(e.style.position="relative");var i=v(e),s=i.offset(),o=v.css(e,"top"),u=v.css(e,"left"),a=(r==="absolute"||r==="fixed")&&v.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,"marginTop"))||0,n.left-=parseFloat(v.css(e,"marginLeft"))||0,r.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&&!er.test(e.nodeName)&&v.css(e,"position")==="static")e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,n){v.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=v,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return v})})(window);
//]]>
</script>
<script id="jqueryArea" type="text/javascript">
//<![CDATA[
/*
jQuery.encoding.digests.sha1.js

SHA-1 digest and associated utility functions

Copyright (c) UnaMesa Association 2009

Dual licensed under the MIT and GPL licenses:
  http://www.opensource.org/licenses/mit-license.php
  http://www.gnu.org/licenses/gpl.html
*/

(function($) {

if(!$.encoding)
	$.encoding = {};
	$.extend($.encoding,{
		strToBe32s: function(str) {
			// Convert a string to an array of big-endian 32-bit words
			var be=[];
			var len=Math.floor(str.length/4);
			var i, j;
			for(i=0, j=0; i<len; i++, j+=4) {
				be[i]=((str.charCodeAt(j)&0xff) << 24)|((str.charCodeAt(j+1)&0xff) << 16)|((str.charCodeAt(j+2)&0xff) << 8)|(str.charCodeAt(j+3)&0xff);
			}
			while(j<str.length) {
				be[j>>2] |= (str.charCodeAt(j)&0xff)<<(24-(j*8)%32);
				j++;
			}
			return be;
		},
		be32sToStr: function(be) {
			// Convert an array of big-endian 32-bit words to a string
			var str='';
			for(var i=0;i<be.length*32;i+=8) {
				str += String.fromCharCode((be[i>>5]>>>(24-i%32)) & 0xff);
			}
			return str;
		},
		be32sToHex: function(be) {
			// Convert an array of big-endian 32-bit words to a hex string
			var hex='0123456789ABCDEF';
			var str='';
			for(var i=0;i<be.length*4;i++) {
				str += hex.charAt((be[i>>2]>>((3-i%4)*8+4))&0xF) + hex.charAt((be[i>>2]>>((3-i%4)*8))&0xF);
			}
			return str;
		}
	});
})(jQuery);


(function($) {

if(!$.encoding.digests)
	$.encoding.digests = {};
	$.extend($.encoding.digests,{
		hexSha1Str: function(str) {
			// Return, in hex, the SHA-1 hash of a string
			return $.encoding.be32sToHex($.encoding.digests.sha1Str(str));
		},
		sha1Str: function(str) {
			// Return the SHA-1 hash of a string
			return sha1($.encoding.strToBe32s(str),str.length);
		},
		sha1: function(x,blen) {
			// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
			return sha1($.encoding.strToBe32s(str),str.length);
		}
	});

	// Private functions.
	function sha1(x,blen) {
		// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
		function add32(a,b) {
			// Add 32-bit integers, wrapping at 32 bits
			// Uses 16-bit operations internally to work around bugs in some JavaScript interpreters.
			var lsw=(a&0xFFFF)+(b&0xFFFF);
			var msw=(a>>16)+(b>>16)+(lsw>>16);
			return (msw<<16)|(lsw&0xFFFF);
		}
		function AA(a,b,c,d,e) {
			// Cryptographic round helper function. Add five 32-bit integers, wrapping at 32 bits, second parameter is rotated left 5 bits before the addition
			// Uses 16-bit operations internally to work around bugs in some JavaScript interpreters.
			b=(b>>>27)|(b<<5);
			var lsw=(a&0xFFFF)+(b&0xFFFF)+(c&0xFFFF)+(d&0xFFFF)+(e&0xFFFF);
			var msw=(a>>16)+(b>>16)+(c>>16)+(d>>16)+(e>>16)+(lsw>>16);
			return (msw<<16)|(lsw&0xFFFF);
		}
		function RR(w,j) {
			// Cryptographic round helper function.
			var n=w[j-3]^w[j-8]^w[j-14]^w[j-16];
			return (n>>>31)|(n<<1);
		}

		var len=blen*8;
		x[len>>5] |= 0x80 << (24-len%32);
		x[((len+64>>9)<<4)+15]=len;
		var w=new Array(80);

		var k1=0x5A827999;
		var k2=0x6ED9EBA1;
		var k3=0x8F1BBCDC;
		var k4=0xCA62C1D6;

		var h0=0x67452301;
		var h1=0xEFCDAB89;
		var h2=0x98BADCFE;
		var h3=0x10325476;
		var h4=0xC3D2E1F0;

		for(var i=0;i<x.length;i+=16) {
			var j=0;
			var t;
			var a=h0;
			var b=h1;
			var c=h2;
			var d=h3;
			var e=h4;
			while(j<16) {
				w[j]=x[i+j];
				t=AA(e,a,d^(b&(c^d)),w[j],k1);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<20) {
				w[j]=RR(w,j);
				t=AA(e,a,d^(b&(c^d)),w[j],k1);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<40) {
				w[j]=RR(w,j);
				t=AA(e,a,b^c^d,w[j],k2);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<60) {
				w[j]=RR(w,j);
				t=AA(e,a,(b&c)|(d&(b|c)),w[j],k3);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<80) {
				w[j]=RR(w,j);
				t=AA(e,a,b^c^d,w[j],k4);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			h0=add32(h0,a);
			h1=add32(h1,b);
			h2=add32(h2,c);
			h3=add32(h3,d);
			h4=add32(h4,e);
		}
		return [h0,h1,h2,h3,h4];
	}
})(jQuery);
/*
jQuery.twStylesheet.js

jQuery plugin to dynamically insert CSS rules into a document

Usage:
  jQuery.twStylesheet applies style definitions
  jQuery.twStylesheet.remove neutralizes style definitions

Copyright (c) UnaMesa Association 2009

Triple licensed under the BSD, MIT and GPL licenses:
  http://www.opensource.org/licenses/bsd-license.php
  http://www.opensource.org/licenses/mit-license.php
  http://www.gnu.org/licenses/gpl.html
*/

(function($) {

var defaultId = "customStyleSheet"; // XXX: rename to dynamicStyleSheet?

// Add or replace a style sheet
// css argument is a string of CSS rule sets
// options.id is an optional name identifying the style sheet
// options.doc is an optional document reference
// N.B.: Uses DOM methods instead of jQuery to ensure cross-browser comaptibility.
$.twStylesheet = function(css, options) {
	options = options || {};
	var id = options.id || defaultId;
	var doc = options.doc || document;
	var el = doc.getElementById(id);
	if(doc.createStyleSheet) { // IE-specific handling
		if(el) {
			el.parentNode.removeChild(el);
		}
		doc.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd",
			'&nbsp;<style id="' + id + '" type="text/css">' + css + '</style>'); // fails without &nbsp;
	} else { // modern browsers
		if(el) {
			el.replaceChild(doc.createTextNode(css), el.firstChild);
		} else {
			el = doc.createElement("style");
			el.type = "text/css";
			el.id = id;
			el.appendChild(doc.createTextNode(css));
			doc.getElementsByTagName("head")[0].appendChild(el);
		}
	}
};

// Remove existing style sheet
// options.id is an optional name identifying the style sheet
// options.doc is an optional document reference
$.twStylesheet.remove = function(options) {
	options = options || {};
	var id = options.id || defaultId;
	var doc = options.doc || document;
	var el = doc.getElementById(id);
	if(el) {
		el.parentNode.removeChild(el);
	}
};

})(jQuery);

//]]>
</script>
<script type="text/javascript">
//<![CDATA[
if(useJavaSaver)
	document.write("<applet style='position:absolute;left:-1px' name='TiddlySaver' code='TiddlySaver.class' archive='TiddlySaver.jar' width='1' height='1'></applet>");
//]]>
</script>
<!--POST-SCRIPT-START-->

<!--POST-SCRIPT-END-->
</body>
</html>
